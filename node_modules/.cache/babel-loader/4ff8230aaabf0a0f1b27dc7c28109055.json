{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0410\\u043B\\u0435\\u043A\\u0441\\u0430\\u043D\\u0434\\u0440\\\\Desktop\\\\Vitec\\\\Coding\\\\React\\\\seemetrix\\\\src\\\\components\\\\GetData.jsx\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass GetData extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: '',\n      monday: {\n        young: 0\n      },\n      tuesday: {\n        young: 0\n      },\n      wednesday: {\n        young: 0\n      },\n      thursday: {\n        young: 0\n      },\n      friday: {\n        young: 0\n      },\n      saturday: {\n        young: 0\n      },\n      sunday: {\n        young: 0\n      }\n    };\n    this.getViewByWeekDay = this.getViewByWeekDay.bind(this);\n    this.distrViewByAge = this.distrViewByAge.bind(this);\n  }\n\n  distrViewByAge(obj, viewByAge) {\n    let view = { ...obj\n    };\n    view.adult += viewByAge.o[0].v;\n    view.kid += viewByAge.o[1].v;\n    view.old += viewByAge.o[2].v;\n    view.undefined += viewByAge.o[3].v;\n    view.young += viewByAge.o[4].v;\n    return view;\n  }\n\n  distrViewByWeekDay(data) {\n    let date = new Date(data.n);\n    let days = ['Sun', 'Mon', 'Tue', 'Wod', 'Thu', 'Fri', 'Sat'];\n    let weekDay = days[date.getDay()]; // let viewYoung = data.o[4].v;\n\n    switch (weekDay) {\n      case 'Sun':\n        let sunday = this.distrViewByAge(this.state.sunday, data);\n        this.setState({\n          sunday: sunday\n        });\n        break;\n\n      case 'Mon':\n        let monday = this.distrViewByAge(this.state.monday, data);\n        this.setState({\n          monday: monday\n        });\n        break;\n\n      case 'Tue':\n        let tuesday = this.distrViewByAge(this.state.tuesday, data);\n        this.setState({\n          tuesday: tuesday\n        });\n        break;\n\n      case 'Wod':\n        let wednesday = this.distrViewByAge(this.state.wednesday, data);\n        this.setState({\n          wednesday: wednesday\n        });\n        break;\n\n      case 'Thu':\n        let thursday = this.distrViewByAge(this.state.thursday, data);\n        this.setState({\n          thursday: thursday\n        });\n        break;\n\n      case 'Fri':\n        let friday = this.distrViewByAge(this.state.friday, data);\n        this.setState({\n          friday: friday\n        });\n        break;\n\n      case 'Sat':\n        let saturday = this.distrViewByAge(this.state.saturday, data);\n        this.setState({\n          saturday: saturday\n        });\n        break;\n    }\n  }\n\n  async componentDidMount() {\n    const url = 'https://analytics.3divi.ru/api/v2/statistics/user/2088/devices/dates/ages/?key=d3aa35bde5ef46899b91aca9c66e174e&b=2020/03/08%2012:00:00&e=2020/09/08%2012:00:00&tzo=0';\n    let response = await fetch(url);\n    let result = await response.json();\n    this.setState({\n      data: result.data\n    }); // let view = result.data.o[7].o[0].o.find(o => o.n === \"young\").v;\n\n    for (let device of result.data.o) {\n      device.o.map(this.getViewByWeekDay);\n    }\n\n    document.querySelector('.young').style.height = this.state.wednesday.young + 'px';\n    document.querySelector('.adult').style.height = this.state.wednesday.young + 'px'; // document.querySelector('.senior').style.height = view + 'px';\n    // fetch(url)\n    // .then((response) => {\n    // \tresponse.json()\n    // })\n    // .then((result) => {\n    // \tthis.setState({\n    // \t\tdata: result\n    //    \t})\n    // \tconsole.log(result);\n    // })\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"young\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"adult\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default GetData;","map":{"version":3,"sources":["C:/Users/Александр/Desktop/Vitec/Coding/React/seemetrix/src/components/GetData.jsx"],"names":["React","GetData","Component","constructor","props","state","data","monday","young","tuesday","wednesday","thursday","friday","saturday","sunday","getViewByWeekDay","bind","distrViewByAge","obj","viewByAge","view","adult","o","v","kid","old","undefined","distrViewByWeekDay","date","Date","n","days","weekDay","getDay","setState","componentDidMount","url","response","fetch","result","json","device","map","document","querySelector","style","height","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nclass GetData extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdata: '',\r\n\t\t\tmonday: {\r\n\t\t\t\tyoung: 0\r\n\t\t\t},\r\n\t\t\ttuesday: {\r\n\t\t\t\tyoung: 0\r\n\t\t\t},\r\n\t\t\twednesday: {\r\n\t\t\t\tyoung: 0\r\n\t\t\t},\r\n\t\t\tthursday: {\r\n\t\t\t\tyoung: 0\r\n\t\t\t},\r\n\t\t\tfriday: {\r\n\t\t\t\tyoung: 0\r\n\t\t\t},\r\n\t\t\tsaturday: {\r\n\t\t\t\tyoung: 0\r\n\t\t\t},\r\n\t\t\tsunday: {\r\n\t\t\t\tyoung: 0\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.getViewByWeekDay = this.getViewByWeekDay.bind(this);\r\n\t\tthis.distrViewByAge = this.distrViewByAge.bind(this);\r\n\t}\r\n\r\n\tdistrViewByAge(obj, viewByAge) {\r\n\t\tlet view = {...obj};\r\n\t\tview.adult += viewByAge.o[0].v;\r\n\t\tview.kid += viewByAge.o[1].v;\r\n\t\tview.old += viewByAge.o[2].v;\r\n\t\tview.undefined += viewByAge.o[3].v;\r\n\t\tview.young += viewByAge.o[4].v;\r\n\r\n\t\treturn view;\r\n\t}\r\n\r\n\tdistrViewByWeekDay(data) {\r\n\t\tlet date = new Date(data.n);\r\n\t\tlet days = ['Sun', 'Mon', 'Tue', 'Wod', 'Thu', 'Fri', 'Sat'];\r\n\t\tlet weekDay = days[date.getDay()];\r\n\t\t// let viewYoung = data.o[4].v;\r\n\r\n\t\tswitch (weekDay) {\r\n\t\t\tcase 'Sun':\r\n\t\t\t\tlet sunday = this.distrViewByAge(this.state.sunday, data);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tsunday: sunday\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Mon':\r\n\t\t\t\tlet monday = this.distrViewByAge(this.state.monday, data);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tmonday: monday\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Tue':\r\n\t\t\t\tlet tuesday = this.distrViewByAge(this.state.tuesday, data);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\ttuesday: tuesday\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Wod':\r\n\t\t\t\tlet wednesday = this.distrViewByAge(this.state.wednesday, data);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\twednesday: wednesday\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Thu':\r\n\t\t\t\tlet thursday = this.distrViewByAge(this.state.thursday, data);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tthursday: thursday\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Fri':\r\n\t\t\t\tlet friday = this.distrViewByAge(this.state.friday, data);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tfriday: friday\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Sat':\r\n\t\t\t\tlet saturday = this.distrViewByAge(this.state.saturday, data);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tsaturday: saturday\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\tconst url = 'https://analytics.3divi.ru/api/v2/statistics/user/2088/devices/dates/ages/?key=d3aa35bde5ef46899b91aca9c66e174e&b=2020/03/08%2012:00:00&e=2020/09/08%2012:00:00&tzo=0'\r\n\t\tlet response = await fetch(url);\r\n\t\tlet result = await response.json();\r\n\t\tthis.setState({\r\n\t\t\tdata: result.data\r\n\t\t})\r\n\r\n\t\t// let view = result.data.o[7].o[0].o.find(o => o.n === \"young\").v;\r\n\t\tfor (let device of result.data.o) {\r\n\t\t\tdevice.o.map(this.getViewByWeekDay)\r\n\t\t}\r\n\r\n\t\tdocument.querySelector('.young').style.height = this.state.wednesday.young + 'px';\r\n\t\tdocument.querySelector('.adult').style.height = this.state.wednesday.young + 'px';\r\n\t\t// document.querySelector('.senior').style.height = view + 'px';\r\n\r\n\t\t// fetch(url)\r\n\t\t// .then((response) => {\r\n\t\t// \tresponse.json()\r\n\t\t// })\r\n\t\t// .then((result) => {\r\n\t\t// \tthis.setState({\r\n\t\t// \t\tdata: result\r\n\t //    \t})\r\n\t\t// \tconsole.log(result);\r\n\t\t// })\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"young\"></div>\r\n\t\t\t\t<div className=\"adult\"></div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nexport default GetData;\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}