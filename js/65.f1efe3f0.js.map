{"version":3,"file":"js/65.f1efe3f0.js","mappings":"4PACSA,MAAM,4B,GACHA,MAAM,gB,GAWDA,MAAM,kB,iBAQGA,MAAM,kB,GAGTA,MAAM,S,GACCA,MAAM,O,UAEZC,EAAAA,EAAAA,GAEO,QAFDD,MAAM,SAAQ,OAEpB,K,uBAWTA,MAAM,kB,GAIRA,MAAM,6B,+FA3CfE,EAAAA,EAAAA,IAkDM,MAlDNC,EAkDM,EAjDFF,EAAAA,EAAAA,GAEK,KAFLG,GAEKC,EAAAA,EAAAA,IADEC,EAAAC,cAAgB,mBAAqB,mBAAxB,GAIVD,EAAAC,gBAAa,WADvBC,EAAAA,EAAAA,IAIEC,EAAA,C,MAFGC,QAASJ,EAAAK,kBAAkB,GAC3B,qBAAoBL,EAAAM,mB,uDAGzBV,EAAAA,EAAAA,IA+BWW,EAAAA,GAAA,CAAAC,IAAA,KA9BPb,EAAAA,EAAAA,GAyBM,MAzBNc,EAyBM,gBAvBFb,EAAAA,EAAAA,IAsBMW,EAAAA,GAAA,MAAAG,EAAAA,EAAAA,IArBgBV,EAAAK,mBAAXD,K,WADXR,EAAAA,EAAAA,IAsBM,OApBDY,IAAKJ,EACLV,OAAKiB,EAAAA,EAAAA,IAAA,CAAAC,UAA2C,MAA5BR,EAAQ,gBAADS,SAAoCT,EAAQ,YAAaA,YACpFU,QAAKC,GAAEf,EAAAgB,cAAcZ,EAAQ,Q,EAE9BT,EAAAA,EAAAA,GAEO,OAFPsB,GAEOlB,EAAAA,EAAAA,IAD2B,oBAA5BK,EAAQ,gBAAwC,kBAA2B,sBAAPA,EAAO,gCAA6DA,EAAO,qBAErJT,EAAAA,EAAAA,GAYI,IAZJuB,EAYI,EAXAvB,EAAAA,EAAAA,GACO,OADPwB,GACOpB,EAAAA,EAAAA,IADaK,EAAQ,SAASJ,EAAAM,oBAAiB,YAC/C,MACPc,EAGkC,KAAtBpB,EAAAM,oBAAiB,WAA7BV,EAAAA,EAAAA,IAEO,OAAAyB,EAF+B,aAEtC,WACAzB,EAAAA,EAAAA,IAEO,OAAA0B,EAFM,cAEb,S,SAKZ3B,EAAAA,EAAAA,GAEI,IAFJ4B,EAA0B,aACdxB,EAAAA,EAAAA,IAAEC,EAAAwB,qBAAqBC,QAAQ,QAAI1B,EAAAA,EAAAA,IAAEC,EAAAK,kBAAkBoB,QAAQ,cAC3E,UAEJ9B,EAAAA,EAAAA,GAMM,MANN+B,EAMM,EALFC,EAAAA,EAAAA,IAIEC,EAAA,CAHG,yBAAwB5B,EAAAwB,qBACxB,eAAcxB,EAAA6B,YACdC,SAAU9B,EAAAM,mB,6EASvB,GAAeyB,EAAAA,EAAAA,IAAgB,CAC3BC,KAAM,gBACNC,WAAY,CACRC,QAAQC,EAAAA,EAAAA,KAAqB,IAAM,gCACnCC,aAAaD,EAAAA,EAAAA,KAAqB,IAAM,iCAE5CE,SAAU,CACNhC,oBACI,OAAOiC,KAAKC,OAAOC,MAAMnC,iBAC7B,EACAJ,gBACI,OAAyC,IAAlCqC,KAAKjC,kBAAkBoB,MAClC,EACAnB,oBACI,OAAOgC,KAAKC,OAAOC,MAAMV,QAC7B,EACAD,cACI,OAAOS,KAAKC,OAAOC,MAAMX,WAC7B,EACAL,uBACI,OAAOc,KAAKC,OAAOC,MAAMhB,oBAC7B,EACAiB,YACI,OAAOH,KAAKC,OAAOC,MAAMC,SAC7B,GAEJC,QAAS,CACL1B,cAAc2B,GACV,MAAMC,EAAMN,KAAKT,YACjB,IAAIL,EAAuBc,KAAKd,qBAEhCc,KAAKjC,kBAAkBwC,SAAQzC,IAC3B,GAAIA,EAAQ0C,KAAOH,EAEf,GADAvC,EAAQ2C,UAAY3C,EAAQ2C,SACxB3C,EAAQ2C,SAAU,CAClBvB,EAAqBwB,KAAKL,GAC1B,IAAK,MAAMb,KAAYc,EAAKA,EAAId,IAAa1B,EAAQ6C,MAAMnB,EAC/D,KAAO,CACH,IAAK,MAAMA,KAAYc,EAAKA,EAAId,IAAa1B,EAAQ6C,MAAMnB,GAC3DN,EAAuBA,EAAqB0B,QAAO,SAASC,GACxD,OAAOA,IAAMR,CACjB,GACJ,CACJ,IAGJL,KAAKC,OAAOa,SAAS,oBAAqBR,GAC1CN,KAAKC,OAAOa,SAAS,yBAA0B5B,GAC/Cc,KAAKC,OAAOa,SAAS,gBAAiB,uBAC1C,K,UCnGZ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://subscriptions/./src/components/ServiceSelect.vue","webpack://subscriptions/./src/components/ServiceSelect.vue?46c0"],"sourcesContent":["<template>\r\n    <div class=\"container service-select\">\r\n        <h5 class=\"block__title\">\r\n            {{ hasOneService ? \"Доступная услуга\" : \"Выберите услуги\" }}\r\n        </h5>\r\n\r\n        <ServiceItem\r\n            v-if=\"hasOneService\"\r\n            :service=\"formattedServices[0]\"\r\n            :subscribe-duration=\"subscribeDuration\"\r\n        />\r\n\r\n        <template v-else>\r\n            <div class=\"services__list\">\r\n                <!-- TODO: вынести в отдельный компонент, дабы сократить код в шаблоне -->\r\n                <div \r\n                    v-for=\"service in formattedServices\"\r\n                    :key=\"service\"\r\n                    :class=\"{ available: service['UNCHANGEABLE'] === '1', selected: service['SELECTED'], service}\"\r\n                    @click=\"selectService(service['ID'])\"\r\n                >\r\n                    <span class=\"service__title\">\r\n                        {{service[\"SERVICE_NAME\"] === \"Видеонаблюдение\" ? \"Камеры во&nbsp;дворе\" : service[\"SERVICE_NAME\"] === \"Умный домофон PRO\" ? \"Умный домофон\" : service[\"SERVICE_NAME\"]}}\r\n                    </span>\r\n                    <p class=\"price\">\r\n                        <span class=\"sum\">{{service[\"PRICE\"][subscribeDuration]}}\r\n                        </span>&nbsp;\r\n                        <span class=\"ruble\">\r\n                            &#8381;\r\n                        </span>\r\n                        <span v-if=\"subscribeDuration === 12\">\r\n                            /год\r\n                        </span>\r\n                        <span v-else>\r\n                            /мес\r\n                        </span>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n          \r\n            <p class=\"service__count\">\r\n                Выбрано {{selectedServicesList.length}} из {{formattedServices.length}} категорий\r\n            </p>\r\n        </template>\r\n        <div class=\"container basket__wrapper\">\r\n            <Basket\r\n                :selected-services-list=\"selectedServicesList\"\r\n                :services-sum=\"servicesSum\"\r\n                :duration=\"subscribeDuration\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { defineAsyncComponent, defineComponent } from \"vue\";\r\n\r\n    export default defineComponent({\r\n        name: \"ServiceSelect\",\r\n        components: {\r\n            Basket: defineAsyncComponent(() => import(\"@/components/Basket.vue\")),\r\n            ServiceItem: defineAsyncComponent(() => import(\"@/components/Services/ServiceItem.vue\"))\r\n        },\r\n        computed: {\r\n            formattedServices() {\r\n                return this.$store.state.formattedServices\r\n            },\r\n            hasOneService() {\r\n                return this.formattedServices.length === 1;\r\n            },\r\n            subscribeDuration() {\r\n                return this.$store.state.duration\r\n            },\r\n            servicesSum() {\r\n                return this.$store.state.servicesSum\r\n            },\r\n            selectedServicesList() {\r\n                return this.$store.state.selectedServicesList\r\n            },\r\n            discounts() {\r\n                return this.$store.state.discounts\r\n            }\r\n        },\r\n        methods: {\r\n            selectService(id) {\r\n                const sum = this.servicesSum;\r\n                let selectedServicesList = this.selectedServicesList\r\n\r\n                this.formattedServices.forEach(service => {\r\n                    if (service.ID === id) {\r\n                        service.SELECTED = !service.SELECTED;\r\n                        if (service.SELECTED) {\r\n                            selectedServicesList.push(id);\r\n                            for (const duration in sum) sum[duration] += service.PRICE[duration];\r\n                        } else {\r\n                            for (const duration in sum) sum[duration] -= service.PRICE[duration];\r\n                            selectedServicesList = selectedServicesList.filter(function(f) {\r\n                                return f !== id;\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n\r\n                this.$store.dispatch(\"changeServicesSum\", sum);\r\n                this.$store.dispatch(\"changeSelectedServices\", selectedServicesList);\r\n                this.$store.dispatch(\"sendUserEvent\", \"YardSubChooseService\")\r\n            },\r\n        },\r\n    });\r\n</script>\r\n\r\n<style scoped>\r\n.block__title {\r\n  margin-top: 24px;\r\n}\r\n\r\n.services__list {\r\n  display: flex;\r\n  position: relative;\r\n  width: calc(100% + 32px);\r\n  height: auto;\r\n  min-height: 94px;\r\n  align-items: stretch;\r\n  flex-direction: row;\r\n  margin-bottom: 14px;\r\n  padding: 0 16px;\r\n  overflow-x: auto;\r\n  overflow-y: hidden;\r\n  box-sizing: border-box;\r\n  scroll-snap-type: x mandatory;\r\n  scroll-padding-inline-start: 16px;\r\n}\r\n\r\n.services__list::-webkit-scrollbar {\r\n  width: 0px;\r\n  height: 0px;\r\n  display: none;\r\n}\r\n\r\n.service {\r\n  height: 94px;\r\n  width: 122px;\r\n  min-width: 122px;\r\n  display: flex;\r\n  position: relative;\r\n  flex-direction: column;\r\n  padding: 16px;\r\n  color: #6a707f;\r\n  border: 2px #F2F4F7 solid;\r\n  border-radius: 22px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.service:not(:last-child) {\r\n  margin-right: 8px;\r\n}\r\n\r\n.service.selected {\r\n  border-color: #1D86FF;\r\n  color: #061029;\r\n}\r\n\r\n.service.selected .price {\r\n  color: #06102999;\r\n}\r\n\r\n\r\n.service.available {\r\n  border-color: #B9C6D1;\r\n  pointer-events: none;\r\n}\r\n\r\n.service__title {\r\n  margin-bottom: 10px;\r\n  font-size: 16px;\r\n  line-height: 18px;\r\n  letter-spacing: -0.02em;\r\n  font-weight: 500;\r\n}\r\n\r\n.price {\r\n  display: flex;\r\n  flex-direction: row;\r\n  font-size: 16px;\r\n  line-height: 16px;\r\n  font-weight: 500;\r\n  letter-spacing: -0.02em;\r\n  color: #9b9fa9;\r\n}\r\n\r\n.price > span {\r\n  font-size: 16px;\r\n  line-height: 16px;\r\n  font-weight: 500;\r\n}\r\n\r\n.tooltip {\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  position: absolute;\r\n  right: 13px;\r\n  top: 13px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: url(\"../assets/images/tooltip.svg\") center no-repeat;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.basket__wrapper {\r\n  width: 100%;\r\n  display: flex;\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  flex-direction: column;\r\n  align-content: center;\r\n  justify-content: center;\r\n  padding-bottom: 40px;\r\n  background: #ffffff;\r\n  box-sizing: border-box;\r\n  z-index: 2;\r\n}\r\n\r\n.service__count {\r\n  display: flex;\r\n  align-self: flex-start;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  letter-spacing: -0.02em;\r\n  line-height: 16px;\r\n  white-space: nowrap;\r\n  color: #1D86FF;\r\n}\r\n\r\n.service__count.inactive {\r\n  color: #6a707f;\r\n}\r\n</style>","import { render } from \"./ServiceSelect.vue?vue&type=template&id=1c7a6674&scoped=true\"\nimport script from \"./ServiceSelect.vue?vue&type=script&lang=js\"\nexport * from \"./ServiceSelect.vue?vue&type=script&lang=js\"\n\nimport \"./ServiceSelect.vue?vue&type=style&index=0&id=1c7a6674&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1c7a6674\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_toDisplayString","_ctx","hasOneService","_createBlock","_component_ServiceItem","service","formattedServices","subscribeDuration","_Fragment","key","_hoisted_3","_renderList","_normalizeClass","available","selected","onClick","$event","selectService","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","selectedServicesList","length","_hoisted_12","_createVNode","_component_Basket","servicesSum","duration","defineComponent","name","components","Basket","defineAsyncComponent","ServiceItem","computed","this","$store","state","discounts","methods","id","sum","forEach","ID","SELECTED","push","PRICE","filter","f","dispatch","__exports__","render"],"sourceRoot":""}