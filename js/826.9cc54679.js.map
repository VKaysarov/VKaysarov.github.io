{"version":3,"file":"js/826.9cc54679.js","mappings":"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","sources":["webpack://subscriptions/./src/views/Map.vue","webpack://subscriptions/./src/components/icons/VectorIcon.vue","webpack://subscriptions/./src/components/icons/VectorIcon.vue?a585","webpack://subscriptions/./src/components/MovingBottomSheet.vue","webpack://subscriptions/./src/components/MovingBottomSheet.vue?1f12","webpack://subscriptions/./src/components/AnimationBottomSheet.vue","webpack://subscriptions/./src/components/AnimationBottomSheet.vue?23e6","webpack://subscriptions/./src/components/icons/PlusIcon.vue","webpack://subscriptions/./src/components/icons/PlusIcon.vue?c4b7","webpack://subscriptions/./src/components/icons/SubIcon.vue","webpack://subscriptions/./src/components/icons/SubIcon.vue?4097","webpack://subscriptions/./src/components/ClusterMap.vue","webpack://subscriptions/./node_modules/ol/events/EventType.js","webpack://subscriptions/./node_modules/ol/ImageState.js","webpack://subscriptions/./node_modules/ol/util.js","webpack://subscriptions/./node_modules/ol/size.js","webpack://subscriptions/./node_modules/ol/style/Image.js","webpack://subscriptions/./node_modules/ol/AssertionError.js","webpack://subscriptions/./node_modules/ol/asserts.js","webpack://subscriptions/./node_modules/ol/math.js","webpack://subscriptions/./node_modules/ol/color.js","webpack://subscriptions/./node_modules/ol/Disposable.js","webpack://subscriptions/./node_modules/ol/events/Event.js","webpack://subscriptions/./node_modules/ol/functions.js","webpack://subscriptions/./node_modules/ol/obj.js","webpack://subscriptions/./node_modules/ol/events/Target.js","webpack://subscriptions/./node_modules/ol/has.js","webpack://subscriptions/./node_modules/ol/dom.js","webpack://subscriptions/./node_modules/ol/style/IconImageCache.js","webpack://subscriptions/./node_modules/ol/events.js","webpack://subscriptions/./node_modules/ol/Image.js","webpack://subscriptions/./node_modules/ol/style/IconImage.js","webpack://subscriptions/./node_modules/ol/style/Icon.js","webpack://subscriptions/./src/components/ClusterMap.vue?2f1d","webpack://subscriptions/./src/components/BottomSheet.vue","webpack://subscriptions/./src/components/icons/EyeSlashIcon.vue","webpack://subscriptions/./src/components/icons/EyeSlashIcon.vue?9f42","webpack://subscriptions/./src/components/icons/VideoOffIcon.vue","webpack://subscriptions/./src/components/icons/VideoOffIcon.vue?6189","webpack://subscriptions/./src/components/BottomSheet.vue?8200","webpack://subscriptions/./node_modules/ol/proj/Units.js","webpack://subscriptions/./node_modules/ol/proj/Projection.js","webpack://subscriptions/./node_modules/ol/proj/epsg3857.js","webpack://subscriptions/./node_modules/ol/proj/epsg4326.js","webpack://subscriptions/./node_modules/ol/proj/projections.js","webpack://subscriptions/./node_modules/ol/proj/transforms.js","webpack://subscriptions/./node_modules/ol/proj.js","webpack://subscriptions/./src/views/Map.vue?4e4c"],"sourcesContent":["<template>\r\n    <ol-map\r\n        ref=\"map\"\r\n        load-tiles-while-animating\r\n        load-tiles-while-interacting\r\n        class=\"map\"\r\n    >\r\n        <ol-view\r\n            ref=\"view\"\r\n            :center=\"center\"\r\n            :rotation=\"rotation\"\r\n            :zoom=\"zoom\"\r\n            :zoom-factor=\"3\"\r\n            :projection=\"projection\"\r\n        />\r\n\r\n        <ol-tile-layer>\r\n            <ol-source-osm />\r\n        </ol-tile-layer>\r\n\r\n        <ol-vector-layer :z-index=\"2\">\r\n            <ol-source-vector>\r\n                <ol-feature ref=\"positionFeature\">\r\n                    <ol-geom-point :coordinates=\"userLocation\" />\r\n                    <ol-style>\r\n                        <ol-style-icon\r\n                            :src=\"hereIcon\"\r\n                            :scale=\"1\"\r\n                        />\r\n                    </ol-style>\r\n                </ol-feature>\r\n            </ol-source-vector>\r\n        </ol-vector-layer>\r\n\r\n        <div class=\"control\">\r\n            <button class=\"control__item zoom-in\"\r\n                    @click=\"zoomIn\"\r\n            >\r\n                <PlusIcon />\r\n            </button>\r\n            <button class=\"control__item zoom-out\"\r\n            \r\n                    @click=\"zoomOut\"\r\n            >\r\n                <SubIcon />\r\n            </button>\r\n            <button class=\"control__item geo-me\"\r\n                    @click=\"handleGeo\"\r\n            >\r\n                <VectorIcon :current-color=\"currentColor\" />\r\n            </button>\r\n        </div>\r\n        <div class=\"geo-wave-wrapper\">\r\n            <div class=\"geo-wave\"\r\n                 :class=\"{'geo-wave-animate': geoWave}\"\r\n            >\r\n            </div>\r\n        </div>\r\n        <ol-interaction-dragrotatezoom />\r\n        <ClusterMap :camera-list=\"cameraList\"\r\n                    :is-show-bottom-sheet=\"isShowBottomSheet\"\r\n                    @openBottomSheet=\"handleSelect\"\r\n        />\r\n    </ol-map>\r\n    <AnimationBottomSheet :is-show=\"isShowBottomSheet\"\r\n                          @closeBottomSheet=\"closeBottomSheet\"\r\n    >\r\n        <MovingBottomSheet\r\n            drag-object=\"bottomsheet\"\r\n            @closeBottomSheet=\"closeBottomSheet\"\r\n        >\r\n            <BottomSheet\r\n                :selected-camera=\"selectedCamera\"\r\n                @closeBottomSheet=\"closeBottomSheet\"\r\n            />\r\n        </MovingBottomSheet>\r\n    </AnimationBottomSheet>\r\n</template>\r\n\r\n<script>\r\n    import { ref, onMounted } from \"vue\";\r\n    import hereIcon from \"@/assets/here.svg\";\r\n    import VectorIcon from \"../components/icons/VectorIcon.vue\";\r\n    import MovingBottomSheet from \"../components/MovingBottomSheet.vue\";\r\n    import AnimationBottomSheet from \"../components/AnimationBottomSheet.vue\";\r\n    import PlusIcon from \"../components/icons/PlusIcon.vue\";\r\n    import SubIcon from \"../components/icons/SubIcon.vue\";\r\n    import ClusterMap from \"../components/ClusterMap.vue\";\r\n    import BottomSheet from \"../components/BottomSheet.vue\";\r\n    import { getUserLocation, getCameraList } from '../components/ApiRequests';\r\n    import { fromLonLat } from 'ol/proj.js';\r\n\r\n    const convertCoordinates = (lon, lat) => {\r\n        let x = (lon * 20037508.34) / 180;\r\n        let y = Math.log(Math.tan(((90 + lat) * Math.PI) / 360)) / (Math.PI / 180);\r\n        y = (y * 20037508.34) / 180;\r\n        return [x, y];\r\n    }\r\n\r\n    export default {\r\n        components: {\r\n            VectorIcon,\r\n            PlusIcon,\r\n            SubIcon,\r\n            ClusterMap,\r\n            BottomSheet,\r\n            MovingBottomSheet,\r\n            AnimationBottomSheet,\r\n        },\r\n        setup() {\r\n            const map = ref(null);\r\n            const moc = ref(null);\r\n            const view = ref(null);\r\n            const center = ref(convertCoordinates(61.3999, 55.15));\r\n            const zoom = ref(13);\r\n            const geoWave = ref(false);\r\n            const currentColor = ref(\"#000\");\r\n            const cameraList = ref([]);\r\n            const userLocation = ref([]);\r\n\r\n            const zoomIn = () => {\r\n                view.value.animate({\r\n                    zoom: view.value.getZoom() + 1,\r\n                    duration: 250\r\n                })\r\n            }\r\n\r\n            const zoomOut = () => {\r\n                view.value.animate({\r\n                    zoom: view.value.getZoom() - 1,\r\n                    duration: 250\r\n                })\r\n            }\r\n\r\n            const handleDoubleClick = () => {\r\n                console.log(\"bd\");\r\n                view.value.animate({\r\n                    zoom: view.value.getZoom() + 50,\r\n                    duration: 250\r\n                })\r\n            }\r\n\r\n            const handleClusterClick = (event) => {\r\n                const features = event.selected[0].values_.features;\r\n\r\n                if (features.length > 1) {\r\n                    view.value.animate({\r\n                        zoom: view.value.getZoom() + 1,\r\n                        duration: 250\r\n                    })\r\n                }\r\n            }\r\n\r\n            const handleGeo = async () => {\r\n                view.value.fit([...userLocation.value, ...userLocation.value], {\r\n                    maxZoom: zoom.value,\r\n                });\r\n                \r\n                geoWave.value = true;\r\n                currentColor.value = \"#1274FF\";\r\n\r\n                setTimeout(() => {\r\n                    geoWave.value = false;\r\n                    currentColor.value = \"#000\";\r\n                }, 400)\r\n            }\r\n            const degreesToRadians = (degrees) => {\r\n                return degrees * (Math.PI/180);\r\n            }\r\n\r\n            const initCameraList = async () => {\r\n                const [response] = await getCameraList();\r\n                // const respons = {\r\n                //     cameras: [\r\n                //         { \r\n                //             POSITION: { AZIMUTH: 45, LONGITUDE: 61.357350, LATITUDE: 55.189912 },\r\n                //             SNAPSHOT: { HD: \"https://steamuserimages-a.akamaihd.net/ugc/910157197477736108/E6370B2D608D484AD56C22083EE3DBAA3B02288F/\" },\r\n                //             ADDRESS: \"sdfwer п. 4\" \r\n                //         },\r\n                //         { \r\n                //             POSITION: { AZIMUTH: 45, LONGITUDE: 61.357350, LATITUDE: 55.189912 },\r\n                //             SNAPSHOT: { HD: \"https://steamuserimages-a.akamaihd.net/ugc/910157197477736108/E6370B2D608D484AD56C22083EE3DBAA3B02288F/\" },\r\n                //             ADDRESS: \"sdfwer п. 4\" \r\n                //         },\r\n                //         { \r\n                //             POSITION: { AZIMUTH: 45, LONGITUDE: 61.357350, LATITUDE: 55.189912 },\r\n                //             SNAPSHOT: { HD: \"https://steamuserimages-a.akamaihd.net/ugc/910157197477736108/E6370B2D608D484AD56C22083EE3DBAA3B02288F/\" },\r\n                //             ADDRESS: \"sdfwer п. 4\" \r\n                //         },\r\n                //     ]\r\n                // }\r\n                let i = 0;\r\n                if (response) {\r\n                    cameraList.value = response.cameras\r\n                        .filter((camera) => camera.POSITION.LONGITUDE)\r\n                        .map((camera) => {\r\n                            i += 0.00001;\r\n                            return {...camera, POSITION: { AZIMUTH: degreesToRadians(camera.POSITION.AZIMUTH), coordinates: fromLonLat([camera.POSITION.LONGITUDE + i, camera.POSITION.LATITUDE]) }}; \r\n                        })\r\n                } else {\r\n                    console.error(\"Error\");\r\n                }\r\n            }\r\n\r\n            const initUserLocation = async () => {\r\n                try {\r\n                    const { geo } = await getUserLocation();\r\n                    const { LATITUDE, LONGITUDE } = geo;\r\n    \r\n                    userLocation.value = fromLonLat([LONGITUDE, LATITUDE]);\r\n                    // center.value = fromLonLat([LONGITUDE, LATITUDE]);\r\n                    view.value.animate({\r\n                        center: fromLonLat([LONGITUDE, LATITUDE]),\r\n                        duration: 250\r\n                    })\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            }\r\n\r\n            onMounted(() => {\r\n                initUserLocation();\r\n                initCameraList();\r\n \r\n                // document.addEventListener('touchmove', (event) => {\r\n                //     event = event.originalEvent || event;\r\n                //     if(event.scale !== 1) {\r\n                //         event.preventDefault();\r\n                //     } \r\n                // }, false);\r\n            })\r\n            \r\n            return {\r\n                currentColor,\r\n                geoWave,\r\n                map,\r\n                moc,\r\n                view,\r\n                center,\r\n                zoom,\r\n                hereIcon,\r\n                cameraList,\r\n                userLocation,\r\n                zoomIn,\r\n                zoomOut,\r\n                handleGeo,\r\n                handleDoubleClick,\r\n                handleClusterClick,\r\n            };\r\n        },\r\n        data() {\r\n            return {\r\n                projection: \"EPSG:3857\",\r\n                selectedCamera: {},\r\n                rotation: 0,\r\n                isShowBottomSheet: false,\r\n            };\r\n        },\r\n        methods: {\r\n            handleSelect(selectedCamera) {\r\n                this.selectedCamera = selectedCamera;\r\n                this.isShowBottomSheet = true;\r\n            },\r\n            closeBottomSheet() {\r\n                this.isShowBottomSheet = false\r\n            },\r\n        }, \r\n    };\r\n</script>\r\n\r\n<style>\r\n@import \"../assets/main.css\";\r\n\r\n@keyframes wave {\r\n    0% {\r\n        width: 0;\r\n        height: 0;\r\n    }\r\n    50% {\r\n        width: var(--wave-size);\r\n        height: var(--wave-size);\r\n    }\r\n    100% {\r\n        opacity: 0;\r\n        filter: blur(4px);\r\n    }\r\n}\r\n\r\n:root {\r\n  --white: rgb(255, 255, 255);\r\n  --error-bg-color: rgb(253, 107, 84);\r\n  --btn-bg-color: rgba(255, 255, 255, .6);\r\n  --btn-shadow: 0px 0px 14px rgba(6, 16, 41, 0.15);\r\n  --wave-size: 100px;\r\n}\r\n\r\n#app {\r\n    height: 100%;\r\n}\r\n\r\n.map {\r\n    height: 100%;\r\n}\r\n\r\n.geo-wave-wrapper {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.geo-wave {\r\n    background: #1274FF;\r\n    z-index: 5;\r\n    border-radius: 50px;\r\n    opacity: .2;\r\n}\r\n\r\n.geo-wave-animate {\r\n    animation: wave 1s;\r\n}\r\n\r\n.subscribe__wrapper {\r\n  min-height: calc(100vh + 40px);\r\n  width: 100%;\r\n  display: flex;\r\n  position: relative;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  font-size: 16px;\r\n  font-family: \"SF Pro\", serif;\r\n  color: #061029;\r\n  overflow: auto;\r\n  margin-top: 40px;\r\n  padding-bottom: 194px;\r\n}\r\n\r\n.container {\r\n  width: calc(100% - 32px);\r\n  height: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.control__item {\r\n    right: 10px;\r\n    padding: 18px;\r\n    background-color: var(--btn-bg-color);\r\n    border: none;\r\n    box-shadow: var(--btn-shadow);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.zoom-in {\r\n    top: 10%;\r\n    border-radius: 50px 50px 0 0;\r\n}\r\n\r\n.zoom-out {\r\n    top: 20%;\r\n    height: 60px;\r\n    border-radius: 0 0 50px 50px;\r\n}\r\n\r\n.control {\r\n    position: absolute;\r\n    display: grid;\r\n    top: 20%;\r\n    z-index: 1;\r\n    right: 10px;\r\n}\r\n\r\n.geo-me {\r\n    margin-top: 1em;\r\n    background-color: var(--btn-bg-color);\r\n    height: 60px;\r\n    border: none;\r\n    border-radius: 50px;\r\n    box-shadow: var(--btn-shadow);\r\n}\r\n\r\n</style>\r\n","<template>\r\n    <svg width=\"18\"\r\n         height=\"19\"\r\n         viewBox=\"0 0 18 19\"\r\n         fill=\"none\"\r\n         xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n        <path\r\n            d=\"M18 0.857178L0 8.38718V9.35718L6.84 12.0172L9.5 18.8572H10.46L18 0.857178Z\"\r\n            :fill=\"currentColor\"\r\n        />\r\n    </svg>\r\n</template>\r\n  \r\n<script>\r\n    export default {\r\n        name: \"VectorIcon\",\r\n        props: {\r\n            currentColor: {\r\n                type: String,\r\n                default: \"#1274FF\",\r\n            },\r\n        }\r\n    }\r\n</script>\r\n  \r\n<style></style>","import { render } from \"./VectorIcon.vue?vue&type=template&id=6c00151a\"\nimport script from \"./VectorIcon.vue?vue&type=script&lang=js\"\nexport * from \"./VectorIcon.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div class=\"drag-container\"\r\n         @mousedown=\"dragStart\"\r\n         @touchstart=\"dragMobileStart\"\r\n         @touchmove=\"dragMove\"\r\n         @touchend=\"touchEnd\"\r\n    >\r\n        <slot></slot>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { defineComponent } from \"vue\";\r\n    \r\n    const TRANSITION_DURATION = 400;\r\n\r\n    export default defineComponent({\r\n        name: \"MovingBottomSheet\",\r\n        props: {\r\n            dragObject: {\r\n                type: String\r\n            },\r\n        },\r\n        emits: ['closeBottomSheet'],\r\n        data() {\r\n            return {\r\n                isDragging: false,\r\n                dragOffset: { y: 0 },\r\n                top: 0,\r\n                left: 0,\r\n                screenWidth: window.innerWidth,\r\n                screenHeight: window.innerHeight,\r\n            };\r\n        },\r\n        computed: {\r\n            dragElement() {\r\n                return document.querySelector(`.drag-container`);\r\n            }\r\n        },\r\n        created() {\r\n            window.addEventListener(\"resize\", this.updateScreenSize);\r\n        },\r\n        unmounted() {\r\n            window.removeEventListener(\"resize\", this.updateScreenSize);\r\n        },\r\n        methods: {\r\n            updateScreenSize() {\r\n                this.screenWidth = window.innerWidth;\r\n                this.screenHeight = window.innerHeight;\r\n            },\r\n            dragStart(event) {\r\n                const { top } = this.dragElement.getBoundingClientRect();\r\n                this.isDragging = true;\r\n                this.dragOffset = {\r\n                    y: event.clientY - top,\r\n                };\r\n                document.addEventListener(\"mousemove\", this.dragMove);\r\n                document.addEventListener(\"mouseup\", this.dragEnd);\r\n            },\r\n            dragMobileStart(event) {\r\n                const { bottom } = this.dragElement.getBoundingClientRect();\r\n\r\n                this.dragElement.style.transitionDuration = `0ms`;\r\n                this.dragOffset = {\r\n                    y: event.changedTouches[0].clientY - bottom,\r\n                };\r\n            },\r\n            dragMove(event) {\r\n                // PC\r\n                if (this.isDragging) {\r\n                    this.top = event.clientY - this.dragOffset.y;\r\n                    this.dragElement.style.top = `${this.top}px`;\r\n                }\r\n                \r\n                // Mobile\r\n                if (event.changedTouches[0].clientY) {\r\n                    const invertY = this.screenHeight - event.changedTouches[0].clientY;\r\n                    const bottom = invertY + this.dragOffset.y; \r\n\r\n                    if (bottom > 0) {\r\n                        return;\r\n                    }\r\n\r\n                    this.top = bottom;\r\n                    this.dragElement.style.bottom = `${this.top}px`;\r\n                }\r\n            },\r\n            dragEnd() {\r\n                this.isDragging = false;\r\n                document.removeEventListener(\"mousemove\", this.dragMove);\r\n                document.removeEventListener(\"mouseup\", this.dragEnd);\r\n            },\r\n            touchEnd() {\r\n                this.dragElement.style.transitionDuration = `${TRANSITION_DURATION}ms`;\r\n\r\n                if (Math.abs(this.top) > this.dragElement.offsetHeight / 3) {\r\n                    this.dragElement.style.transform = \"translateY(100%)\";\r\n                    setTimeout(() => {\r\n                        this.$emit('closeBottomSheet');\r\n                    }, TRANSITION_DURATION);\r\n                } else {\r\n                    this.dragElement.style.bottom = `-1px`;\r\n                }\r\n            },\r\n        }\r\n    });\r\n</script>\r\n\r\n<style scoped>\r\n.grab-wraper {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    padding: 1em 0;\r\n}\r\n.grab {\r\n    cursor: grab;\r\n    width: 30px;\r\n    height: 5px;\r\n    border-radius: 4px;\r\n    background-color: #B9C6D1;\r\n}\r\n\r\n.drag-container {\r\n    position: absolute;\r\n    z-index: 3;\r\n    width: 100%;\r\n    bottom: 0;\r\n}\r\n\r\n.bottomsheet__title {\r\n    text-align: center;\r\n    color: #1F283E;\r\n}\r\n\r\n.bottomsheet__title {\r\n    margin: 1em 1.5em;\r\n    font-weight: 600;\r\n}\r\n</style>\r\n","import { render } from \"./MovingBottomSheet.vue?vue&type=template&id=32a3060a&scoped=true\"\nimport script from \"./MovingBottomSheet.vue?vue&type=script&lang=js\"\nexport * from \"./MovingBottomSheet.vue?vue&type=script&lang=js\"\n\nimport \"./MovingBottomSheet.vue?vue&type=style&index=0&id=32a3060a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-32a3060a\"]])\n\nexport default __exports__","<template>\r\n    <Transition name=\"fade\">\r\n        <div\r\n            v-if=\"isShow\"\r\n            class=\"bottomsheet-overlay\"\r\n            @click=\"closeBottomSheet\"\r\n        ></div>\r\n    </Transition>\r\n    <Transition name=\"slide-fade\">\r\n        <slot v-if=\"isShow\"></slot>\r\n    </Transition>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"AnimationBottomSheet\",\r\n        props: {\r\n            isShow: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n        },\r\n        emits: [\"closeBottomSheet\"],\r\n        methods: {\r\n            closeBottomSheet() {\r\n                this.$emit('closeBottomSheet');\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n@import \"../assets/main.css\";\r\n.bottomsheet-overlay {\r\n    position: absolute;\r\n    z-index: 2;\r\n    top: 0;\r\n    left: 0;\r\n    background-color: rgba(0, 0, 0, .5);\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.5s ease;\r\n}\r\n\r\n.fade-enter-from,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n.slide-fade-enter-active {\r\n  transition: all 0.3s ease-out;\r\n}\r\n\r\n.slide-fade-leave-active {\r\n  transition: all 0.3s ease-in;\r\n}\r\n\r\n.slide-fade-enter-from,\r\n.slide-fade-leave-to {\r\n  transform: translateY(100%);\r\n}\r\n</style>","import { render } from \"./AnimationBottomSheet.vue?vue&type=template&id=53337202&scoped=true\"\nimport script from \"./AnimationBottomSheet.vue?vue&type=script&lang=js\"\nexport * from \"./AnimationBottomSheet.vue?vue&type=script&lang=js\"\n\nimport \"./AnimationBottomSheet.vue?vue&type=style&index=0&id=53337202&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-53337202\"]])\n\nexport default __exports__","<template>\r\n    <svg width=\"24\"\r\n         height=\"24\"\r\n         viewBox=\"0 0 24 24\"\r\n         fill=\"none\"\r\n         xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n        <path \r\n            d=\"M2 11.8572L22 11.8572M12 1.85718C12 8.82687 12 21.8572 12 21.8572\" \r\n            :stroke=\"currentColor\"\r\n            stroke-width=\"3\" \r\n            stroke-linecap=\"round\"\r\n        />\r\n    </svg>\r\n</template>\r\n  \r\n<script>\r\n    export default {\r\n        props: {\r\n            currentColor: {\r\n                type: String,\r\n                default: \"#1F283E\",\r\n            },\r\n        }\r\n    }\r\n</script>\r\n  \r\n<style></style>","import { render } from \"./PlusIcon.vue?vue&type=template&id=921e97ac\"\nimport script from \"./PlusIcon.vue?vue&type=script&lang=js\"\nexport * from \"./PlusIcon.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <svg width=\"24\"\r\n         height=\"4\"\r\n         viewBox=\"0 0 24 4\"\r\n         fill=\"none\"\r\n         xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n        <path d=\"M2 1.85718L22 1.85718\"\r\n              :stroke=\"currentColor\"\r\n              stroke-width=\"3\"\r\n              stroke-linecap=\"round\"\r\n        />\r\n    </svg>\r\n</template>\r\n  \r\n<script>\r\n    export default {\r\n        props: {\r\n            currentColor: {\r\n                type: String,\r\n                default: \"#1F283E\",\r\n            },\r\n        }\r\n    }\r\n</script>\r\n  \r\n<style></style>","import { render } from \"./SubIcon.vue?vue&type=template&id=0b86ff7e\"\nimport script from \"./SubIcon.vue?vue&type=script&lang=js\"\nexport * from \"./SubIcon.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <ol-interaction-select\r\n        @select=\"handleSelect\"\r\n        :filter=\"selectInteactionFilter\"\r\n        ref=\"selectInteraction\"\r\n    >\r\n        <ol-style>\r\n            <ol-style-icon :src=\"cameraIcon\"\r\n                           color=\"#1274FF\"\r\n                           :rotation=\"cameraRotation\"\r\n            />\r\n        </ol-style>\r\n    </ol-interaction-select>\r\n    <ol-animated-clusterlayer\r\n        :animation-duration=\"500\"\r\n        :distance=\"40\"\r\n    >\r\n        <ol-source-vector>\r\n            <ol-feature\r\n                v-for=\"{ POSITION, id } in cameraList\"\r\n                :key=\"id\"\r\n            >\r\n                <ol-geom-point\r\n                    :coordinates=\"POSITION.coordinates\"\r\n                />\r\n            </ol-feature>\r\n        </ol-source-vector>\r\n        <ol-style :override-style-function=\"overrideStyleFunction\">\r\n            <ol-style-text />\r\n        </ol-style>\r\n    </ol-animated-clusterlayer>\r\n</template>\r\n\r\n<script>\r\n    import Icon from \"ol/style/Icon.js\";\r\n    import cameraIcon from \"@/assets/camera.svg\";\r\n    import clusterIcon from \"@/assets/cluster.svg\";\r\n    import { ref, onUpdated } from \"vue\";\r\n\r\n    const selectInteactionFilter = (feature) => {\r\n        return feature.values_?.features?.length === 1\r\n    };\r\n\r\n    export default {\r\n        props: {\r\n            cameraList: {\r\n                default: Array,\r\n                type: Array,\r\n            },\r\n            isShowBottomSheet: {\r\n                default: false,\r\n                type: Boolean,\r\n            }\r\n        },\r\n        emits: [\"openBottomSheet\"],\r\n        setup(props, context) {\r\n            const cameraRotation = ref(null);\r\n            const selectInteraction = ref(null);\r\n            const removeProgramaticly = () => {\r\n                selectInteraction.value.select.getFeatures().clear();\r\n            };\r\n            onUpdated(() => {\r\n                if (!props.isShowBottomSheet) {\r\n                    removeProgramaticly()\r\n                }\r\n            })\r\n            const handleSelect = (event) => {\r\n                const coordinates = event.selected[0].geometryChangeKey_.target.flatCoordinates;\r\n                const selectedCamera = props.cameraList.find(\r\n                    (camera) =>\r\n                        camera.POSITION.coordinates[0] === coordinates[0] &&\r\n                        camera.POSITION.coordinates[1] === coordinates[1]\r\n                );\r\n                cameraRotation.value = selectedCamera.POSITION.AZIMUTH;\r\n                context.emit(\"openBottomSheet\", selectedCamera);\r\n            };\r\n            return { cameraIcon, selectInteraction, cameraRotation, handleSelect }\r\n        },\r\n        methods: {\r\n            selectInteactionFilter,\r\n            overrideStyleFunction(feature, style) {\r\n                if (!style) return;\r\n                const clusteredFeatures = feature.get(\"features\");\r\n                const coordinates = feature.getGeometry().getCoordinates();\r\n                // Находим соответствующую камеру в cameraList по координатам\r\n                const cameraRotation = this.cameraList.find(\r\n                    (camera) =>\r\n                        camera.POSITION.coordinates[0] === coordinates[0] &&\r\n                        camera.POSITION.coordinates[1] === coordinates[1]\r\n                );\r\n\r\n                const size = clusteredFeatures.length;\r\n                const text = style.getText();\r\n                const cluster = new Icon({ src: clusterIcon });\r\n                const rotation = cameraRotation?.POSITION.AZIMUTH;\r\n                \r\n                const camera = new Icon({ src: cameraIcon, rotation });\r\n                const icon = size <= 1 ? camera : cluster;\r\n                const newText = size <= 1 ? \"\" : String(size);\r\n\r\n                style.setImage(icon);\r\n                text.setText(newText);\r\n            },\r\n        }\r\n    };\r\n</script>\r\n","/**\n * @module ol/events/EventType\n */\n\n/**\n * @enum {string}\n * @const\n */\nexport default {\n  /**\n   * Generic change event. Triggered when the revision counter is increased.\n   * @event module:ol/events/Event~BaseEvent#change\n   * @api\n   */\n  CHANGE: 'change',\n\n  /**\n   * Generic error event. Triggered when an error occurs.\n   * @event module:ol/events/Event~BaseEvent#error\n   * @api\n   */\n  ERROR: 'error',\n\n  BLUR: 'blur',\n  CLEAR: 'clear',\n  CONTEXTMENU: 'contextmenu',\n  CLICK: 'click',\n  DBLCLICK: 'dblclick',\n  DRAGENTER: 'dragenter',\n  DRAGOVER: 'dragover',\n  DROP: 'drop',\n  FOCUS: 'focus',\n  KEYDOWN: 'keydown',\n  KEYPRESS: 'keypress',\n  LOAD: 'load',\n  RESIZE: 'resize',\n  TOUCHMOVE: 'touchmove',\n  WHEEL: 'wheel',\n};\n","/**\n * @module ol/ImageState\n */\n\n/**\n * @enum {number}\n */\nexport default {\n  IDLE: 0,\n  LOADING: 1,\n  LOADED: 2,\n  ERROR: 3,\n  EMPTY: 4,\n};\n","/**\n * @module ol/util\n */\n\n/**\n * @return {never} Any return.\n */\nexport function abstract() {\n  throw new Error('Unimplemented abstract method.');\n}\n\n/**\n * Counter for getUid.\n * @type {number}\n * @private\n */\nlet uidCounter_ = 0;\n\n/**\n * Gets a unique ID for an object. This mutates the object so that further calls\n * with the same object as a parameter returns the same value. Unique IDs are generated\n * as a strictly increasing sequence. Adapted from goog.getUid.\n *\n * @param {Object} obj The object to get the unique ID for.\n * @return {string} The unique ID for the object.\n * @api\n */\nexport function getUid(obj) {\n  return obj.ol_uid || (obj.ol_uid = String(++uidCounter_));\n}\n\n/**\n * OpenLayers version.\n * @type {string}\n */\nexport const VERSION = '7.3.0';\n","/**\n * @module ol/size\n */\n\n/**\n * An array of numbers representing a size: `[width, height]`.\n * @typedef {Array<number>} Size\n * @api\n */\n\n/**\n * Returns a buffered size.\n * @param {Size} size Size.\n * @param {number} num The amount by which to buffer.\n * @param {Size} [dest] Optional reusable size array.\n * @return {Size} The buffered size.\n */\nexport function buffer(size, num, dest) {\n  if (dest === undefined) {\n    dest = [0, 0];\n  }\n  dest[0] = size[0] + 2 * num;\n  dest[1] = size[1] + 2 * num;\n  return dest;\n}\n\n/**\n * Determines if a size has a positive area.\n * @param {Size} size The size to test.\n * @return {boolean} The size has a positive area.\n */\nexport function hasArea(size) {\n  return size[0] > 0 && size[1] > 0;\n}\n\n/**\n * Returns a size scaled by a ratio. The result will be an array of integers.\n * @param {Size} size Size.\n * @param {number} ratio Ratio.\n * @param {Size} [dest] Optional reusable size array.\n * @return {Size} The scaled size.\n */\nexport function scale(size, ratio, dest) {\n  if (dest === undefined) {\n    dest = [0, 0];\n  }\n  dest[0] = (size[0] * ratio + 0.5) | 0;\n  dest[1] = (size[1] * ratio + 0.5) | 0;\n  return dest;\n}\n\n/**\n * Returns an `Size` array for the passed in number (meaning: square) or\n * `Size` array.\n * (meaning: non-square),\n * @param {number|Size} size Width and height.\n * @param {Size} [dest] Optional reusable size array.\n * @return {Size} Size.\n * @api\n */\nexport function toSize(size, dest) {\n  if (Array.isArray(size)) {\n    return size;\n  }\n  if (dest === undefined) {\n    dest = [size, size];\n  } else {\n    dest[0] = size;\n    dest[1] = size;\n  }\n  return dest;\n}\n","/**\n * @module ol/style/Image\n */\nimport {abstract} from '../util.js';\nimport {toSize} from '../size.js';\n\n/**\n * @typedef {Object} Options\n * @property {number} opacity Opacity.\n * @property {boolean} rotateWithView If the image should get rotated with the view.\n * @property {number} rotation Rotation.\n * @property {number|import(\"../size.js\").Size} scale Scale.\n * @property {Array<number>} displacement Displacement.\n * @property {\"declutter\"|\"obstacle\"|\"none\"|undefined} declutterMode Declutter mode: `declutter`, `obstacle`, 'none */\n\n/**\n * @classdesc\n * A base class used for creating subclasses and not instantiated in\n * apps. Base class for {@link module:ol/style/Icon~Icon}, {@link module:ol/style/Circle~CircleStyle} and\n * {@link module:ol/style/RegularShape~RegularShape}.\n * @abstract\n * @api\n */\nclass ImageStyle {\n  /**\n   * @param {Options} options Options.\n   */\n  constructor(options) {\n    /**\n     * @private\n     * @type {number}\n     */\n    this.opacity_ = options.opacity;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.rotateWithView_ = options.rotateWithView;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.rotation_ = options.rotation;\n\n    /**\n     * @private\n     * @type {number|import(\"../size.js\").Size}\n     */\n    this.scale_ = options.scale;\n\n    /**\n     * @private\n     * @type {import(\"../size.js\").Size}\n     */\n    this.scaleArray_ = toSize(options.scale);\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.displacement_ = options.displacement;\n\n    /**\n     * @private\n     * @type {\"declutter\"|\"obstacle\"|\"none\"|undefined}\n     */\n    this.declutterMode_ = options.declutterMode;\n  }\n\n  /**\n   * Clones the style.\n   * @return {ImageStyle} The cloned style.\n   * @api\n   */\n  clone() {\n    const scale = this.getScale();\n    return new ImageStyle({\n      opacity: this.getOpacity(),\n      scale: Array.isArray(scale) ? scale.slice() : scale,\n      rotation: this.getRotation(),\n      rotateWithView: this.getRotateWithView(),\n      displacement: this.getDisplacement().slice(),\n      declutterMode: this.getDeclutterMode(),\n    });\n  }\n\n  /**\n   * Get the symbolizer opacity.\n   * @return {number} Opacity.\n   * @api\n   */\n  getOpacity() {\n    return this.opacity_;\n  }\n\n  /**\n   * Determine whether the symbolizer rotates with the map.\n   * @return {boolean} Rotate with map.\n   * @api\n   */\n  getRotateWithView() {\n    return this.rotateWithView_;\n  }\n\n  /**\n   * Get the symoblizer rotation.\n   * @return {number} Rotation.\n   * @api\n   */\n  getRotation() {\n    return this.rotation_;\n  }\n\n  /**\n   * Get the symbolizer scale.\n   * @return {number|import(\"../size.js\").Size} Scale.\n   * @api\n   */\n  getScale() {\n    return this.scale_;\n  }\n\n  /**\n   * Get the symbolizer scale array.\n   * @return {import(\"../size.js\").Size} Scale array.\n   */\n  getScaleArray() {\n    return this.scaleArray_;\n  }\n\n  /**\n   * Get the displacement of the shape\n   * @return {Array<number>} Shape's center displacement\n   * @api\n   */\n  getDisplacement() {\n    return this.displacement_;\n  }\n\n  /**\n   * Get the declutter mode of the shape\n   * @return {\"declutter\"|\"obstacle\"|\"none\"|undefined} Shape's declutter mode\n   * @api\n   */\n  getDeclutterMode() {\n    return this.declutterMode_;\n  }\n\n  /**\n   * Get the anchor point in pixels. The anchor determines the center point for the\n   * symbolizer.\n   * @abstract\n   * @return {Array<number>} Anchor.\n   */\n  getAnchor() {\n    return abstract();\n  }\n\n  /**\n   * Get the image element for the symbolizer.\n   * @abstract\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\n   */\n  getImage(pixelRatio) {\n    return abstract();\n  }\n\n  /**\n   * @abstract\n   * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\n   */\n  getHitDetectionImage() {\n    return abstract();\n  }\n\n  /**\n   * Get the image pixel ratio.\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {number} Pixel ratio.\n   */\n  getPixelRatio(pixelRatio) {\n    return 1;\n  }\n\n  /**\n   * @abstract\n   * @return {import(\"../ImageState.js\").default} Image state.\n   */\n  getImageState() {\n    return abstract();\n  }\n\n  /**\n   * @abstract\n   * @return {import(\"../size.js\").Size} Image size.\n   */\n  getImageSize() {\n    return abstract();\n  }\n\n  /**\n   * Get the origin of the symbolizer.\n   * @abstract\n   * @return {Array<number>} Origin.\n   */\n  getOrigin() {\n    return abstract();\n  }\n\n  /**\n   * Get the size of the symbolizer (in pixels).\n   * @abstract\n   * @return {import(\"../size.js\").Size} Size.\n   */\n  getSize() {\n    return abstract();\n  }\n\n  /**\n   * Set the displacement.\n   *\n   * @param {Array<number>} displacement Displacement.\n   * @api\n   */\n  setDisplacement(displacement) {\n    this.displacement_ = displacement;\n  }\n\n  /**\n   * Set the opacity.\n   *\n   * @param {number} opacity Opacity.\n   * @api\n   */\n  setOpacity(opacity) {\n    this.opacity_ = opacity;\n  }\n\n  /**\n   * Set whether to rotate the style with the view.\n   *\n   * @param {boolean} rotateWithView Rotate with map.\n   * @api\n   */\n  setRotateWithView(rotateWithView) {\n    this.rotateWithView_ = rotateWithView;\n  }\n\n  /**\n   * Set the rotation.\n   *\n   * @param {number} rotation Rotation.\n   * @api\n   */\n  setRotation(rotation) {\n    this.rotation_ = rotation;\n  }\n\n  /**\n   * Set the scale.\n   *\n   * @param {number|import(\"../size.js\").Size} scale Scale.\n   * @api\n   */\n  setScale(scale) {\n    this.scale_ = scale;\n    this.scaleArray_ = toSize(scale);\n  }\n\n  /**\n   * @abstract\n   * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n   */\n  listenImageChange(listener) {\n    abstract();\n  }\n\n  /**\n   * Load not yet loaded URI.\n   * @abstract\n   */\n  load() {\n    abstract();\n  }\n\n  /**\n   * @abstract\n   * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n   */\n  unlistenImageChange(listener) {\n    abstract();\n  }\n}\n\nexport default ImageStyle;\n","/**\n * @module ol/AssertionError\n */\n\n/** @type {Object<number, string>} */\nconst messages = {\n  1: 'The view center is not defined',\n  2: 'The view resolution is not defined',\n  3: 'The view rotation is not defined',\n  4: '`image` and `src` cannot be provided at the same time',\n  5: '`imgSize` must be set when `image` is provided',\n  7: '`format` must be set when `url` is set',\n  8: 'Unknown `serverType` configured',\n  9: '`url` must be configured or set using `#setUrl()`',\n  10: 'The default `geometryFunction` can only handle `Point` geometries',\n  11: '`options.featureTypes` must be an Array',\n  12: '`options.geometryName` must also be provided when `options.bbox` is set',\n  13: 'Invalid corner',\n  14: 'Invalid color',\n  15: 'Tried to get a value for a key that does not exist in the cache',\n  16: 'Tried to set a value for a key that is used already',\n  17: '`resolutions` must be sorted in descending order',\n  18: 'Either `origin` or `origins` must be configured, never both',\n  19: 'Number of `tileSizes` and `resolutions` must be equal',\n  20: 'Number of `origins` and `resolutions` must be equal',\n  22: 'Either `tileSize` or `tileSizes` must be configured, never both',\n  24: 'Invalid extent or geometry provided as `geometry`',\n  25: 'Cannot fit empty extent provided as `geometry`',\n  26: 'Features must have an id set',\n  27: 'Features must have an id set',\n  28: '`renderMode` must be `\"hybrid\"` or `\"vector\"`',\n  30: 'The passed `feature` was already added to the source',\n  31: 'Tried to enqueue an `element` that was already added to the queue',\n  32: 'Transformation matrix cannot be inverted',\n  33: 'Invalid units',\n  34: 'Invalid geometry layout',\n  36: 'Unknown SRS type',\n  37: 'Unknown geometry type found',\n  38: '`styleMapValue` has an unknown type',\n  39: 'Unknown geometry type',\n  40: 'Expected `feature` to have a geometry',\n  41: 'Expected an `ol/style/Style` or an array of `ol/style/Style.js`',\n  42: 'Question unknown, the answer is 42',\n  43: 'Expected `layers` to be an array or a `Collection`',\n  47: 'Expected `controls` to be an array or an `ol/Collection`',\n  48: 'Expected `interactions` to be an array or an `ol/Collection`',\n  49: 'Expected `overlays` to be an array or an `ol/Collection`',\n  50: '`options.featureTypes` should be an Array',\n  51: 'Either `url` or `tileJSON` options must be provided',\n  52: 'Unknown `serverType` configured',\n  53: 'Unknown `tierSizeCalculation` configured',\n  55: 'The {-y} placeholder requires a tile grid with extent',\n  56: 'mapBrowserEvent must originate from a pointer event',\n  57: 'At least 2 conditions are required',\n  59: 'Invalid command found in the PBF',\n  60: 'Missing or invalid `size`',\n  61: 'Cannot determine IIIF Image API version from provided image information JSON',\n  62: 'A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`',\n  64: 'Layer opacity must be a number',\n  66: '`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`',\n  67: 'A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both',\n  68: 'A VectorTile source can only be rendered if it has a projection compatible with the view projection',\n  69: '`width` or `height` cannot be provided together with `scale`',\n};\n\n/**\n * Error object thrown when an assertion failed. This is an ECMA-262 Error,\n * extended with a `code` property.\n * See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error.\n */\nclass AssertionError extends Error {\n  /**\n   * @param {number} code Error code.\n   */\n  constructor(code) {\n    const message = messages[code];\n\n    super(message);\n\n    /**\n     * Error code. The meaning of the code can be found on\n     * https://openlayers.org/en/latest/doc/errors/ (replace `latest` with\n     * the version found in the OpenLayers script's header comment if a version\n     * other than the latest is used).\n     * @type {number}\n     * @deprecated ol/AssertionError and error codes will be removed in v8.0\n     * @api\n     */\n    this.code = code;\n\n    /**\n     * @type {string}\n     */\n    this.name = 'AssertionError';\n\n    // Re-assign message, see https://github.com/Rich-Harris/buble/issues/40\n    this.message = message;\n  }\n}\n\nexport default AssertionError;\n","/**\n * @module ol/asserts\n */\nimport AssertionError from './AssertionError.js';\n\n/**\n * @param {*} assertion Assertion we expected to be truthy.\n * @param {number} errorCode Error code.\n */\nexport function assert(assertion, errorCode) {\n  if (!assertion) {\n    throw new AssertionError(errorCode);\n  }\n}\n","/**\n * @module ol/math\n */\n\n/**\n * Takes a number and clamps it to within the provided bounds.\n * @param {number} value The input number.\n * @param {number} min The minimum value to return.\n * @param {number} max The maximum value to return.\n * @return {number} The input number if it is within bounds, or the nearest\n *     number within the bounds.\n */\nexport function clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n\n/**\n * Returns the square of the closest distance between the point (x, y) and the\n * line segment (x1, y1) to (x2, y2).\n * @param {number} x X.\n * @param {number} y Y.\n * @param {number} x1 X1.\n * @param {number} y1 Y1.\n * @param {number} x2 X2.\n * @param {number} y2 Y2.\n * @return {number} Squared distance.\n */\nexport function squaredSegmentDistance(x, y, x1, y1, x2, y2) {\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  if (dx !== 0 || dy !== 0) {\n    const t = ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy);\n    if (t > 1) {\n      x1 = x2;\n      y1 = y2;\n    } else if (t > 0) {\n      x1 += dx * t;\n      y1 += dy * t;\n    }\n  }\n  return squaredDistance(x, y, x1, y1);\n}\n\n/**\n * Returns the square of the distance between the points (x1, y1) and (x2, y2).\n * @param {number} x1 X1.\n * @param {number} y1 Y1.\n * @param {number} x2 X2.\n * @param {number} y2 Y2.\n * @return {number} Squared distance.\n */\nexport function squaredDistance(x1, y1, x2, y2) {\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  return dx * dx + dy * dy;\n}\n\n/**\n * Solves system of linear equations using Gaussian elimination method.\n *\n * @param {Array<Array<number>>} mat Augmented matrix (n x n + 1 column)\n *                                     in row-major order.\n * @return {Array<number>} The resulting vector.\n */\nexport function solveLinearSystem(mat) {\n  const n = mat.length;\n\n  for (let i = 0; i < n; i++) {\n    // Find max in the i-th column (ignoring i - 1 first rows)\n    let maxRow = i;\n    let maxEl = Math.abs(mat[i][i]);\n    for (let r = i + 1; r < n; r++) {\n      const absValue = Math.abs(mat[r][i]);\n      if (absValue > maxEl) {\n        maxEl = absValue;\n        maxRow = r;\n      }\n    }\n\n    if (maxEl === 0) {\n      return null; // matrix is singular\n    }\n\n    // Swap max row with i-th (current) row\n    const tmp = mat[maxRow];\n    mat[maxRow] = mat[i];\n    mat[i] = tmp;\n\n    // Subtract the i-th row to make all the remaining rows 0 in the i-th column\n    for (let j = i + 1; j < n; j++) {\n      const coef = -mat[j][i] / mat[i][i];\n      for (let k = i; k < n + 1; k++) {\n        if (i == k) {\n          mat[j][k] = 0;\n        } else {\n          mat[j][k] += coef * mat[i][k];\n        }\n      }\n    }\n  }\n\n  // Solve Ax=b for upper triangular matrix A (mat)\n  const x = new Array(n);\n  for (let l = n - 1; l >= 0; l--) {\n    x[l] = mat[l][n] / mat[l][l];\n    for (let m = l - 1; m >= 0; m--) {\n      mat[m][n] -= mat[m][l] * x[l];\n    }\n  }\n  return x;\n}\n\n/**\n * Converts radians to to degrees.\n *\n * @param {number} angleInRadians Angle in radians.\n * @return {number} Angle in degrees.\n */\nexport function toDegrees(angleInRadians) {\n  return (angleInRadians * 180) / Math.PI;\n}\n\n/**\n * Converts degrees to radians.\n *\n * @param {number} angleInDegrees Angle in degrees.\n * @return {number} Angle in radians.\n */\nexport function toRadians(angleInDegrees) {\n  return (angleInDegrees * Math.PI) / 180;\n}\n\n/**\n * Returns the modulo of a / b, depending on the sign of b.\n *\n * @param {number} a Dividend.\n * @param {number} b Divisor.\n * @return {number} Modulo.\n */\nexport function modulo(a, b) {\n  const r = a % b;\n  return r * b < 0 ? r + b : r;\n}\n\n/**\n * Calculates the linearly interpolated value of x between a and b.\n *\n * @param {number} a Number\n * @param {number} b Number\n * @param {number} x Value to be interpolated.\n * @return {number} Interpolated value.\n */\nexport function lerp(a, b, x) {\n  return a + x * (b - a);\n}\n\n/**\n * Returns a number with a limited number of decimal digits.\n * @param {number} n The input number.\n * @param {number} decimals The maximum number of decimal digits.\n * @return {number} The input number with a limited number of decimal digits.\n */\nexport function toFixed(n, decimals) {\n  const factor = Math.pow(10, decimals);\n  return Math.round(n * factor) / factor;\n}\n\n/**\n * Rounds a number to the nearest integer value considering only the given number\n * of decimal digits (with rounding on the final digit).\n * @param {number} n The input number.\n * @param {number} decimals The maximum number of decimal digits.\n * @return {number} The nearest integer.\n */\nexport function round(n, decimals) {\n  return Math.round(toFixed(n, decimals));\n}\n\n/**\n * Rounds a number to the next smaller integer considering only the given number\n * of decimal digits (with rounding on the final digit).\n * @param {number} n The input number.\n * @param {number} decimals The maximum number of decimal digits.\n * @return {number} The next smaller integer.\n */\nexport function floor(n, decimals) {\n  return Math.floor(toFixed(n, decimals));\n}\n\n/**\n * Rounds a number to the next bigger integer considering only the given number\n * of decimal digits (with rounding on the final digit).\n * @param {number} n The input number.\n * @param {number} decimals The maximum number of decimal digits.\n * @return {number} The next bigger integer.\n */\nexport function ceil(n, decimals) {\n  return Math.ceil(toFixed(n, decimals));\n}\n","/**\n * @module ol/color\n */\nimport {assert} from './asserts.js';\nimport {clamp} from './math.js';\n\n/**\n * A color represented as a short array [red, green, blue, alpha].\n * red, green, and blue should be integers in the range 0..255 inclusive.\n * alpha should be a float in the range 0..1 inclusive. If no alpha value is\n * given then `1` will be used.\n * @typedef {Array<number>} Color\n * @api\n */\n\n/**\n * This RegExp matches # followed by 3, 4, 6, or 8 hex digits.\n * @const\n * @type {RegExp}\n * @private\n */\nconst HEX_COLOR_RE_ = /^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i;\n\n/**\n * Regular expression for matching potential named color style strings.\n * @const\n * @type {RegExp}\n * @private\n */\nconst NAMED_COLOR_RE_ = /^([a-z]*)$|^hsla?\\(.*\\)$/i;\n\n/**\n * Return the color as an rgba string.\n * @param {Color|string} color Color.\n * @return {string} Rgba string.\n * @api\n */\nexport function asString(color) {\n  if (typeof color === 'string') {\n    return color;\n  }\n  return toString(color);\n}\n\n/**\n * Return named color as an rgba string.\n * @param {string} color Named color.\n * @return {string} Rgb string.\n */\nfunction fromNamed(color) {\n  const el = document.createElement('div');\n  el.style.color = color;\n  if (el.style.color !== '') {\n    document.body.appendChild(el);\n    const rgb = getComputedStyle(el).color;\n    document.body.removeChild(el);\n    return rgb;\n  }\n  return '';\n}\n\n/**\n * @param {string} s String.\n * @return {Color} Color.\n */\nexport const fromString = (function () {\n  // We maintain a small cache of parsed strings.  To provide cheap LRU-like\n  // semantics, whenever the cache grows too large we simply delete an\n  // arbitrary 25% of the entries.\n\n  /**\n   * @const\n   * @type {number}\n   */\n  const MAX_CACHE_SIZE = 1024;\n\n  /**\n   * @type {Object<string, Color>}\n   */\n  const cache = {};\n\n  /**\n   * @type {number}\n   */\n  let cacheSize = 0;\n\n  return (\n    /**\n     * @param {string} s String.\n     * @return {Color} Color.\n     */\n    function (s) {\n      let color;\n      if (cache.hasOwnProperty(s)) {\n        color = cache[s];\n      } else {\n        if (cacheSize >= MAX_CACHE_SIZE) {\n          let i = 0;\n          for (const key in cache) {\n            if ((i++ & 3) === 0) {\n              delete cache[key];\n              --cacheSize;\n            }\n          }\n        }\n        color = fromStringInternal_(s);\n        cache[s] = color;\n        ++cacheSize;\n      }\n      return color;\n    }\n  );\n})();\n\n/**\n * Return the color as an array. This function maintains a cache of calculated\n * arrays which means the result should not be modified.\n * @param {Color|string} color Color.\n * @return {Color} Color.\n * @api\n */\nexport function asArray(color) {\n  if (Array.isArray(color)) {\n    return color;\n  }\n  return fromString(color);\n}\n\n/**\n * @param {string} s String.\n * @private\n * @return {Color} Color.\n */\nfunction fromStringInternal_(s) {\n  let r, g, b, a, color;\n\n  if (NAMED_COLOR_RE_.exec(s)) {\n    s = fromNamed(s);\n  }\n\n  if (HEX_COLOR_RE_.exec(s)) {\n    // hex\n    const n = s.length - 1; // number of hex digits\n    let d; // number of digits per channel\n    if (n <= 4) {\n      d = 1;\n    } else {\n      d = 2;\n    }\n    const hasAlpha = n === 4 || n === 8;\n    r = parseInt(s.substr(1 + 0 * d, d), 16);\n    g = parseInt(s.substr(1 + 1 * d, d), 16);\n    b = parseInt(s.substr(1 + 2 * d, d), 16);\n    if (hasAlpha) {\n      a = parseInt(s.substr(1 + 3 * d, d), 16);\n    } else {\n      a = 255;\n    }\n    if (d == 1) {\n      r = (r << 4) + r;\n      g = (g << 4) + g;\n      b = (b << 4) + b;\n      if (hasAlpha) {\n        a = (a << 4) + a;\n      }\n    }\n    color = [r, g, b, a / 255];\n  } else if (s.startsWith('rgba(')) {\n    // rgba()\n    color = s.slice(5, -1).split(',').map(Number);\n    normalize(color);\n  } else if (s.startsWith('rgb(')) {\n    // rgb()\n    color = s.slice(4, -1).split(',').map(Number);\n    color.push(1);\n    normalize(color);\n  } else {\n    assert(false, 14); // Invalid color\n  }\n  return color;\n}\n\n/**\n * TODO this function is only used in the test, we probably shouldn't export it\n * @param {Color} color Color.\n * @return {Color} Clamped color.\n */\nexport function normalize(color) {\n  color[0] = clamp((color[0] + 0.5) | 0, 0, 255);\n  color[1] = clamp((color[1] + 0.5) | 0, 0, 255);\n  color[2] = clamp((color[2] + 0.5) | 0, 0, 255);\n  color[3] = clamp(color[3], 0, 1);\n  return color;\n}\n\n/**\n * @param {Color} color Color.\n * @return {string} String.\n */\nexport function toString(color) {\n  let r = color[0];\n  if (r != (r | 0)) {\n    r = (r + 0.5) | 0;\n  }\n  let g = color[1];\n  if (g != (g | 0)) {\n    g = (g + 0.5) | 0;\n  }\n  let b = color[2];\n  if (b != (b | 0)) {\n    b = (b + 0.5) | 0;\n  }\n  const a = color[3] === undefined ? 1 : Math.round(color[3] * 100) / 100;\n  return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n}\n\n/**\n * @param {string} s String.\n * @return {boolean} Whether the string is actually a valid color\n */\nexport function isStringColor(s) {\n  if (NAMED_COLOR_RE_.test(s)) {\n    s = fromNamed(s);\n  }\n  return HEX_COLOR_RE_.test(s) || s.startsWith('rgba(') || s.startsWith('rgb(');\n}\n","/**\n * @module ol/Disposable\n */\n\n/**\n * @classdesc\n * Objects that need to clean up after themselves.\n */\nclass Disposable {\n  constructor() {\n    /**\n     * The object has already been disposed.\n     * @type {boolean}\n     * @protected\n     */\n    this.disposed = false;\n  }\n\n  /**\n   * Clean up.\n   */\n  dispose() {\n    if (!this.disposed) {\n      this.disposed = true;\n      this.disposeInternal();\n    }\n  }\n\n  /**\n   * Extension point for disposable objects.\n   * @protected\n   */\n  disposeInternal() {}\n}\n\nexport default Disposable;\n","/**\n * @module ol/events/Event\n */\n\n/**\n * @classdesc\n * Stripped down implementation of the W3C DOM Level 2 Event interface.\n * See https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-interface.\n *\n * This implementation only provides `type` and `target` properties, and\n * `stopPropagation` and `preventDefault` methods. It is meant as base class\n * for higher level events defined in the library, and works with\n * {@link module:ol/events/Target~Target}.\n */\nclass BaseEvent {\n  /**\n   * @param {string} type Type.\n   */\n  constructor(type) {\n    /**\n     * @type {boolean}\n     */\n    this.propagationStopped;\n\n    /**\n     * @type {boolean}\n     */\n    this.defaultPrevented;\n\n    /**\n     * The event type.\n     * @type {string}\n     * @api\n     */\n    this.type = type;\n\n    /**\n     * The event target.\n     * @type {Object}\n     * @api\n     */\n    this.target = null;\n  }\n\n  /**\n   * Prevent default. This means that no emulated `click`, `singleclick` or `doubleclick` events\n   * will be fired.\n   * @api\n   */\n  preventDefault() {\n    this.defaultPrevented = true;\n  }\n\n  /**\n   * Stop event propagation.\n   * @api\n   */\n  stopPropagation() {\n    this.propagationStopped = true;\n  }\n}\n\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function stopPropagation(evt) {\n  evt.stopPropagation();\n}\n\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function preventDefault(evt) {\n  evt.preventDefault();\n}\n\nexport default BaseEvent;\n","/**\n * @module ol/functions\n */\n\nimport {equals as arrayEquals} from './array.js';\n\n/**\n * Always returns true.\n * @return {boolean} true.\n */\nexport function TRUE() {\n  return true;\n}\n\n/**\n * Always returns false.\n * @return {boolean} false.\n */\nexport function FALSE() {\n  return false;\n}\n\n/**\n * A reusable function, used e.g. as a default for callbacks.\n *\n * @return {void} Nothing.\n */\nexport function VOID() {}\n\n/**\n * Wrap a function in another function that remembers the last return.  If the\n * returned function is called twice in a row with the same arguments and the same\n * this object, it will return the value from the first call in the second call.\n *\n * @param {function(...any): ReturnType} fn The function to memoize.\n * @return {function(...any): ReturnType} The memoized function.\n * @template ReturnType\n */\nexport function memoizeOne(fn) {\n  let called = false;\n\n  /** @type {ReturnType} */\n  let lastResult;\n\n  /** @type {Array<any>} */\n  let lastArgs;\n\n  let lastThis;\n\n  return function () {\n    const nextArgs = Array.prototype.slice.call(arguments);\n    if (!called || this !== lastThis || !arrayEquals(nextArgs, lastArgs)) {\n      called = true;\n      lastThis = this;\n      lastArgs = nextArgs;\n      lastResult = fn.apply(this, arguments);\n    }\n    return lastResult;\n  };\n}\n\n/**\n * @template T\n * @param {function(): (T | Promise<T>)} getter A function that returns a value or a promise for a value.\n * @return {Promise<T>} A promise for the value.\n */\nexport function toPromise(getter) {\n  function promiseGetter() {\n    let value;\n    try {\n      value = getter();\n    } catch (err) {\n      return Promise.reject(err);\n    }\n    if (value instanceof Promise) {\n      return value;\n    }\n    return Promise.resolve(value);\n  }\n  return promiseGetter();\n}\n","/**\n * @module ol/obj\n */\n\n/**\n * Removes all properties from an object.\n * @param {Object} object The object to clear.\n */\nexport function clear(object) {\n  for (const property in object) {\n    delete object[property];\n  }\n}\n\n/**\n * Determine if an object has any properties.\n * @param {Object} object The object to check.\n * @return {boolean} The object is empty.\n */\nexport function isEmpty(object) {\n  let property;\n  for (property in object) {\n    return false;\n  }\n  return !property;\n}\n","/**\n * @module ol/events/Target\n */\nimport Disposable from '../Disposable.js';\nimport Event from './Event.js';\nimport {VOID} from '../functions.js';\nimport {clear} from '../obj.js';\n\n/**\n * @typedef {EventTarget|Target} EventTargetLike\n */\n\n/**\n * @classdesc\n * A simplified implementation of the W3C DOM Level 2 EventTarget interface.\n * See https://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-EventTarget.\n *\n * There are two important simplifications compared to the specification:\n *\n * 1. The handling of `useCapture` in `addEventListener` and\n *    `removeEventListener`. There is no real capture model.\n * 2. The handling of `stopPropagation` and `preventDefault` on `dispatchEvent`.\n *    There is no event target hierarchy. When a listener calls\n *    `stopPropagation` or `preventDefault` on an event object, it means that no\n *    more listeners after this one will be called. Same as when the listener\n *    returns false.\n */\nclass Target extends Disposable {\n  /**\n   * @param {*} [target] Default event target for dispatched events.\n   */\n  constructor(target) {\n    super();\n\n    /**\n     * @private\n     * @type {*}\n     */\n    this.eventTarget_ = target;\n\n    /**\n     * @private\n     * @type {Object<string, number>}\n     */\n    this.pendingRemovals_ = null;\n\n    /**\n     * @private\n     * @type {Object<string, number>}\n     */\n    this.dispatching_ = null;\n\n    /**\n     * @private\n     * @type {Object<string, Array<import(\"../events.js\").Listener>>}\n     */\n    this.listeners_ = null;\n  }\n\n  /**\n   * @param {string} type Type.\n   * @param {import(\"../events.js\").Listener} listener Listener.\n   */\n  addEventListener(type, listener) {\n    if (!type || !listener) {\n      return;\n    }\n    const listeners = this.listeners_ || (this.listeners_ = {});\n    const listenersForType = listeners[type] || (listeners[type] = []);\n    if (!listenersForType.includes(listener)) {\n      listenersForType.push(listener);\n    }\n  }\n\n  /**\n   * Dispatches an event and calls all listeners listening for events\n   * of this type. The event parameter can either be a string or an\n   * Object with a `type` property.\n   *\n   * @param {import(\"./Event.js\").default|string} event Event object.\n   * @return {boolean|undefined} `false` if anyone called preventDefault on the\n   *     event object or if any of the listeners returned false.\n   * @api\n   */\n  dispatchEvent(event) {\n    const isString = typeof event === 'string';\n    const type = isString ? event : event.type;\n    const listeners = this.listeners_ && this.listeners_[type];\n    if (!listeners) {\n      return;\n    }\n\n    const evt = isString ? new Event(event) : /** @type {Event} */ (event);\n    if (!evt.target) {\n      evt.target = this.eventTarget_ || this;\n    }\n    const dispatching = this.dispatching_ || (this.dispatching_ = {});\n    const pendingRemovals =\n      this.pendingRemovals_ || (this.pendingRemovals_ = {});\n    if (!(type in dispatching)) {\n      dispatching[type] = 0;\n      pendingRemovals[type] = 0;\n    }\n    ++dispatching[type];\n    let propagate;\n    for (let i = 0, ii = listeners.length; i < ii; ++i) {\n      if ('handleEvent' in listeners[i]) {\n        propagate = /** @type {import(\"../events.js\").ListenerObject} */ (\n          listeners[i]\n        ).handleEvent(evt);\n      } else {\n        propagate = /** @type {import(\"../events.js\").ListenerFunction} */ (\n          listeners[i]\n        ).call(this, evt);\n      }\n      if (propagate === false || evt.propagationStopped) {\n        propagate = false;\n        break;\n      }\n    }\n    if (--dispatching[type] === 0) {\n      let pr = pendingRemovals[type];\n      delete pendingRemovals[type];\n      while (pr--) {\n        this.removeEventListener(type, VOID);\n      }\n      delete dispatching[type];\n    }\n    return propagate;\n  }\n\n  /**\n   * Clean up.\n   */\n  disposeInternal() {\n    this.listeners_ && clear(this.listeners_);\n  }\n\n  /**\n   * Get the listeners for a specified event type. Listeners are returned in the\n   * order that they will be called in.\n   *\n   * @param {string} type Type.\n   * @return {Array<import(\"../events.js\").Listener>|undefined} Listeners.\n   */\n  getListeners(type) {\n    return (this.listeners_ && this.listeners_[type]) || undefined;\n  }\n\n  /**\n   * @param {string} [type] Type. If not provided,\n   *     `true` will be returned if this event target has any listeners.\n   * @return {boolean} Has listeners.\n   */\n  hasListener(type) {\n    if (!this.listeners_) {\n      return false;\n    }\n    return type\n      ? type in this.listeners_\n      : Object.keys(this.listeners_).length > 0;\n  }\n\n  /**\n   * @param {string} type Type.\n   * @param {import(\"../events.js\").Listener} listener Listener.\n   */\n  removeEventListener(type, listener) {\n    const listeners = this.listeners_ && this.listeners_[type];\n    if (listeners) {\n      const index = listeners.indexOf(listener);\n      if (index !== -1) {\n        if (this.pendingRemovals_ && type in this.pendingRemovals_) {\n          // make listener a no-op, and remove later in #dispatchEvent()\n          listeners[index] = VOID;\n          ++this.pendingRemovals_[type];\n        } else {\n          listeners.splice(index, 1);\n          if (listeners.length === 0) {\n            delete this.listeners_[type];\n          }\n        }\n      }\n    }\n  }\n}\n\nexport default Target;\n","/**\n * @module ol/has\n */\n\nconst ua =\n  typeof navigator !== 'undefined' && typeof navigator.userAgent !== 'undefined'\n    ? navigator.userAgent.toLowerCase()\n    : '';\n\n/**\n * User agent string says we are dealing with Firefox as browser.\n * @type {boolean}\n */\nexport const FIREFOX = ua.includes('firefox');\n\n/**\n * User agent string says we are dealing with Safari as browser.\n * @type {boolean}\n */\nexport const SAFARI = ua.includes('safari') && !ua.includes('chrom');\n\n/**\n * https://bugs.webkit.org/show_bug.cgi?id=237906\n * @type {boolean}\n */\nexport const SAFARI_BUG_237906 =\n  SAFARI &&\n  (ua.includes('version/15.4') ||\n    /cpu (os|iphone os) 15_4 like mac os x/.test(ua));\n\n/**\n * User agent string says we are dealing with a WebKit engine.\n * @type {boolean}\n */\nexport const WEBKIT = ua.includes('webkit') && !ua.includes('edge');\n\n/**\n * User agent string says we are dealing with a Mac as platform.\n * @type {boolean}\n */\nexport const MAC = ua.includes('macintosh');\n\n/**\n * The ratio between physical pixels and device-independent pixels\n * (dips) on the device (`window.devicePixelRatio`).\n * @const\n * @type {number}\n * @api\n */\nexport const DEVICE_PIXEL_RATIO =\n  typeof devicePixelRatio !== 'undefined' ? devicePixelRatio : 1;\n\n/**\n * The execution context is a worker with OffscreenCanvas available.\n * @const\n * @type {boolean}\n */\nexport const WORKER_OFFSCREEN_CANVAS =\n  typeof WorkerGlobalScope !== 'undefined' &&\n  typeof OffscreenCanvas !== 'undefined' &&\n  self instanceof WorkerGlobalScope; //eslint-disable-line\n\n/**\n * Image.prototype.decode() is supported.\n * @type {boolean}\n */\nexport const IMAGE_DECODE =\n  typeof Image !== 'undefined' && Image.prototype.decode;\n\n/**\n * @type {boolean}\n */\nexport const PASSIVE_EVENT_LISTENERS = (function () {\n  let passive = false;\n  try {\n    const options = Object.defineProperty({}, 'passive', {\n      get: function () {\n        passive = true;\n      },\n    });\n\n    window.addEventListener('_', null, options);\n    window.removeEventListener('_', null, options);\n  } catch (error) {\n    // passive not supported\n  }\n  return passive;\n})();\n","import {WORKER_OFFSCREEN_CANVAS} from './has.js';\n\n/**\n * @module ol/dom\n */\n\n//FIXME Move this function to the canvas module\n/**\n * Create an html canvas element and returns its 2d context.\n * @param {number} [width] Canvas width.\n * @param {number} [height] Canvas height.\n * @param {Array<HTMLCanvasElement>} [canvasPool] Canvas pool to take existing canvas from.\n * @param {CanvasRenderingContext2DSettings} [settings] CanvasRenderingContext2DSettings\n * @return {CanvasRenderingContext2D} The context.\n */\nexport function createCanvasContext2D(width, height, canvasPool, settings) {\n  /** @type {HTMLCanvasElement|OffscreenCanvas} */\n  let canvas;\n  if (canvasPool && canvasPool.length) {\n    canvas = canvasPool.shift();\n  } else if (WORKER_OFFSCREEN_CANVAS) {\n    canvas = new OffscreenCanvas(width || 300, height || 300);\n  } else {\n    canvas = document.createElement('canvas');\n  }\n  if (width) {\n    canvas.width = width;\n  }\n  if (height) {\n    canvas.height = height;\n  }\n  //FIXME Allow OffscreenCanvasRenderingContext2D as return type\n  return /** @type {CanvasRenderingContext2D} */ (\n    canvas.getContext('2d', settings)\n  );\n}\n\n/**\n * Releases canvas memory to avoid exceeding memory limits in Safari.\n * See https://pqina.nl/blog/total-canvas-memory-use-exceeds-the-maximum-limit/\n * @param {CanvasRenderingContext2D} context Context.\n */\nexport function releaseCanvas(context) {\n  const canvas = context.canvas;\n  canvas.width = 1;\n  canvas.height = 1;\n  context.clearRect(0, 0, 1, 1);\n}\n\n/**\n * Get the current computed width for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerWidth(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The width.\n */\nexport function outerWidth(element) {\n  let width = element.offsetWidth;\n  const style = getComputedStyle(element);\n  width += parseInt(style.marginLeft, 10) + parseInt(style.marginRight, 10);\n\n  return width;\n}\n\n/**\n * Get the current computed height for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerHeight(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The height.\n */\nexport function outerHeight(element) {\n  let height = element.offsetHeight;\n  const style = getComputedStyle(element);\n  height += parseInt(style.marginTop, 10) + parseInt(style.marginBottom, 10);\n\n  return height;\n}\n\n/**\n * @param {Node} newNode Node to replace old node\n * @param {Node} oldNode The node to be replaced\n */\nexport function replaceNode(newNode, oldNode) {\n  const parent = oldNode.parentNode;\n  if (parent) {\n    parent.replaceChild(newNode, oldNode);\n  }\n}\n\n/**\n * @param {Node} node The node to remove.\n * @return {Node|null} The node that was removed or null.\n */\nexport function removeNode(node) {\n  return node && node.parentNode ? node.parentNode.removeChild(node) : null;\n}\n\n/**\n * @param {Node} node The node to remove the children from.\n */\nexport function removeChildren(node) {\n  while (node.lastChild) {\n    node.removeChild(node.lastChild);\n  }\n}\n\n/**\n * Transform the children of a parent node so they match the\n * provided list of children.  This function aims to efficiently\n * remove, add, and reorder child nodes while maintaining a simple\n * implementation (it is not guaranteed to minimize DOM operations).\n * @param {Node} node The parent node whose children need reworking.\n * @param {Array<Node>} children The desired children.\n */\nexport function replaceChildren(node, children) {\n  const oldChildren = node.childNodes;\n\n  for (let i = 0; true; ++i) {\n    const oldChild = oldChildren[i];\n    const newChild = children[i];\n\n    // check if our work is done\n    if (!oldChild && !newChild) {\n      break;\n    }\n\n    // check if children match\n    if (oldChild === newChild) {\n      continue;\n    }\n\n    // check if a new child needs to be added\n    if (!oldChild) {\n      node.appendChild(newChild);\n      continue;\n    }\n\n    // check if an old child needs to be removed\n    if (!newChild) {\n      node.removeChild(oldChild);\n      --i;\n      continue;\n    }\n\n    // reorder\n    node.insertBefore(newChild, oldChild);\n  }\n}\n","/**\n * @module ol/style/IconImageCache\n */\nimport {asString} from '../color.js';\n\n/**\n * @classdesc\n * Singleton class. Available through {@link module:ol/style/IconImageCache.shared}.\n */\nclass IconImageCache {\n  constructor() {\n    /**\n     * @type {!Object<string, import(\"./IconImage.js\").default>}\n     * @private\n     */\n    this.cache_ = {};\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.cacheSize_ = 0;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.maxCacheSize_ = 32;\n  }\n\n  /**\n   * FIXME empty description for jsdoc\n   */\n  clear() {\n    this.cache_ = {};\n    this.cacheSize_ = 0;\n  }\n\n  /**\n   * @return {boolean} Can expire cache.\n   */\n  canExpireCache() {\n    return this.cacheSize_ > this.maxCacheSize_;\n  }\n\n  /**\n   * FIXME empty description for jsdoc\n   */\n  expire() {\n    if (this.canExpireCache()) {\n      let i = 0;\n      for (const key in this.cache_) {\n        const iconImage = this.cache_[key];\n        if ((i++ & 3) === 0 && !iconImage.hasListener()) {\n          delete this.cache_[key];\n          --this.cacheSize_;\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {string} src Src.\n   * @param {?string} crossOrigin Cross origin.\n   * @param {import(\"../color.js\").Color} color Color.\n   * @return {import(\"./IconImage.js\").default} Icon image.\n   */\n  get(src, crossOrigin, color) {\n    const key = getKey(src, crossOrigin, color);\n    return key in this.cache_ ? this.cache_[key] : null;\n  }\n\n  /**\n   * @param {string} src Src.\n   * @param {?string} crossOrigin Cross origin.\n   * @param {import(\"../color.js\").Color} color Color.\n   * @param {import(\"./IconImage.js\").default} iconImage Icon image.\n   */\n  set(src, crossOrigin, color, iconImage) {\n    const key = getKey(src, crossOrigin, color);\n    this.cache_[key] = iconImage;\n    ++this.cacheSize_;\n  }\n\n  /**\n   * Set the cache size of the icon cache. Default is `32`. Change this value when\n   * your map uses more than 32 different icon images and you are not caching icon\n   * styles on the application level.\n   * @param {number} maxCacheSize Cache max size.\n   * @api\n   */\n  setSize(maxCacheSize) {\n    this.maxCacheSize_ = maxCacheSize;\n    this.expire();\n  }\n}\n\n/**\n * @param {string} src Src.\n * @param {?string} crossOrigin Cross origin.\n * @param {import(\"../color.js\").Color} color Color.\n * @return {string} Cache key.\n */\nfunction getKey(src, crossOrigin, color) {\n  const colorString = color ? asString(color) : 'null';\n  return crossOrigin + ':' + src + ':' + colorString;\n}\n\nexport default IconImageCache;\n\n/**\n * The {@link module:ol/style/IconImageCache~IconImageCache} for\n * {@link module:ol/style/Icon~Icon} images.\n * @api\n */\nexport const shared = new IconImageCache();\n","/**\n * @module ol/events\n */\nimport {clear} from './obj.js';\n\n/**\n * Key to use with {@link module:ol/Observable.unByKey}.\n * @typedef {Object} EventsKey\n * @property {ListenerFunction} listener Listener.\n * @property {import(\"./events/Target.js\").EventTargetLike} target Target.\n * @property {string} type Type.\n * @api\n */\n\n/**\n * Listener function. This function is called with an event object as argument.\n * When the function returns `false`, event propagation will stop.\n *\n * @typedef {function((Event|import(\"./events/Event.js\").default)): (void|boolean)} ListenerFunction\n * @api\n */\n\n/**\n * @typedef {Object} ListenerObject\n * @property {ListenerFunction} handleEvent HandleEvent listener function.\n */\n\n/**\n * @typedef {ListenerFunction|ListenerObject} Listener\n */\n\n/**\n * Registers an event listener on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * This function efficiently binds a `listener` to a `this` object, and returns\n * a key for use with {@link module:ol/events.unlistenByKey}.\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n * @param {string} type Event type.\n * @param {ListenerFunction} listener Listener.\n * @param {Object} [thisArg] Object referenced by the `this` keyword in the\n *     listener. Default is the `target`.\n * @param {boolean} [once] If true, add the listener as one-off listener.\n * @return {EventsKey} Unique key for the listener.\n */\nexport function listen(target, type, listener, thisArg, once) {\n  if (thisArg && thisArg !== target) {\n    listener = listener.bind(thisArg);\n  }\n  if (once) {\n    const originalListener = listener;\n    listener = function () {\n      target.removeEventListener(type, listener);\n      originalListener.apply(this, arguments);\n    };\n  }\n  const eventsKey = {\n    target: target,\n    type: type,\n    listener: listener,\n  };\n  target.addEventListener(type, listener);\n  return eventsKey;\n}\n\n/**\n * Registers a one-off event listener on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * This function efficiently binds a `listener` as self-unregistering listener\n * to a `this` object, and returns a key for use with\n * {@link module:ol/events.unlistenByKey} in case the listener needs to be\n * unregistered before it is called.\n *\n * When {@link module:ol/events.listen} is called with the same arguments after this\n * function, the self-unregistering listener will be turned into a permanent\n * listener.\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n * @param {string} type Event type.\n * @param {ListenerFunction} listener Listener.\n * @param {Object} [thisArg] Object referenced by the `this` keyword in the\n *     listener. Default is the `target`.\n * @return {EventsKey} Key for unlistenByKey.\n */\nexport function listenOnce(target, type, listener, thisArg) {\n  return listen(target, type, listener, thisArg, true);\n}\n\n/**\n * Unregisters event listeners on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * The argument passed to this function is the key returned from\n * {@link module:ol/events.listen} or {@link module:ol/events.listenOnce}.\n *\n * @param {EventsKey} key The key.\n */\nexport function unlistenByKey(key) {\n  if (key && key.target) {\n    key.target.removeEventListener(key.type, key.listener);\n    clear(key);\n  }\n}\n","/**\n * @module ol/Image\n */\nimport EventType from './events/EventType.js';\nimport ImageBase from './ImageBase.js';\nimport ImageState from './ImageState.js';\nimport {IMAGE_DECODE} from './has.js';\nimport {getHeight} from './extent.js';\nimport {listenOnce, unlistenByKey} from './events.js';\n\n/**\n * A function that takes an {@link module:ol/Image~ImageWrapper} for the image and a\n * `{string}` for the src as arguments. It is supposed to make it so the\n * underlying image {@link module:ol/Image~ImageWrapper#getImage} is assigned the\n * content specified by the src. If not specified, the default is\n *\n *     function(image, src) {\n *       image.getImage().src = src;\n *     }\n *\n * Providing a custom `imageLoadFunction` can be useful to load images with\n * post requests or - in general - through XHR requests, where the src of the\n * image element would be set to a data URI when the content is loaded.\n *\n * @typedef {function(ImageWrapper, string): void} LoadFunction\n * @api\n */\n\nclass ImageWrapper extends ImageBase {\n  /**\n   * @param {import(\"./extent.js\").Extent} extent Extent.\n   * @param {number|undefined} resolution Resolution.\n   * @param {number} pixelRatio Pixel ratio.\n   * @param {string} src Image source URI.\n   * @param {?string} crossOrigin Cross origin.\n   * @param {LoadFunction} imageLoadFunction Image load function.\n   * @param {CanvasRenderingContext2D} [context] Canvas context. When provided, the image will be\n   *    drawn into the context's canvas, and `getImage()` will return the canvas once the image\n   *    has finished loading.\n   */\n  constructor(\n    extent,\n    resolution,\n    pixelRatio,\n    src,\n    crossOrigin,\n    imageLoadFunction,\n    context\n  ) {\n    super(extent, resolution, pixelRatio, ImageState.IDLE);\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this.src_ = src;\n\n    /**\n     * @private\n     * @type {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement}\n     */\n    this.image_ = new Image();\n    if (crossOrigin !== null) {\n      this.image_.crossOrigin = crossOrigin;\n    }\n\n    /**\n     * @private\n     * @type {CanvasRenderingContext2D}\n     */\n    this.context_ = context;\n\n    /**\n     * @private\n     * @type {?function():void}\n     */\n    this.unlisten_ = null;\n\n    /**\n     * @protected\n     * @type {import(\"./ImageState.js\").default}\n     */\n    this.state = ImageState.IDLE;\n\n    /**\n     * @private\n     * @type {LoadFunction}\n     */\n    this.imageLoadFunction_ = imageLoadFunction;\n  }\n\n  /**\n   * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n   * @api\n   */\n  getImage() {\n    if (\n      this.state == ImageState.LOADED &&\n      this.context_ &&\n      !(this.image_ instanceof HTMLCanvasElement)\n    ) {\n      const canvas = this.context_.canvas;\n      canvas.width = this.image_.width;\n      canvas.height = this.image_.height;\n      this.context_.drawImage(this.image_, 0, 0);\n      this.image_ = this.context_.canvas;\n    }\n    return this.image_;\n  }\n\n  /**\n   * Tracks loading or read errors.\n   *\n   * @private\n   */\n  handleImageError_() {\n    this.state = ImageState.ERROR;\n    this.unlistenImage_();\n    this.changed();\n  }\n\n  /**\n   * Tracks successful image load.\n   *\n   * @private\n   */\n  handleImageLoad_() {\n    if (this.resolution === undefined) {\n      this.resolution = getHeight(this.extent) / this.image_.height;\n    }\n    this.state = ImageState.LOADED;\n    this.unlistenImage_();\n    this.changed();\n  }\n\n  /**\n   * Load the image or retry if loading previously failed.\n   * Loading is taken care of by the tile queue, and calling this method is\n   * only needed for preloading or for reloading in case of an error.\n   * @api\n   */\n  load() {\n    if (this.state == ImageState.IDLE || this.state == ImageState.ERROR) {\n      this.state = ImageState.LOADING;\n      this.changed();\n      this.imageLoadFunction_(this, this.src_);\n      this.unlisten_ = listenImage(\n        this.image_,\n        this.handleImageLoad_.bind(this),\n        this.handleImageError_.bind(this)\n      );\n    }\n  }\n\n  /**\n   * @param {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} image Image.\n   */\n  setImage(image) {\n    this.image_ = image;\n    this.resolution = getHeight(this.extent) / this.image_.height;\n  }\n\n  /**\n   * Discards event handlers which listen for load completion or errors.\n   *\n   * @private\n   */\n  unlistenImage_() {\n    if (this.unlisten_) {\n      this.unlisten_();\n      this.unlisten_ = null;\n    }\n  }\n}\n\n/**\n * @param {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} image Image element.\n * @param {function():any} loadHandler Load callback function.\n * @param {function():any} errorHandler Error callback function.\n * @return {function():void} Callback to stop listening.\n */\nexport function listenImage(image, loadHandler, errorHandler) {\n  const img = /** @type {HTMLImageElement} */ (image);\n  let listening = true;\n  let decoding = false;\n  let loaded = false;\n\n  const listenerKeys = [\n    listenOnce(img, EventType.LOAD, function () {\n      loaded = true;\n      if (!decoding) {\n        loadHandler();\n      }\n    }),\n  ];\n\n  if (img.src && IMAGE_DECODE) {\n    decoding = true;\n    img\n      .decode()\n      .then(function () {\n        if (listening) {\n          loadHandler();\n        }\n      })\n      .catch(function (error) {\n        if (listening) {\n          if (loaded) {\n            loadHandler();\n          } else {\n            errorHandler();\n          }\n        }\n      });\n  } else {\n    listenerKeys.push(listenOnce(img, EventType.ERROR, errorHandler));\n  }\n\n  return function unlisten() {\n    listening = false;\n    listenerKeys.forEach(unlistenByKey);\n  };\n}\n\nexport default ImageWrapper;\n","/**\n * @module ol/style/IconImage\n */\n\nimport EventTarget from '../events/Target.js';\nimport EventType from '../events/EventType.js';\nimport ImageState from '../ImageState.js';\nimport {asString} from '../color.js';\nimport {createCanvasContext2D} from '../dom.js';\nimport {shared as iconImageCache} from './IconImageCache.js';\nimport {listenImage} from '../Image.js';\n\n/**\n * @type {CanvasRenderingContext2D}\n */\nlet taintedTestContext = null;\n\nclass IconImage extends EventTarget {\n  /**\n   * @param {HTMLImageElement|HTMLCanvasElement} image Image.\n   * @param {string|undefined} src Src.\n   * @param {import(\"../size.js\").Size} size Size.\n   * @param {?string} crossOrigin Cross origin.\n   * @param {import(\"../ImageState.js\").default} imageState Image state.\n   * @param {import(\"../color.js\").Color} color Color.\n   */\n  constructor(image, src, size, crossOrigin, imageState, color) {\n    super();\n\n    /**\n     * @private\n     * @type {HTMLImageElement|HTMLCanvasElement}\n     */\n    this.hitDetectionImage_ = null;\n\n    /**\n     * @private\n     * @type {HTMLImageElement|HTMLCanvasElement}\n     */\n    this.image_ = image;\n\n    /**\n     * @private\n     * @type {string|null}\n     */\n    this.crossOrigin_ = crossOrigin;\n\n    /**\n     * @private\n     * @type {Object<number, HTMLCanvasElement>}\n     */\n    this.canvas_ = {};\n\n    /**\n     * @private\n     * @type {import(\"../color.js\").Color}\n     */\n    this.color_ = color;\n\n    /**\n     * @private\n     * @type {?function():void}\n     */\n    this.unlisten_ = null;\n\n    /**\n     * @private\n     * @type {import(\"../ImageState.js\").default}\n     */\n    this.imageState_ = imageState;\n\n    /**\n     * @private\n     * @type {import(\"../size.js\").Size}\n     */\n    this.size_ = size;\n\n    /**\n     * @private\n     * @type {string|undefined}\n     */\n    this.src_ = src;\n\n    /**\n     * @private\n     */\n    this.tainted_;\n  }\n\n  /**\n   * @private\n   */\n  initializeImage_() {\n    this.image_ = new Image();\n    if (this.crossOrigin_ !== null) {\n      this.image_.crossOrigin = this.crossOrigin_;\n    }\n  }\n\n  /**\n   * @private\n   * @return {boolean} The image canvas is tainted.\n   */\n  isTainted_() {\n    if (this.tainted_ === undefined && this.imageState_ === ImageState.LOADED) {\n      if (!taintedTestContext) {\n        taintedTestContext = createCanvasContext2D(1, 1, undefined, {\n          willReadFrequently: true,\n        });\n      }\n      taintedTestContext.drawImage(this.image_, 0, 0);\n      try {\n        taintedTestContext.getImageData(0, 0, 1, 1);\n        this.tainted_ = false;\n      } catch (e) {\n        taintedTestContext = null;\n        this.tainted_ = true;\n      }\n    }\n    return this.tainted_ === true;\n  }\n\n  /**\n   * @private\n   */\n  dispatchChangeEvent_() {\n    this.dispatchEvent(EventType.CHANGE);\n  }\n\n  /**\n   * @private\n   */\n  handleImageError_() {\n    this.imageState_ = ImageState.ERROR;\n    this.unlistenImage_();\n    this.dispatchChangeEvent_();\n  }\n\n  /**\n   * @private\n   */\n  handleImageLoad_() {\n    this.imageState_ = ImageState.LOADED;\n    if (this.size_) {\n      this.image_.width = this.size_[0];\n      this.image_.height = this.size_[1];\n    } else {\n      this.size_ = [this.image_.width, this.image_.height];\n    }\n    this.unlistenImage_();\n    this.dispatchChangeEvent_();\n  }\n\n  /**\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {HTMLImageElement|HTMLCanvasElement} Image or Canvas element.\n   */\n  getImage(pixelRatio) {\n    if (!this.image_) {\n      this.initializeImage_();\n    }\n    this.replaceColor_(pixelRatio);\n    return this.canvas_[pixelRatio] ? this.canvas_[pixelRatio] : this.image_;\n  }\n\n  /**\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {number} Image or Canvas element.\n   */\n  getPixelRatio(pixelRatio) {\n    this.replaceColor_(pixelRatio);\n    return this.canvas_[pixelRatio] ? pixelRatio : 1;\n  }\n\n  /**\n   * @return {import(\"../ImageState.js\").default} Image state.\n   */\n  getImageState() {\n    return this.imageState_;\n  }\n\n  /**\n   * @return {HTMLImageElement|HTMLCanvasElement} Image element.\n   */\n  getHitDetectionImage() {\n    if (!this.image_) {\n      this.initializeImage_();\n    }\n    if (!this.hitDetectionImage_) {\n      if (this.isTainted_()) {\n        const width = this.size_[0];\n        const height = this.size_[1];\n        const context = createCanvasContext2D(width, height);\n        context.fillRect(0, 0, width, height);\n        this.hitDetectionImage_ = context.canvas;\n      } else {\n        this.hitDetectionImage_ = this.image_;\n      }\n    }\n    return this.hitDetectionImage_;\n  }\n\n  /**\n   * Get the size of the icon (in pixels).\n   * @return {import(\"../size.js\").Size} Image size.\n   */\n  getSize() {\n    return this.size_;\n  }\n\n  /**\n   * @return {string|undefined} Image src.\n   */\n  getSrc() {\n    return this.src_;\n  }\n\n  /**\n   * Load not yet loaded URI.\n   */\n  load() {\n    if (this.imageState_ !== ImageState.IDLE) {\n      return;\n    }\n    if (!this.image_) {\n      this.initializeImage_();\n    }\n\n    this.imageState_ = ImageState.LOADING;\n    try {\n      /** @type {HTMLImageElement} */ (this.image_).src = this.src_;\n    } catch (e) {\n      this.handleImageError_();\n    }\n    this.unlisten_ = listenImage(\n      this.image_,\n      this.handleImageLoad_.bind(this),\n      this.handleImageError_.bind(this)\n    );\n  }\n\n  /**\n   * @param {number} pixelRatio Pixel ratio.\n   * @private\n   */\n  replaceColor_(pixelRatio) {\n    if (\n      !this.color_ ||\n      this.canvas_[pixelRatio] ||\n      this.imageState_ !== ImageState.LOADED\n    ) {\n      return;\n    }\n\n    const image = this.image_;\n    const canvas = document.createElement('canvas');\n    canvas.width = Math.ceil(image.width * pixelRatio);\n    canvas.height = Math.ceil(image.height * pixelRatio);\n\n    const ctx = canvas.getContext('2d');\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.drawImage(image, 0, 0);\n\n    ctx.globalCompositeOperation = 'multiply';\n    ctx.fillStyle = asString(this.color_);\n    ctx.fillRect(0, 0, canvas.width / pixelRatio, canvas.height / pixelRatio);\n\n    ctx.globalCompositeOperation = 'destination-in';\n    ctx.drawImage(image, 0, 0);\n\n    this.canvas_[pixelRatio] = canvas;\n  }\n\n  /**\n   * Discards event handlers which listen for load completion or errors.\n   *\n   * @private\n   */\n  unlistenImage_() {\n    if (this.unlisten_) {\n      this.unlisten_();\n      this.unlisten_ = null;\n    }\n  }\n}\n\n/**\n * @param {HTMLImageElement|HTMLCanvasElement} image Image.\n * @param {string} src Src.\n * @param {import(\"../size.js\").Size} size Size.\n * @param {?string} crossOrigin Cross origin.\n * @param {import(\"../ImageState.js\").default} imageState Image state.\n * @param {import(\"../color.js\").Color} color Color.\n * @return {IconImage} Icon image.\n */\nexport function get(image, src, size, crossOrigin, imageState, color) {\n  let iconImage = iconImageCache.get(src, crossOrigin, color);\n  if (!iconImage) {\n    iconImage = new IconImage(image, src, size, crossOrigin, imageState, color);\n    iconImageCache.set(src, crossOrigin, color, iconImage);\n  }\n  return iconImage;\n}\n\nexport default IconImage;\n","/**\n * @module ol/style/Icon\n */\nimport EventType from '../events/EventType.js';\nimport ImageState from '../ImageState.js';\nimport ImageStyle from './Image.js';\nimport {asArray} from '../color.js';\nimport {assert} from '../asserts.js';\nimport {get as getIconImage} from './IconImage.js';\nimport {getUid} from '../util.js';\n\n/**\n * @typedef {'fraction' | 'pixels'} IconAnchorUnits\n * Anchor unit can be either a fraction of the icon size or in pixels.\n */\n\n/**\n * @typedef {'bottom-left' | 'bottom-right' | 'top-left' | 'top-right'} IconOrigin\n * Icon origin. One of 'bottom-left', 'bottom-right', 'top-left', 'top-right'.\n */\n\n/**\n * @typedef {Object} Options\n * @property {Array<number>} [anchor=[0.5, 0.5]] Anchor. Default value is the icon center.\n * @property {IconOrigin} [anchorOrigin='top-left'] Origin of the anchor: `bottom-left`, `bottom-right`,\n * `top-left` or `top-right`.\n * @property {IconAnchorUnits} [anchorXUnits='fraction'] Units in which the anchor x value is\n * specified. A value of `'fraction'` indicates the x value is a fraction of the icon. A value of `'pixels'` indicates\n * the x value in pixels.\n * @property {IconAnchorUnits} [anchorYUnits='fraction'] Units in which the anchor y value is\n * specified. A value of `'fraction'` indicates the y value is a fraction of the icon. A value of `'pixels'` indicates\n * the y value in pixels.\n * @property {import(\"../color.js\").Color|string} [color] Color to tint the icon. If not specified,\n * the icon will be left as is.\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images. Note that you must provide a\n * `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {HTMLImageElement|HTMLCanvasElement} [img] Image object for the icon. If the `src` option is not provided then the\n * provided image must already be loaded. And in that case, it is required\n * to provide the size of the image, with the `imgSize` option.\n * @property {import(\"../size.js\").Size} [imgSize] Image size in pixels. Only required if `img` is set and `src` is not.\n * The provided `imgSize` needs to match the actual size of the image.\n * @property {Array<number>} [displacement=[0, 0]] Displacement of the icon in pixels.\n * Positive values will shift the icon right and up.\n * @property {number} [opacity=1] Opacity of the icon.\n * @property {number} [width] The width of the icon in pixels. This can't be used together with `scale`.\n * @property {number} [height] The height of the icon in pixels. This can't be used together with `scale`.\n * @property {number|import(\"../size.js\").Size} [scale=1] Scale.\n * @property {boolean} [rotateWithView=false] Whether to rotate the icon with the view.\n * @property {number} [rotation=0] Rotation in radians (positive rotation clockwise).\n * @property {Array<number>} [offset=[0, 0]] Offset which, together with `size` and `offsetOrigin`, defines the\n * sub-rectangle to use from the original (sprite) image.\n * @property {IconOrigin} [offsetOrigin='top-left'] Origin of the offset: `bottom-left`, `bottom-right`,\n * `top-left` or `top-right`.\n * @property {import(\"../size.js\").Size} [size] Icon size in pixels. Used together with `offset` to define the\n * sub-rectangle to use from the original (sprite) image.\n * @property {string} [src] Image source URI.\n * @property {\"declutter\"|\"obstacle\"|\"none\"|undefined} [declutterMode] Declutter mode.\n */\n\n/**\n * @classdesc\n * Set icon style for vector features.\n * @api\n */\nclass Icon extends ImageStyle {\n  /**\n   * @param {Options} [options] Options.\n   */\n  constructor(options) {\n    options = options || {};\n\n    /**\n     * @type {number}\n     */\n    const opacity = options.opacity !== undefined ? options.opacity : 1;\n\n    /**\n     * @type {number}\n     */\n    const rotation = options.rotation !== undefined ? options.rotation : 0;\n\n    /**\n     * @type {number|import(\"../size.js\").Size}\n     */\n    const scale = options.scale !== undefined ? options.scale : 1;\n\n    /**\n     * @type {boolean}\n     */\n    const rotateWithView =\n      options.rotateWithView !== undefined ? options.rotateWithView : false;\n\n    super({\n      opacity: opacity,\n      rotation: rotation,\n      scale: scale,\n      displacement:\n        options.displacement !== undefined ? options.displacement : [0, 0],\n      rotateWithView: rotateWithView,\n      declutterMode: options.declutterMode,\n    });\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.anchor_ = options.anchor !== undefined ? options.anchor : [0.5, 0.5];\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.normalizedAnchor_ = null;\n\n    /**\n     * @private\n     * @type {IconOrigin}\n     */\n    this.anchorOrigin_ =\n      options.anchorOrigin !== undefined ? options.anchorOrigin : 'top-left';\n\n    /**\n     * @private\n     * @type {IconAnchorUnits}\n     */\n    this.anchorXUnits_ =\n      options.anchorXUnits !== undefined ? options.anchorXUnits : 'fraction';\n\n    /**\n     * @private\n     * @type {IconAnchorUnits}\n     */\n    this.anchorYUnits_ =\n      options.anchorYUnits !== undefined ? options.anchorYUnits : 'fraction';\n\n    /**\n     * @private\n     * @type {?string}\n     */\n    this.crossOrigin_ =\n      options.crossOrigin !== undefined ? options.crossOrigin : null;\n\n    /**\n     * @type {HTMLImageElement|HTMLCanvasElement}\n     */\n    const image = options.img !== undefined ? options.img : null;\n\n    /**\n     * @private\n     * @type {import(\"../size.js\").Size|undefined}\n     */\n    this.imgSize_ = options.imgSize;\n\n    /**\n     * @type {string|undefined}\n     */\n    let src = options.src;\n\n    assert(!(src !== undefined && image), 4); // `image` and `src` cannot be provided at the same time\n    assert(!image || (image && this.imgSize_), 5); // `imgSize` must be set when `image` is provided\n\n    if ((src === undefined || src.length === 0) && image) {\n      src = /** @type {HTMLImageElement} */ (image).src || getUid(image);\n    }\n    assert(src !== undefined && src.length > 0, 6); // A defined and non-empty `src` or `image` must be provided\n\n    // `width` or `height` cannot be provided together with `scale`\n    assert(\n      !(\n        (options.width !== undefined || options.height !== undefined) &&\n        options.scale !== undefined\n      ),\n      69\n    );\n\n    /**\n     * @type {import(\"../ImageState.js\").default}\n     */\n    const imageState =\n      options.src !== undefined ? ImageState.IDLE : ImageState.LOADED;\n\n    /**\n     * @private\n     * @type {import(\"../color.js\").Color}\n     */\n    this.color_ = options.color !== undefined ? asArray(options.color) : null;\n\n    /**\n     * @private\n     * @type {import(\"./IconImage.js\").default}\n     */\n    this.iconImage_ = getIconImage(\n      image,\n      /** @type {string} */ (src),\n      this.imgSize_ !== undefined ? this.imgSize_ : null,\n      this.crossOrigin_,\n      imageState,\n      this.color_\n    );\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.offset_ = options.offset !== undefined ? options.offset : [0, 0];\n    /**\n     * @private\n     * @type {IconOrigin}\n     */\n    this.offsetOrigin_ =\n      options.offsetOrigin !== undefined ? options.offsetOrigin : 'top-left';\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.origin_ = null;\n\n    /**\n     * @private\n     * @type {import(\"../size.js\").Size}\n     */\n    this.size_ = options.size !== undefined ? options.size : null;\n\n    /**\n     * @type {number|undefined}\n     */\n    this.width_ = options.width;\n\n    /**\n     * @type {number|undefined}\n     */\n    this.height_ = options.height;\n\n    /**\n     * Recalculate the scale if width or height were given.\n     */\n    if (this.width_ !== undefined || this.height_ !== undefined) {\n      const image = this.getImage(1);\n      const setScale = () => {\n        this.updateScaleFromWidthAndHeight(this.width_, this.height_);\n      };\n      if (image.width > 0) {\n        this.updateScaleFromWidthAndHeight(this.width_, this.height_);\n      } else {\n        image.addEventListener('load', setScale);\n      }\n    }\n  }\n\n  /**\n   * Clones the style. The underlying Image/HTMLCanvasElement is not cloned.\n   * @return {Icon} The cloned style.\n   * @api\n   */\n  clone() {\n    let scale = this.getScale();\n    scale = Array.isArray(scale) ? scale.slice() : scale;\n    // if either width or height are defined, do not pass scale.\n    if (this.width_ !== undefined || this.height_ !== undefined) {\n      scale = undefined;\n    }\n    return new Icon({\n      anchor: this.anchor_.slice(),\n      anchorOrigin: this.anchorOrigin_,\n      anchorXUnits: this.anchorXUnits_,\n      anchorYUnits: this.anchorYUnits_,\n      color:\n        this.color_ && this.color_.slice\n          ? this.color_.slice()\n          : this.color_ || undefined,\n      crossOrigin: this.crossOrigin_,\n      imgSize: this.imgSize_,\n      offset: this.offset_.slice(),\n      offsetOrigin: this.offsetOrigin_,\n      opacity: this.getOpacity(),\n      rotateWithView: this.getRotateWithView(),\n      rotation: this.getRotation(),\n      scale: scale,\n      size: this.size_ !== null ? this.size_.slice() : undefined,\n      src: this.getSrc(),\n      displacement: this.getDisplacement().slice(),\n      declutterMode: this.getDeclutterMode(),\n      width: this.width_,\n      height: this.height_,\n    });\n  }\n\n  /**\n   * Set the scale of the Icon by calculating it from given width and height and the\n   * width and height of the image.\n   *\n   * @private\n   * @param {number} width The width.\n   * @param {number} height The height.\n   */\n  updateScaleFromWidthAndHeight(width, height) {\n    const image = this.getImage(1);\n    if (width !== undefined && height !== undefined) {\n      super.setScale([width / image.width, height / image.height]);\n    } else if (width !== undefined) {\n      super.setScale([width / image.width, width / image.width]);\n    } else if (height !== undefined) {\n      super.setScale([height / image.height, height / image.height]);\n    } else {\n      super.setScale([1, 1]);\n    }\n  }\n\n  /**\n   * Get the anchor point in pixels. The anchor determines the center point for the\n   * symbolizer.\n   * @return {Array<number>} Anchor.\n   * @api\n   */\n  getAnchor() {\n    let anchor = this.normalizedAnchor_;\n    if (!anchor) {\n      anchor = this.anchor_;\n      const size = this.getSize();\n      if (\n        this.anchorXUnits_ == 'fraction' ||\n        this.anchorYUnits_ == 'fraction'\n      ) {\n        if (!size) {\n          return null;\n        }\n        anchor = this.anchor_.slice();\n        if (this.anchorXUnits_ == 'fraction') {\n          anchor[0] *= size[0];\n        }\n        if (this.anchorYUnits_ == 'fraction') {\n          anchor[1] *= size[1];\n        }\n      }\n\n      if (this.anchorOrigin_ != 'top-left') {\n        if (!size) {\n          return null;\n        }\n        if (anchor === this.anchor_) {\n          anchor = this.anchor_.slice();\n        }\n        if (\n          this.anchorOrigin_ == 'top-right' ||\n          this.anchorOrigin_ == 'bottom-right'\n        ) {\n          anchor[0] = -anchor[0] + size[0];\n        }\n        if (\n          this.anchorOrigin_ == 'bottom-left' ||\n          this.anchorOrigin_ == 'bottom-right'\n        ) {\n          anchor[1] = -anchor[1] + size[1];\n        }\n      }\n      this.normalizedAnchor_ = anchor;\n    }\n    const displacement = this.getDisplacement();\n    const scale = this.getScaleArray();\n    // anchor is scaled by renderer but displacement should not be scaled\n    // so divide by scale here\n    return [\n      anchor[0] - displacement[0] / scale[0],\n      anchor[1] + displacement[1] / scale[1],\n    ];\n  }\n\n  /**\n   * Set the anchor point. The anchor determines the center point for the\n   * symbolizer.\n   *\n   * @param {Array<number>} anchor Anchor.\n   * @api\n   */\n  setAnchor(anchor) {\n    this.anchor_ = anchor;\n    this.normalizedAnchor_ = null;\n  }\n\n  /**\n   * Get the icon color.\n   * @return {import(\"../color.js\").Color} Color.\n   * @api\n   */\n  getColor() {\n    return this.color_;\n  }\n\n  /**\n   * Get the image icon.\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {HTMLImageElement|HTMLCanvasElement} Image or Canvas element.\n   * @api\n   */\n  getImage(pixelRatio) {\n    return this.iconImage_.getImage(pixelRatio);\n  }\n\n  /**\n   * Get the pixel ratio.\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {number} The pixel ratio of the image.\n   * @api\n   */\n  getPixelRatio(pixelRatio) {\n    return this.iconImage_.getPixelRatio(pixelRatio);\n  }\n\n  /**\n   * @return {import(\"../size.js\").Size} Image size.\n   */\n  getImageSize() {\n    return this.iconImage_.getSize();\n  }\n\n  /**\n   * @return {import(\"../ImageState.js\").default} Image state.\n   */\n  getImageState() {\n    return this.iconImage_.getImageState();\n  }\n\n  /**\n   * @return {HTMLImageElement|HTMLCanvasElement} Image element.\n   */\n  getHitDetectionImage() {\n    return this.iconImage_.getHitDetectionImage();\n  }\n\n  /**\n   * Get the origin of the symbolizer.\n   * @return {Array<number>} Origin.\n   * @api\n   */\n  getOrigin() {\n    if (this.origin_) {\n      return this.origin_;\n    }\n    let offset = this.offset_;\n\n    if (this.offsetOrigin_ != 'top-left') {\n      const size = this.getSize();\n      const iconImageSize = this.iconImage_.getSize();\n      if (!size || !iconImageSize) {\n        return null;\n      }\n      offset = offset.slice();\n      if (\n        this.offsetOrigin_ == 'top-right' ||\n        this.offsetOrigin_ == 'bottom-right'\n      ) {\n        offset[0] = iconImageSize[0] - size[0] - offset[0];\n      }\n      if (\n        this.offsetOrigin_ == 'bottom-left' ||\n        this.offsetOrigin_ == 'bottom-right'\n      ) {\n        offset[1] = iconImageSize[1] - size[1] - offset[1];\n      }\n    }\n    this.origin_ = offset;\n    return this.origin_;\n  }\n\n  /**\n   * Get the image URL.\n   * @return {string|undefined} Image src.\n   * @api\n   */\n  getSrc() {\n    return this.iconImage_.getSrc();\n  }\n\n  /**\n   * Get the size of the icon (in pixels).\n   * @return {import(\"../size.js\").Size} Image size.\n   * @api\n   */\n  getSize() {\n    return !this.size_ ? this.iconImage_.getSize() : this.size_;\n  }\n\n  /**\n   * Get the width of the icon (in pixels).\n   * @return {number} Icon width (in pixels).\n   * @api\n   */\n  getWidth() {\n    return this.width_;\n  }\n\n  /**\n   * Get the height of the icon (in pixels).\n   * @return {number} Icon height (in pixels).\n   * @api\n   */\n  getHeight() {\n    return this.height_;\n  }\n\n  /**\n   * Set the width of the icon in pixels.\n   *\n   * @param {number} width The width to set.\n   */\n  setWidth(width) {\n    this.width_ = width;\n    this.updateScaleFromWidthAndHeight(width, this.height_);\n  }\n\n  /**\n   * Set the height of the icon in pixels.\n   *\n   * @param {number} height The height to set.\n   */\n  setHeight(height) {\n    this.height_ = height;\n    this.updateScaleFromWidthAndHeight(this.width_, height);\n  }\n\n  /**\n   * Set the scale and updates the width and height correspondingly.\n   *\n   * @param {number|import(\"../size.js\").Size} scale Scale.\n   * @override\n   * @api\n   */\n  setScale(scale) {\n    super.setScale(scale);\n    const image = this.getImage(1);\n    if (image) {\n      const widthScale = Array.isArray(scale) ? scale[0] : scale;\n      if (widthScale !== undefined) {\n        this.width_ = widthScale * image.width;\n      }\n      const heightScale = Array.isArray(scale) ? scale[1] : scale;\n      if (heightScale !== undefined) {\n        this.height_ = heightScale * image.height;\n      }\n    }\n  }\n\n  /**\n   * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n   */\n  listenImageChange(listener) {\n    this.iconImage_.addEventListener(EventType.CHANGE, listener);\n  }\n\n  /**\n   * Load not yet loaded URI.\n   * When rendering a feature with an icon style, the vector renderer will\n   * automatically call this method. However, you might want to call this\n   * method yourself for preloading or other purposes.\n   * @api\n   */\n  load() {\n    this.iconImage_.load();\n  }\n\n  /**\n   * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n   */\n  unlistenImageChange(listener) {\n    this.iconImage_.removeEventListener(EventType.CHANGE, listener);\n  }\n}\n\nexport default Icon;\n","import { render } from \"./ClusterMap.vue?vue&type=template&id=f696564e\"\nimport script from \"./ClusterMap.vue?vue&type=script&lang=js\"\nexport * from \"./ClusterMap.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div\r\n        class=\"bottomsheet\"\r\n    >\r\n        <div\r\n            class=\"grab-wraper\"\r\n        >\r\n            <div class=\"grab\"></div>\r\n        </div>\r\n        <h3 class=\"bottomsheet__title\">\r\n            {{ title }}\r\n        </h3>\r\n        <div class=\"bottomsheet__caption\">\r\n            {{ caption }}\r\n        </div>\r\n        <figure class=\"figure\">\r\n            <div class=\"figure__content\"\r\n                 :class=\"{'placeholder': isPlaceholder, 'loading': isLoading}\"\r\n            >\r\n                <div class=\"figure__content__overlay\">\r\n                    <EyeSlashIcon v-if=\"!isAccess\" />\r\n                    <Transition name=\"fade\">\r\n                        <VideoOffIcon v-if=\"!isPreview\" />\r\n                    </Transition>\r\n                </div>\r\n                <img\r\n                    v-if=\"isPreview && !isLoading\"\r\n                    :src=\"image\"\r\n                    alt=\"preview video\"\r\n                    class=\"figure__content__image\"\r\n                />\r\n            </div>\r\n            <figcaption>{{ figcaption }}</figcaption>\r\n        </figure>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import EyeSlashIcon from \"./icons/EyeSlashIcon.vue\";\r\n    import VideoOffIcon from \"./icons/VideoOffIcon.vue\";\r\n    import { getIntercomVideo } from \"../components/ApiRequests\";\r\n\r\n    export default {\r\n        name: \"BottomSheet\",\r\n        components: {\r\n            EyeSlashIcon,\r\n            VideoOffIcon,\r\n        },\r\n        props: {\r\n            selectedCamera: {\r\n                type: Object,\r\n                default: null,\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                interval: null,\r\n                title: \"\",\r\n                caption: \"\",\r\n                image: \"\",\r\n                isAccess: true,\r\n                isPreview: true,\r\n                isLoading: true,\r\n                figcaption: \"Загрузка видео...\"\r\n            };\r\n        },\r\n        computed: {\r\n            isPlaceholder() {\r\n                return !this.isPreview || !this.isAccess || this.isLoading;\r\n            }\r\n        },\r\n        mounted() {\r\n            this.image = this.selectedCamera.SNAPSHOT.HD;\r\n            this.title = `Подъезд ${this.selectedCamera.ADDRESS.at(-1)}`;\r\n            this.caption = this.selectedCamera.ADDRESS;\r\n            this.hasVideo(this.selectedCamera.SNAPSHOT.HD);\r\n            \r\n            this.interval = setInterval(this.updatePreview, 25000);\r\n        },\r\n        unmounted() {\r\n            this.interval = null;\r\n        },\r\n        methods: {\r\n            videoNotAccess() {\r\n                this.figcaption = \"*Предпросмотр доступен только для подписчиков\";\r\n                this.isAccess = false;\r\n                this.isPreview = false;\r\n            },\r\n            videoNotAvialable() {\r\n                this.figcaption = \"*Видео не доступно по техническим причинам\";\r\n                this.isAccess = true;\r\n                this.isPreview = false;\r\n            },\r\n            async updatePreview() {\r\n                try {\r\n                    const [response] = await getIntercomVideo(this.selectedCamera.ID);\r\n                    const [result] = response.cameras.filter((camera) => camera.ID === this.selectedCamera.ID)\r\n    \r\n                    this.image = result.SNAPSHOT.HD;\r\n                    this.isAccess = true;\r\n                    this.isPreview = true;\r\n                    this.hasVideo(result?.SNAPSHOT.HD);\r\n                    if (!response.ACCESS.LIVE.STATUS) {\r\n                        this.videoNotAccess();\r\n                    }\r\n                } catch {\r\n                    this.videoNotAvialable();\r\n                }\r\n            },\r\n            async hasVideo(url) {\r\n                try {\r\n                    const response = await fetch(url);\r\n                    if (response.ok) {\r\n                        this.figcaption = \"*Видео обновляется раз в 25 сек\";\r\n                        this.isPreview = true;\r\n                        this.isAccess = true;\r\n                    } else {\r\n                        this.figcaption = \"*Не удалось загрузить предпросмотр видео\";\r\n                        this.isAccess = true;\r\n                        this.isPreview = false;\r\n                    }\r\n                } catch (error) {\r\n                    this.videoNotAvialable();\r\n                }\r\n\r\n                this.isLoading = false;\r\n            },\r\n        },\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n@import \"../assets/main.css\";\r\n\r\n.bottomsheet-overlay {\r\n    position: absolute;\r\n    z-index: 2;\r\n    top: 0;\r\n    left: 0;\r\n    background-color: rgba(0, 0, 0, .5);\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.bottomsheet {\r\n    font-family: 'SF Pro';\r\n    box-sizing: border-box;\r\n    border-radius: 14px 14px 0 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    padding: 0em 1em 3.2em;\r\n    background-color: #fff;\r\n}\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.5s ease;\r\n}\r\n\r\n.fade-enter-from,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n.slide-fade-enter-active {\r\n  transition: all 0.3s ease-out;\r\n}\r\n\r\n.slide-fade-leave-active {\r\n  transition: all 0.3s ease-in;\r\n}\r\n\r\n.slide-fade-enter-from,\r\n.slide-fade-leave-to {\r\n  transform: translateY(100%);\r\n}\r\n.grab-wraper {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    padding: 1em 0;\r\n}\r\n.grab {\r\n    cursor: grab;\r\n    width: 30px;\r\n    height: 5px;\r\n    border-radius: 4px;\r\n    background-color: #B9C6D1;\r\n}\r\n\r\n.bottomsheet__title, .bottomsheet__caption {\r\n    text-align: center;\r\n    color: #1F283E;\r\n}\r\n\r\n.bottomsheet__title {\r\n    margin: 1em 1.5em;\r\n    font-weight: 600;\r\n}\r\n\r\n.bottomsheet__caption {\r\n    margin-bottom: 1em;\r\n    letter-spacing: -0.02em;\r\n}\r\n\r\nfigure {\r\n    margin: 0;\r\n}\r\n\r\nfigcaption {\r\n    color: #707583;\r\n    font-size: 12px;\r\n}\r\n\r\n.figure__content {\r\n    position: relative;\r\n}\r\n@keyframes skeleton-loading {\r\n    0% {\r\n        transform: translateX(-100%);\r\n    }\r\n    100% {\r\n        transform: translateX(100%);\r\n    }\r\n}\r\n.loading::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    transform: translateX(-100%);\r\n    animation: skeleton-loading 1.6s linear 0.5s infinite;\r\n    background: linear-gradient( 90deg, transparent, rgba(255, 255, 255, 0.08), transparent );\r\n}\r\n.figure__content__image {\r\n    width: 100%;\r\n    height: 250px;\r\n    object-fit: contain;\r\n    border-radius: 14px;\r\n}\r\n.figure__content__overlay {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: grid;\r\n    place-items: center;\r\n    background: rgba(6, 16, 41, 0.6);\r\n    border-radius: 14px;\r\n    backdrop-filter: blur(4px);\r\n}\r\n\r\n.placeholder {\r\n    height: 200px;\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.5s ease;\r\n}\r\n\r\n.fade-enter-from,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n</style>","<template>\r\n    <svg width=\"73\"\r\n         height=\"49\"\r\n         viewBox=\"0 0 73 49\"\r\n         fill=\"none\"\r\n         xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n        <path \r\n            d=\"M57.3853 48.3661C58.2059 49.1847 59.5294 49.2375 60.3765 48.3661C61.25 47.4683 61.1971 46.2008 60.3765 45.3822L15.4559 0.623883C14.6353 -0.194706 13.2853 -0.221112 12.4647 0.623883C11.6706 1.41607 11.6706 2.78918 12.4647 3.58137L57.3853 48.3661ZM59.8735 40.2858C67.6029 35.1102 72.5 28.1126 72.5 24.9967C72.5 19.6627 57.9676 2.36669 36.5 2.36669C32 2.36669 27.7912 3.13246 23.9794 4.39995L31.2324 11.6352C32.8735 10.9751 34.6471 10.6054 36.5265 10.6054C44.5471 10.6054 51.0324 16.9693 51.0324 25.0231C51.0324 26.8715 50.6353 28.6672 49.9206 30.2779L59.8735 40.2858ZM36.5 47.6531C41.3441 47.6531 45.8441 46.7817 49.8147 45.3294L42.5088 38.0413C40.7088 38.9391 38.6706 39.4144 36.5265 39.4144C28.4529 39.4144 22.0206 32.8393 21.9941 25.0231C21.9941 22.8314 22.4706 20.7717 23.3441 18.9497L13.7882 9.3643C5.55588 14.6455 0.5 21.8808 0.5 24.9967C0.5 30.3571 15.2971 47.6531 36.5 47.6531ZM44.9706 24.4686C44.9706 19.8475 41.2647 16.1243 36.6059 16.1243C36.3147 16.1243 36.0235 16.1507 35.7588 16.1771L44.9176 25.2872C44.9441 25.0495 44.9706 24.7591 44.9706 24.4686ZM28.0029 24.5742C28.0029 29.1953 31.8147 32.9185 36.4206 32.9185C36.7382 32.9185 37.0294 32.8921 37.3206 32.8657L28.0559 23.6236C28.0294 23.9405 28.0029 24.2573 28.0029 24.5742Z\" \r\n            :fill=\"currentColor\"\r\n        />\r\n    </svg>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"EyeSlashIcon\",\r\n        props: {\r\n            currentColor: {\r\n                type: String,\r\n                default: \"#B9C6D1\",\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style></style>","import { render } from \"./EyeSlashIcon.vue?vue&type=template&id=38092206\"\nimport script from \"./EyeSlashIcon.vue?vue&type=script&lang=js\"\nexport * from \"./EyeSlashIcon.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <svg width=\"34\"\r\n         height=\"34\"\r\n         viewBox=\"0 0 34 34\"\r\n         fill=\"none\"\r\n         xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n        <path d=\"M2.46676 0.699605C2.35232 0.576794 2.21432 0.47829 2.06099 0.40997C1.90766 0.34165 1.74214 0.304914 1.5743 0.301952C1.40646 0.298991 1.23974 0.329865 1.0841 0.392734C0.92845 0.455602 0.78706 0.549176 0.668362 0.667874C0.549665 0.786572 0.45609 0.927962 0.393222 1.08361C0.330354 1.23926 0.299479 1.40597 0.302441 1.57381C0.305402 1.74165 0.342138 1.90717 0.410458 2.0605C0.478778 2.21383 0.577282 2.35183 0.700093 2.46627L3.31176 5.07794C2.41598 5.52952 1.6632 6.22099 1.13733 7.07527C0.611452 7.92956 0.333146 8.9131 0.333427 9.91627V24.0829C0.333427 25.5195 0.904109 26.8973 1.91993 27.9131C2.93575 28.9289 4.3135 29.4996 5.75009 29.4996H18.2501C19.4757 29.4996 20.665 29.0841 21.624 28.321C22.583 27.5579 23.2549 26.4922 23.5301 25.2979L31.5318 33.3013C31.7663 33.5358 32.0843 33.6675 32.4159 33.6675C32.7476 33.6675 33.0656 33.5358 33.3001 33.3013C33.5346 33.0668 33.6663 32.7487 33.6663 32.4171C33.6663 32.0855 33.5346 31.7674 33.3001 31.5329L2.46676 0.699605ZM25.3334 20.0296L32.8401 27.5379C33.0917 27.3911 33.3005 27.1809 33.4455 26.9282C33.5906 26.6755 33.6669 26.3893 33.6668 26.0979V7.8996C33.6669 7.58133 33.5759 7.26967 33.4045 7.00149C33.2331 6.7333 32.9885 6.5198 32.6996 6.38622C32.4107 6.25265 32.0896 6.20458 31.7742 6.24771C31.4589 6.29084 31.1625 6.42336 30.9201 6.6296L25.3334 11.3796V20.0296ZM9.80343 4.4996L23.6668 18.3629V9.91627C23.6668 8.47968 23.0961 7.10193 22.0803 6.08611C21.0644 5.07029 19.6867 4.4996 18.2501 4.4996H9.80343Z\"\r\n              :fill=\"currentColor\"\r\n        />\r\n    </svg>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        props: {\r\n            currentColor: {\r\n                type: String,\r\n                default: \"#B9C6D1\",\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style></style>","import { render } from \"./VideoOffIcon.vue?vue&type=template&id=964ab290\"\nimport script from \"./VideoOffIcon.vue?vue&type=script&lang=js\"\nexport * from \"./VideoOffIcon.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./BottomSheet.vue?vue&type=template&id=674ea6f8&scoped=true\"\nimport script from \"./BottomSheet.vue?vue&type=script&lang=js\"\nexport * from \"./BottomSheet.vue?vue&type=script&lang=js\"\n\nimport \"./BottomSheet.vue?vue&type=style&index=0&id=674ea6f8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-674ea6f8\"]])\n\nexport default __exports__","/**\n * @module ol/proj/Units\n */\n\n/**\n * @typedef {'radians' | 'degrees' | 'ft' | 'm' | 'pixels' | 'tile-pixels' | 'us-ft'} Units\n * Projection units.\n */\n\n/**\n * See http://duff.ess.washington.edu/data/raster/drg/docs/geotiff.txt\n * @type {Object<number, Units>}\n */\nconst unitByCode = {\n  '9001': 'm',\n  '9002': 'ft',\n  '9003': 'us-ft',\n  '9101': 'radians',\n  '9102': 'degrees',\n};\n\n/**\n * @param {number} code Unit code.\n * @return {Units} Units.\n */\nexport function fromCode(code) {\n  return unitByCode[code];\n}\n\n/**\n * @typedef {Object} MetersPerUnitLookup\n * @property {number} radians Radians\n * @property {number} degrees Degrees\n * @property {number} ft  Feet\n * @property {number} m Meters\n * @property {number} us-ft US feet\n */\n\n/**\n * Meters per unit lookup table.\n * @const\n * @type {MetersPerUnitLookup}\n * @api\n */\nexport const METERS_PER_UNIT = {\n  // use the radius of the Normal sphere\n  'radians': 6370997 / (2 * Math.PI),\n  'degrees': (2 * Math.PI * 6370997) / 360,\n  'ft': 0.3048,\n  'm': 1,\n  'us-ft': 1200 / 3937,\n};\n","/**\n * @module ol/proj/Projection\n */\nimport {METERS_PER_UNIT} from './Units.js';\n\n/**\n * @typedef {Object} Options\n * @property {string} code The SRS identifier code, e.g. `EPSG:4326`.\n * @property {import(\"./Units.js\").Units} [units] Units. Required unless a\n * proj4 projection is defined for `code`.\n * @property {import(\"../extent.js\").Extent} [extent] The validity extent for the SRS.\n * @property {string} [axisOrientation='enu'] The axis orientation as specified in Proj4.\n * @property {boolean} [global=false] Whether the projection is valid for the whole globe.\n * @property {number} [metersPerUnit] The meters per unit for the SRS.\n * If not provided, the `units` are used to get the meters per unit from the {@link METERS_PER_UNIT}\n * lookup table.\n * @property {import(\"../extent.js\").Extent} [worldExtent] The world extent for the SRS.\n * @property {function(number, import(\"../coordinate.js\").Coordinate):number} [getPointResolution]\n * Function to determine resolution at a point. The function is called with a\n * `number` view resolution and a {@link module:ol/coordinate~Coordinate} as arguments, and returns\n * the `number` resolution in projection units at the passed coordinate. If this is `undefined`,\n * the default {@link module:ol/proj.getPointResolution} function will be used.\n */\n\n/**\n * @classdesc\n * Projection definition class. One of these is created for each projection\n * supported in the application and stored in the {@link module:ol/proj} namespace.\n * You can use these in applications, but this is not required, as API params\n * and options use {@link module:ol/proj~ProjectionLike} which means the simple string\n * code will suffice.\n *\n * You can use {@link module:ol/proj.get} to retrieve the object for a particular\n * projection.\n *\n * The library includes definitions for `EPSG:4326` and `EPSG:3857`, together\n * with the following aliases:\n * * `EPSG:4326`: CRS:84, urn:ogc:def:crs:EPSG:6.6:4326,\n *     urn:ogc:def:crs:OGC:1.3:CRS84, urn:ogc:def:crs:OGC:2:84,\n *     http://www.opengis.net/gml/srs/epsg.xml#4326,\n *     urn:x-ogc:def:crs:EPSG:4326\n * * `EPSG:3857`: EPSG:102100, EPSG:102113, EPSG:900913,\n *     urn:ogc:def:crs:EPSG:6.18:3:3857,\n *     http://www.opengis.net/gml/srs/epsg.xml#3857\n *\n * If you use [proj4js](https://github.com/proj4js/proj4js), aliases can\n * be added using `proj4.defs()`. After all required projection definitions are\n * added, call the {@link module:ol/proj/proj4.register} function.\n *\n * @api\n */\nclass Projection {\n  /**\n   * @param {Options} options Projection options.\n   */\n  constructor(options) {\n    /**\n     * @private\n     * @type {string}\n     */\n    this.code_ = options.code;\n\n    /**\n     * Units of projected coordinates. When set to `TILE_PIXELS`, a\n     * `this.extent_` and `this.worldExtent_` must be configured properly for each\n     * tile.\n     * @private\n     * @type {import(\"./Units.js\").Units}\n     */\n    this.units_ = /** @type {import(\"./Units.js\").Units} */ (options.units);\n\n    /**\n     * Validity extent of the projection in projected coordinates. For projections\n     * with `TILE_PIXELS` units, this is the extent of the tile in\n     * tile pixel space.\n     * @private\n     * @type {import(\"../extent.js\").Extent}\n     */\n    this.extent_ = options.extent !== undefined ? options.extent : null;\n\n    /**\n     * Extent of the world in EPSG:4326. For projections with\n     * `TILE_PIXELS` units, this is the extent of the tile in\n     * projected coordinate space.\n     * @private\n     * @type {import(\"../extent.js\").Extent}\n     */\n    this.worldExtent_ =\n      options.worldExtent !== undefined ? options.worldExtent : null;\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this.axisOrientation_ =\n      options.axisOrientation !== undefined ? options.axisOrientation : 'enu';\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.global_ = options.global !== undefined ? options.global : false;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.canWrapX_ = !!(this.global_ && this.extent_);\n\n    /**\n     * @private\n     * @type {function(number, import(\"../coordinate.js\").Coordinate):number|undefined}\n     */\n    this.getPointResolutionFunc_ = options.getPointResolution;\n\n    /**\n     * @private\n     * @type {import(\"../tilegrid/TileGrid.js\").default}\n     */\n    this.defaultTileGrid_ = null;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.metersPerUnit_ = options.metersPerUnit;\n  }\n\n  /**\n   * @return {boolean} The projection is suitable for wrapping the x-axis\n   */\n  canWrapX() {\n    return this.canWrapX_;\n  }\n\n  /**\n   * Get the code for this projection, e.g. 'EPSG:4326'.\n   * @return {string} Code.\n   * @api\n   */\n  getCode() {\n    return this.code_;\n  }\n\n  /**\n   * Get the validity extent for this projection.\n   * @return {import(\"../extent.js\").Extent} Extent.\n   * @api\n   */\n  getExtent() {\n    return this.extent_;\n  }\n\n  /**\n   * Get the units of this projection.\n   * @return {import(\"./Units.js\").Units} Units.\n   * @api\n   */\n  getUnits() {\n    return this.units_;\n  }\n\n  /**\n   * Get the amount of meters per unit of this projection.  If the projection is\n   * not configured with `metersPerUnit` or a units identifier, the return is\n   * `undefined`.\n   * @return {number|undefined} Meters.\n   * @api\n   */\n  getMetersPerUnit() {\n    return this.metersPerUnit_ || METERS_PER_UNIT[this.units_];\n  }\n\n  /**\n   * Get the world extent for this projection.\n   * @return {import(\"../extent.js\").Extent} Extent.\n   * @api\n   */\n  getWorldExtent() {\n    return this.worldExtent_;\n  }\n\n  /**\n   * Get the axis orientation of this projection.\n   * Example values are:\n   * enu - the default easting, northing, elevation.\n   * neu - northing, easting, up - useful for \"lat/long\" geographic coordinates,\n   *     or south orientated transverse mercator.\n   * wnu - westing, northing, up - some planetary coordinate systems have\n   *     \"west positive\" coordinate systems\n   * @return {string} Axis orientation.\n   * @api\n   */\n  getAxisOrientation() {\n    return this.axisOrientation_;\n  }\n\n  /**\n   * Is this projection a global projection which spans the whole world?\n   * @return {boolean} Whether the projection is global.\n   * @api\n   */\n  isGlobal() {\n    return this.global_;\n  }\n\n  /**\n   * Set if the projection is a global projection which spans the whole world\n   * @param {boolean} global Whether the projection is global.\n   * @api\n   */\n  setGlobal(global) {\n    this.global_ = global;\n    this.canWrapX_ = !!(global && this.extent_);\n  }\n\n  /**\n   * @return {import(\"../tilegrid/TileGrid.js\").default} The default tile grid.\n   */\n  getDefaultTileGrid() {\n    return this.defaultTileGrid_;\n  }\n\n  /**\n   * @param {import(\"../tilegrid/TileGrid.js\").default} tileGrid The default tile grid.\n   */\n  setDefaultTileGrid(tileGrid) {\n    this.defaultTileGrid_ = tileGrid;\n  }\n\n  /**\n   * Set the validity extent for this projection.\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @api\n   */\n  setExtent(extent) {\n    this.extent_ = extent;\n    this.canWrapX_ = !!(this.global_ && extent);\n  }\n\n  /**\n   * Set the world extent for this projection.\n   * @param {import(\"../extent.js\").Extent} worldExtent World extent\n   *     [minlon, minlat, maxlon, maxlat].\n   * @api\n   */\n  setWorldExtent(worldExtent) {\n    this.worldExtent_ = worldExtent;\n  }\n\n  /**\n   * Set the getPointResolution function (see {@link module:ol/proj.getPointResolution}\n   * for this projection.\n   * @param {function(number, import(\"../coordinate.js\").Coordinate):number} func Function\n   * @api\n   */\n  setGetPointResolution(func) {\n    this.getPointResolutionFunc_ = func;\n  }\n\n  /**\n   * Get the custom point resolution function for this projection (if set).\n   * @return {function(number, import(\"../coordinate.js\").Coordinate):number|undefined} The custom point\n   * resolution function (if set).\n   */\n  getPointResolutionFunc() {\n    return this.getPointResolutionFunc_;\n  }\n}\n\nexport default Projection;\n","/**\n * @module ol/proj/epsg3857\n */\nimport Projection from './Projection.js';\n\n/**\n * Radius of WGS84 sphere\n *\n * @const\n * @type {number}\n */\nexport const RADIUS = 6378137;\n\n/**\n * @const\n * @type {number}\n */\nexport const HALF_SIZE = Math.PI * RADIUS;\n\n/**\n * @const\n * @type {import(\"../extent.js\").Extent}\n */\nexport const EXTENT = [-HALF_SIZE, -HALF_SIZE, HALF_SIZE, HALF_SIZE];\n\n/**\n * @const\n * @type {import(\"../extent.js\").Extent}\n */\nexport const WORLD_EXTENT = [-180, -85, 180, 85];\n\n/**\n * Maximum safe value in y direction\n * @const\n * @type {number}\n */\nexport const MAX_SAFE_Y = RADIUS * Math.log(Math.tan(Math.PI / 2));\n\n/**\n * @classdesc\n * Projection object for web/spherical Mercator (EPSG:3857).\n */\nclass EPSG3857Projection extends Projection {\n  /**\n   * @param {string} code Code.\n   */\n  constructor(code) {\n    super({\n      code: code,\n      units: 'm',\n      extent: EXTENT,\n      global: true,\n      worldExtent: WORLD_EXTENT,\n      getPointResolution: function (resolution, point) {\n        return resolution / Math.cosh(point[1] / RADIUS);\n      },\n    });\n  }\n}\n\n/**\n * Projections equal to EPSG:3857.\n *\n * @const\n * @type {Array<import(\"./Projection.js\").default>}\n */\nexport const PROJECTIONS = [\n  new EPSG3857Projection('EPSG:3857'),\n  new EPSG3857Projection('EPSG:102100'),\n  new EPSG3857Projection('EPSG:102113'),\n  new EPSG3857Projection('EPSG:900913'),\n  new EPSG3857Projection('http://www.opengis.net/def/crs/EPSG/0/3857'),\n  new EPSG3857Projection('http://www.opengis.net/gml/srs/epsg.xml#3857'),\n];\n\n/**\n * Transformation from EPSG:4326 to EPSG:3857.\n *\n * @param {Array<number>} input Input array of coordinate values.\n * @param {Array<number>} [output] Output array of coordinate values.\n * @param {number} [dimension] Dimension (default is `2`).\n * @return {Array<number>} Output array of coordinate values.\n */\nexport function fromEPSG4326(input, output, dimension) {\n  const length = input.length;\n  dimension = dimension > 1 ? dimension : 2;\n  if (output === undefined) {\n    if (dimension > 2) {\n      // preserve values beyond second dimension\n      output = input.slice();\n    } else {\n      output = new Array(length);\n    }\n  }\n  for (let i = 0; i < length; i += dimension) {\n    output[i] = (HALF_SIZE * input[i]) / 180;\n    let y = RADIUS * Math.log(Math.tan((Math.PI * (+input[i + 1] + 90)) / 360));\n    if (y > MAX_SAFE_Y) {\n      y = MAX_SAFE_Y;\n    } else if (y < -MAX_SAFE_Y) {\n      y = -MAX_SAFE_Y;\n    }\n    output[i + 1] = y;\n  }\n  return output;\n}\n\n/**\n * Transformation from EPSG:3857 to EPSG:4326.\n *\n * @param {Array<number>} input Input array of coordinate values.\n * @param {Array<number>} [output] Output array of coordinate values.\n * @param {number} [dimension] Dimension (default is `2`).\n * @return {Array<number>} Output array of coordinate values.\n */\nexport function toEPSG4326(input, output, dimension) {\n  const length = input.length;\n  dimension = dimension > 1 ? dimension : 2;\n  if (output === undefined) {\n    if (dimension > 2) {\n      // preserve values beyond second dimension\n      output = input.slice();\n    } else {\n      output = new Array(length);\n    }\n  }\n  for (let i = 0; i < length; i += dimension) {\n    output[i] = (180 * input[i]) / HALF_SIZE;\n    output[i + 1] =\n      (360 * Math.atan(Math.exp(input[i + 1] / RADIUS))) / Math.PI - 90;\n  }\n  return output;\n}\n","/**\n * @module ol/proj/epsg4326\n */\nimport Projection from './Projection.js';\n\n/**\n * Semi-major radius of the WGS84 ellipsoid.\n *\n * @const\n * @type {number}\n */\nexport const RADIUS = 6378137;\n\n/**\n * Extent of the EPSG:4326 projection which is the whole world.\n *\n * @const\n * @type {import(\"../extent.js\").Extent}\n */\nexport const EXTENT = [-180, -90, 180, 90];\n\n/**\n * @const\n * @type {number}\n */\nexport const METERS_PER_UNIT = (Math.PI * RADIUS) / 180;\n\n/**\n * @classdesc\n * Projection object for WGS84 geographic coordinates (EPSG:4326).\n *\n * Note that OpenLayers does not strictly comply with the EPSG definition.\n * The EPSG registry defines 4326 as a CRS for Latitude,Longitude (y,x).\n * OpenLayers treats EPSG:4326 as a pseudo-projection, with x,y coordinates.\n */\nclass EPSG4326Projection extends Projection {\n  /**\n   * @param {string} code Code.\n   * @param {string} [axisOrientation] Axis orientation.\n   */\n  constructor(code, axisOrientation) {\n    super({\n      code: code,\n      units: 'degrees',\n      extent: EXTENT,\n      axisOrientation: axisOrientation,\n      global: true,\n      metersPerUnit: METERS_PER_UNIT,\n      worldExtent: EXTENT,\n    });\n  }\n}\n\n/**\n * Projections equal to EPSG:4326.\n *\n * @const\n * @type {Array<import(\"./Projection.js\").default>}\n */\nexport const PROJECTIONS = [\n  new EPSG4326Projection('CRS:84'),\n  new EPSG4326Projection('EPSG:4326', 'neu'),\n  new EPSG4326Projection('urn:ogc:def:crs:OGC:1.3:CRS84'),\n  new EPSG4326Projection('urn:ogc:def:crs:OGC:2:84'),\n  new EPSG4326Projection('http://www.opengis.net/def/crs/OGC/1.3/CRS84'),\n  new EPSG4326Projection('http://www.opengis.net/gml/srs/epsg.xml#4326', 'neu'),\n  new EPSG4326Projection('http://www.opengis.net/def/crs/EPSG/0/4326', 'neu'),\n];\n","/**\n * @module ol/proj/projections\n */\n\n/**\n * @type {Object<string, import(\"./Projection.js\").default>}\n */\nlet cache = {};\n\n/**\n * Clear the projections cache.\n */\nexport function clear() {\n  cache = {};\n}\n\n/**\n * Get a cached projection by code.\n * @param {string} code The code for the projection.\n * @return {import(\"./Projection.js\").default} The projection (if cached).\n */\nexport function get(code) {\n  return (\n    cache[code] ||\n    cache[code.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\\w+)$/, 'EPSG:$3')] ||\n    null\n  );\n}\n\n/**\n * Add a projection to the cache.\n * @param {string} code The projection code.\n * @param {import(\"./Projection.js\").default} projection The projection to cache.\n */\nexport function add(code, projection) {\n  cache[code] = projection;\n}\n","/**\n * @module ol/proj/transforms\n */\nimport {isEmpty} from '../obj.js';\n\n/**\n * @private\n * @type {!Object<string, Object<string, import(\"../proj.js\").TransformFunction>>}\n */\nlet transforms = {};\n\n/**\n * Clear the transform cache.\n */\nexport function clear() {\n  transforms = {};\n}\n\n/**\n * Registers a conversion function to convert coordinates from the source\n * projection to the destination projection.\n *\n * @param {import(\"./Projection.js\").default} source Source.\n * @param {import(\"./Projection.js\").default} destination Destination.\n * @param {import(\"../proj.js\").TransformFunction} transformFn Transform.\n */\nexport function add(source, destination, transformFn) {\n  const sourceCode = source.getCode();\n  const destinationCode = destination.getCode();\n  if (!(sourceCode in transforms)) {\n    transforms[sourceCode] = {};\n  }\n  transforms[sourceCode][destinationCode] = transformFn;\n}\n\n/**\n * Unregisters the conversion function to convert coordinates from the source\n * projection to the destination projection.  This method is used to clean up\n * cached transforms during testing.\n *\n * @param {import(\"./Projection.js\").default} source Source projection.\n * @param {import(\"./Projection.js\").default} destination Destination projection.\n * @return {import(\"../proj.js\").TransformFunction} transformFn The unregistered transform.\n */\nexport function remove(source, destination) {\n  const sourceCode = source.getCode();\n  const destinationCode = destination.getCode();\n  const transform = transforms[sourceCode][destinationCode];\n  delete transforms[sourceCode][destinationCode];\n  if (isEmpty(transforms[sourceCode])) {\n    delete transforms[sourceCode];\n  }\n  return transform;\n}\n\n/**\n * Get a transform given a source code and a destination code.\n * @param {string} sourceCode The code for the source projection.\n * @param {string} destinationCode The code for the destination projection.\n * @return {import(\"../proj.js\").TransformFunction|undefined} The transform function (if found).\n */\nexport function get(sourceCode, destinationCode) {\n  let transform;\n  if (sourceCode in transforms && destinationCode in transforms[sourceCode]) {\n    transform = transforms[sourceCode][destinationCode];\n  }\n  return transform;\n}\n","/**\n * @module ol/proj\n */\n\n/**\n * The ol/proj module stores:\n * * a list of {@link module:ol/proj/Projection~Projection}\n * objects, one for each projection supported by the application\n * * a list of transform functions needed to convert coordinates in one projection\n * into another.\n *\n * The static functions are the methods used to maintain these.\n * Each transform function can handle not only simple coordinate pairs, but also\n * large arrays of coordinates such as vector geometries.\n *\n * When loaded, the library adds projection objects for EPSG:4326 (WGS84\n * geographic coordinates) and EPSG:3857 (Web or Spherical Mercator, as used\n * for example by Bing Maps or OpenStreetMap), together with the relevant\n * transform functions.\n *\n * Additional transforms may be added by using the http://proj4js.org/\n * library (version 2.2 or later). You can use the full build supplied by\n * Proj4js, or create a custom build to support those projections you need; see\n * the Proj4js website for how to do this. You also need the Proj4js definitions\n * for the required projections. These definitions can be obtained from\n * https://epsg.io/, and are a JS function, so can be loaded in a script\n * tag (as in the examples) or pasted into your application.\n *\n * After all required projection definitions are added to proj4's registry (by\n * using `proj4.defs()`), simply call `register(proj4)` from the `ol/proj/proj4`\n * package. Existing transforms are not changed by this function. See\n * examples/wms-image-custom-proj for an example of this.\n *\n * Additional projection definitions can be registered with `proj4.defs()` any\n * time. Just make sure to call `register(proj4)` again; for example, with user-supplied data where you don't\n * know in advance what projections are needed, you can initially load minimal\n * support and then load whichever are requested.\n *\n * Note that Proj4js does not support projection extents. If you want to add\n * one for creating default tile grids, you can add it after the Projection\n * object has been created with `setExtent`, for example,\n * `get('EPSG:1234').setExtent(extent)`.\n *\n * In addition to Proj4js support, any transform functions can be added with\n * {@link module:ol/proj.addCoordinateTransforms}. To use this, you must first create\n * a {@link module:ol/proj/Projection~Projection} object for the new projection and add it with\n * {@link module:ol/proj.addProjection}. You can then add the forward and inverse\n * functions with {@link module:ol/proj.addCoordinateTransforms}. See\n * examples/wms-custom-proj for an example of this.\n *\n * Note that if no transforms are needed and you only need to define the\n * projection, just add a {@link module:ol/proj/Projection~Projection} with\n * {@link module:ol/proj.addProjection}. See examples/wms-no-proj for an example of\n * this.\n */\nimport Projection from './proj/Projection.js';\nimport {\n  PROJECTIONS as EPSG3857_PROJECTIONS,\n  fromEPSG4326,\n  toEPSG4326,\n} from './proj/epsg3857.js';\nimport {PROJECTIONS as EPSG4326_PROJECTIONS} from './proj/epsg4326.js';\nimport {METERS_PER_UNIT} from './proj/Units.js';\nimport {\n  add as addProj,\n  clear as clearProj,\n  get as getProj,\n} from './proj/projections.js';\nimport {\n  add as addTransformFunc,\n  clear as clearTransformFuncs,\n  get as getTransformFunc,\n} from './proj/transforms.js';\nimport {applyTransform, getWidth} from './extent.js';\nimport {clamp, modulo} from './math.js';\nimport {equals, getWorldsAway} from './coordinate.js';\nimport {getDistance} from './sphere.js';\nimport {warn} from './console.js';\n\n/**\n * A projection as {@link module:ol/proj/Projection~Projection}, SRS identifier\n * string or undefined.\n * @typedef {Projection|string|undefined} ProjectionLike\n * @api\n */\n\n/**\n * A transform function accepts an array of input coordinate values, an optional\n * output array, and an optional dimension (default should be 2).  The function\n * transforms the input coordinate values, populates the output array, and\n * returns the output array.\n *\n * @typedef {function(Array<number>, Array<number>=, number=): Array<number>} TransformFunction\n * @api\n */\n\nexport {METERS_PER_UNIT};\n\nexport {Projection};\n\nlet showCoordinateWarning = true;\n\n/**\n * @param {boolean} [disable = true] Disable console info about `useGeographic()`\n */\nexport function disableCoordinateWarning(disable) {\n  const hide = disable === undefined ? true : disable;\n  showCoordinateWarning = !hide;\n}\n\n/**\n * @param {Array<number>} input Input coordinate array.\n * @param {Array<number>} [output] Output array of coordinate values.\n * @return {Array<number>} Output coordinate array (new array, same coordinate\n *     values).\n */\nexport function cloneTransform(input, output) {\n  if (output !== undefined) {\n    for (let i = 0, ii = input.length; i < ii; ++i) {\n      output[i] = input[i];\n    }\n    output = output;\n  } else {\n    output = input.slice();\n  }\n  return output;\n}\n\n/**\n * @param {Array<number>} input Input coordinate array.\n * @param {Array<number>} [output] Output array of coordinate values.\n * @return {Array<number>} Input coordinate array (same array as input).\n */\nexport function identityTransform(input, output) {\n  if (output !== undefined && input !== output) {\n    for (let i = 0, ii = input.length; i < ii; ++i) {\n      output[i] = input[i];\n    }\n    input = output;\n  }\n  return input;\n}\n\n/**\n * Add a Projection object to the list of supported projections that can be\n * looked up by their code.\n *\n * @param {Projection} projection Projection instance.\n * @api\n */\nexport function addProjection(projection) {\n  addProj(projection.getCode(), projection);\n  addTransformFunc(projection, projection, cloneTransform);\n}\n\n/**\n * @param {Array<Projection>} projections Projections.\n */\nexport function addProjections(projections) {\n  projections.forEach(addProjection);\n}\n\n/**\n * Fetches a Projection object for the code specified.\n *\n * @param {ProjectionLike} projectionLike Either a code string which is\n *     a combination of authority and identifier such as \"EPSG:4326\", or an\n *     existing projection object, or undefined.\n * @return {Projection|null} Projection object, or null if not in list.\n * @api\n */\nexport function get(projectionLike) {\n  return typeof projectionLike === 'string'\n    ? getProj(/** @type {string} */ (projectionLike))\n    : /** @type {Projection} */ (projectionLike) || null;\n}\n\n/**\n * Get the resolution of the point in degrees or distance units.\n * For projections with degrees as the unit this will simply return the\n * provided resolution. For other projections the point resolution is\n * by default estimated by transforming the `point` pixel to EPSG:4326,\n * measuring its width and height on the normal sphere,\n * and taking the average of the width and height.\n * A custom function can be provided for a specific projection, either\n * by setting the `getPointResolution` option in the\n * {@link module:ol/proj/Projection~Projection} constructor or by using\n * {@link module:ol/proj/Projection~Projection#setGetPointResolution} to change an existing\n * projection object.\n * @param {ProjectionLike} projection The projection.\n * @param {number} resolution Nominal resolution in projection units.\n * @param {import(\"./coordinate.js\").Coordinate} point Point to find adjusted resolution at.\n * @param {import(\"./proj/Units.js\").Units} [units] Units to get the point resolution in.\n * Default is the projection's units.\n * @return {number} Point resolution.\n * @api\n */\nexport function getPointResolution(projection, resolution, point, units) {\n  projection = get(projection);\n  let pointResolution;\n  const getter = projection.getPointResolutionFunc();\n  if (getter) {\n    pointResolution = getter(resolution, point);\n    if (units && units !== projection.getUnits()) {\n      const metersPerUnit = projection.getMetersPerUnit();\n      if (metersPerUnit) {\n        pointResolution =\n          (pointResolution * metersPerUnit) / METERS_PER_UNIT[units];\n      }\n    }\n  } else {\n    const projUnits = projection.getUnits();\n    if ((projUnits == 'degrees' && !units) || units == 'degrees') {\n      pointResolution = resolution;\n    } else {\n      // Estimate point resolution by transforming the center pixel to EPSG:4326,\n      // measuring its width and height on the normal sphere, and taking the\n      // average of the width and height.\n      const toEPSG4326 = getTransformFromProjections(\n        projection,\n        get('EPSG:4326')\n      );\n      if (toEPSG4326 === identityTransform && projUnits !== 'degrees') {\n        // no transform is available\n        pointResolution = resolution * projection.getMetersPerUnit();\n      } else {\n        let vertices = [\n          point[0] - resolution / 2,\n          point[1],\n          point[0] + resolution / 2,\n          point[1],\n          point[0],\n          point[1] - resolution / 2,\n          point[0],\n          point[1] + resolution / 2,\n        ];\n        vertices = toEPSG4326(vertices, vertices, 2);\n        const width = getDistance(vertices.slice(0, 2), vertices.slice(2, 4));\n        const height = getDistance(vertices.slice(4, 6), vertices.slice(6, 8));\n        pointResolution = (width + height) / 2;\n      }\n      const metersPerUnit = units\n        ? METERS_PER_UNIT[units]\n        : projection.getMetersPerUnit();\n      if (metersPerUnit !== undefined) {\n        pointResolution /= metersPerUnit;\n      }\n    }\n  }\n  return pointResolution;\n}\n\n/**\n * Registers transformation functions that don't alter coordinates. Those allow\n * to transform between projections with equal meaning.\n *\n * @param {Array<Projection>} projections Projections.\n * @api\n */\nexport function addEquivalentProjections(projections) {\n  addProjections(projections);\n  projections.forEach(function (source) {\n    projections.forEach(function (destination) {\n      if (source !== destination) {\n        addTransformFunc(source, destination, cloneTransform);\n      }\n    });\n  });\n}\n\n/**\n * Registers transformation functions to convert coordinates in any projection\n * in projection1 to any projection in projection2.\n *\n * @param {Array<Projection>} projections1 Projections with equal\n *     meaning.\n * @param {Array<Projection>} projections2 Projections with equal\n *     meaning.\n * @param {TransformFunction} forwardTransform Transformation from any\n *   projection in projection1 to any projection in projection2.\n * @param {TransformFunction} inverseTransform Transform from any projection\n *   in projection2 to any projection in projection1..\n */\nexport function addEquivalentTransforms(\n  projections1,\n  projections2,\n  forwardTransform,\n  inverseTransform\n) {\n  projections1.forEach(function (projection1) {\n    projections2.forEach(function (projection2) {\n      addTransformFunc(projection1, projection2, forwardTransform);\n      addTransformFunc(projection2, projection1, inverseTransform);\n    });\n  });\n}\n\n/**\n * Clear all cached projections and transforms.\n */\nexport function clearAllProjections() {\n  clearProj();\n  clearTransformFuncs();\n}\n\n/**\n * @param {Projection|string|undefined} projection Projection.\n * @param {string} defaultCode Default code.\n * @return {Projection} Projection.\n */\nexport function createProjection(projection, defaultCode) {\n  if (!projection) {\n    return get(defaultCode);\n  } else if (typeof projection === 'string') {\n    return get(projection);\n  }\n  return /** @type {Projection} */ (projection);\n}\n\n/**\n * Creates a {@link module:ol/proj~TransformFunction} from a simple 2D coordinate transform\n * function.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} coordTransform Coordinate\n *     transform.\n * @return {TransformFunction} Transform function.\n */\nexport function createTransformFromCoordinateTransform(coordTransform) {\n  return (\n    /**\n     * @param {Array<number>} input Input.\n     * @param {Array<number>} [output] Output.\n     * @param {number} [dimension] Dimension.\n     * @return {Array<number>} Output.\n     */\n    function (input, output, dimension) {\n      const length = input.length;\n      dimension = dimension !== undefined ? dimension : 2;\n      output = output !== undefined ? output : new Array(length);\n      for (let i = 0; i < length; i += dimension) {\n        const point = coordTransform(input.slice(i, i + dimension));\n        const pointLength = point.length;\n        for (let j = 0, jj = dimension; j < jj; ++j) {\n          output[i + j] = j >= pointLength ? input[i + j] : point[j];\n        }\n      }\n      return output;\n    }\n  );\n}\n\n/**\n * Registers coordinate transform functions to convert coordinates between the\n * source projection and the destination projection.\n * The forward and inverse functions convert coordinate pairs; this function\n * converts these into the functions used internally which also handle\n * extents and coordinate arrays.\n *\n * @param {ProjectionLike} source Source projection.\n * @param {ProjectionLike} destination Destination projection.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} forward The forward transform\n *     function (that is, from the source projection to the destination\n *     projection) that takes a {@link module:ol/coordinate~Coordinate} as argument and returns\n *     the transformed {@link module:ol/coordinate~Coordinate}.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} inverse The inverse transform\n *     function (that is, from the destination projection to the source\n *     projection) that takes a {@link module:ol/coordinate~Coordinate} as argument and returns\n *     the transformed {@link module:ol/coordinate~Coordinate}. If the transform function can only\n *     transform less dimensions than the input coordinate, it is supposeed to return a coordinate\n *     with only the length it can transform. The other dimensions will be taken unchanged from the\n *     source.\n * @api\n */\nexport function addCoordinateTransforms(source, destination, forward, inverse) {\n  const sourceProj = get(source);\n  const destProj = get(destination);\n  addTransformFunc(\n    sourceProj,\n    destProj,\n    createTransformFromCoordinateTransform(forward)\n  );\n  addTransformFunc(\n    destProj,\n    sourceProj,\n    createTransformFromCoordinateTransform(inverse)\n  );\n}\n\n/**\n * Transforms a coordinate from longitude/latitude to a different projection.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate as longitude and latitude, i.e.\n *     an array with longitude as 1st and latitude as 2nd element.\n * @param {ProjectionLike} [projection] Target projection. The\n *     default is Web Mercator, i.e. 'EPSG:3857'.\n * @return {import(\"./coordinate.js\").Coordinate} Coordinate projected to the target projection.\n * @api\n */\nexport function fromLonLat(coordinate, projection) {\n  disableCoordinateWarning();\n  return transform(\n    coordinate,\n    'EPSG:4326',\n    projection !== undefined ? projection : 'EPSG:3857'\n  );\n}\n\n/**\n * Transforms a coordinate to longitude/latitude.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Projected coordinate.\n * @param {ProjectionLike} [projection] Projection of the coordinate.\n *     The default is Web Mercator, i.e. 'EPSG:3857'.\n * @return {import(\"./coordinate.js\").Coordinate} Coordinate as longitude and latitude, i.e. an array\n *     with longitude as 1st and latitude as 2nd element.\n * @api\n */\nexport function toLonLat(coordinate, projection) {\n  const lonLat = transform(\n    coordinate,\n    projection !== undefined ? projection : 'EPSG:3857',\n    'EPSG:4326'\n  );\n  const lon = lonLat[0];\n  if (lon < -180 || lon > 180) {\n    lonLat[0] = modulo(lon + 180, 360) - 180;\n  }\n  return lonLat;\n}\n\n/**\n * Checks if two projections are the same, that is every coordinate in one\n * projection does represent the same geographic point as the same coordinate in\n * the other projection.\n *\n * @param {Projection} projection1 Projection 1.\n * @param {Projection} projection2 Projection 2.\n * @return {boolean} Equivalent.\n * @api\n */\nexport function equivalent(projection1, projection2) {\n  if (projection1 === projection2) {\n    return true;\n  }\n  const equalUnits = projection1.getUnits() === projection2.getUnits();\n  if (projection1.getCode() === projection2.getCode()) {\n    return equalUnits;\n  }\n  const transformFunc = getTransformFromProjections(projection1, projection2);\n  return transformFunc === cloneTransform && equalUnits;\n}\n\n/**\n * Searches in the list of transform functions for the function for converting\n * coordinates from the source projection to the destination projection.\n *\n * @param {Projection} sourceProjection Source Projection object.\n * @param {Projection} destinationProjection Destination Projection\n *     object.\n * @return {TransformFunction} Transform function.\n */\nexport function getTransformFromProjections(\n  sourceProjection,\n  destinationProjection\n) {\n  const sourceCode = sourceProjection.getCode();\n  const destinationCode = destinationProjection.getCode();\n  let transformFunc = getTransformFunc(sourceCode, destinationCode);\n  if (!transformFunc) {\n    transformFunc = identityTransform;\n  }\n  return transformFunc;\n}\n\n/**\n * Given the projection-like objects, searches for a transformation\n * function to convert a coordinates array from the source projection to the\n * destination projection.\n *\n * @param {ProjectionLike} source Source.\n * @param {ProjectionLike} destination Destination.\n * @return {TransformFunction} Transform function.\n * @api\n */\nexport function getTransform(source, destination) {\n  const sourceProjection = get(source);\n  const destinationProjection = get(destination);\n  return getTransformFromProjections(sourceProjection, destinationProjection);\n}\n\n/**\n * Transforms a coordinate from source projection to destination projection.\n * This returns a new coordinate (and does not modify the original).\n *\n * See {@link module:ol/proj.transformExtent} for extent transformation.\n * See the transform method of {@link module:ol/geom/Geometry~Geometry} and its\n * subclasses for geometry transforms.\n *\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n * @param {ProjectionLike} source Source projection-like.\n * @param {ProjectionLike} destination Destination projection-like.\n * @return {import(\"./coordinate.js\").Coordinate} Coordinate.\n * @api\n */\nexport function transform(coordinate, source, destination) {\n  const transformFunc = getTransform(source, destination);\n  return transformFunc(coordinate, undefined, coordinate.length);\n}\n\n/**\n * Transforms an extent from source projection to destination projection.  This\n * returns a new extent (and does not modify the original).\n *\n * @param {import(\"./extent.js\").Extent} extent The extent to transform.\n * @param {ProjectionLike} source Source projection-like.\n * @param {ProjectionLike} destination Destination projection-like.\n * @param {number} [stops] Number of stops per side used for the transform.\n * By default only the corners are used.\n * @return {import(\"./extent.js\").Extent} The transformed extent.\n * @api\n */\nexport function transformExtent(extent, source, destination, stops) {\n  const transformFunc = getTransform(source, destination);\n  return applyTransform(extent, transformFunc, undefined, stops);\n}\n\n/**\n * Transforms the given point to the destination projection.\n *\n * @param {import(\"./coordinate.js\").Coordinate} point Point.\n * @param {Projection} sourceProjection Source projection.\n * @param {Projection} destinationProjection Destination projection.\n * @return {import(\"./coordinate.js\").Coordinate} Point.\n */\nexport function transformWithProjections(\n  point,\n  sourceProjection,\n  destinationProjection\n) {\n  const transformFunc = getTransformFromProjections(\n    sourceProjection,\n    destinationProjection\n  );\n  return transformFunc(point);\n}\n\n/**\n * @type {Projection|null}\n */\nlet userProjection = null;\n\n/**\n * Set the projection for coordinates supplied from and returned by API methods.\n * This includes all API methods except for those interacting with tile grids.\n * @param {ProjectionLike} projection The user projection.\n * @api\n */\nexport function setUserProjection(projection) {\n  userProjection = get(projection);\n}\n\n/**\n * Clear the user projection if set.\n * @api\n */\nexport function clearUserProjection() {\n  userProjection = null;\n}\n\n/**\n * Get the projection for coordinates supplied from and returned by API methods.\n * Note that this method is not yet a part of the stable API.  Support for user\n * projections is not yet complete and should be considered experimental.\n * @return {Projection|null} The user projection (or null if not set).\n * @api\n */\nexport function getUserProjection() {\n  return userProjection;\n}\n\n/**\n * Use geographic coordinates (WGS-84 datum) in API methods.  This includes all API\n * methods except for those interacting with tile grids.\n * @api\n */\nexport function useGeographic() {\n  setUserProjection('EPSG:4326');\n}\n\n/**\n * Return a coordinate transformed into the user projection.  If no user projection\n * is set, the original coordinate is returned.\n * @param {Array<number>} coordinate Input coordinate.\n * @param {ProjectionLike} sourceProjection The input coordinate projection.\n * @return {Array<number>} The input coordinate in the user projection.\n */\nexport function toUserCoordinate(coordinate, sourceProjection) {\n  if (!userProjection) {\n    return coordinate;\n  }\n  return transform(coordinate, sourceProjection, userProjection);\n}\n\n/**\n * Return a coordinate transformed from the user projection.  If no user projection\n * is set, the original coordinate is returned.\n * @param {Array<number>} coordinate Input coordinate.\n * @param {ProjectionLike} destProjection The destination projection.\n * @return {Array<number>} The input coordinate transformed.\n */\nexport function fromUserCoordinate(coordinate, destProjection) {\n  if (!userProjection) {\n    if (\n      showCoordinateWarning &&\n      !equals(coordinate, [0, 0]) &&\n      coordinate[0] >= -180 &&\n      coordinate[0] <= 180 &&\n      coordinate[1] >= -90 &&\n      coordinate[1] <= 90\n    ) {\n      showCoordinateWarning = false;\n      warn(\n        'Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.'\n      );\n    }\n    return coordinate;\n  }\n  return transform(coordinate, userProjection, destProjection);\n}\n\n/**\n * Return an extent transformed into the user projection.  If no user projection\n * is set, the original extent is returned.\n * @param {import(\"./extent.js\").Extent} extent Input extent.\n * @param {ProjectionLike} sourceProjection The input extent projection.\n * @return {import(\"./extent.js\").Extent} The input extent in the user projection.\n */\nexport function toUserExtent(extent, sourceProjection) {\n  if (!userProjection) {\n    return extent;\n  }\n  return transformExtent(extent, sourceProjection, userProjection);\n}\n\n/**\n * Return an extent transformed from the user projection.  If no user projection\n * is set, the original extent is returned.\n * @param {import(\"./extent.js\").Extent} extent Input extent.\n * @param {ProjectionLike} destProjection The destination projection.\n * @return {import(\"./extent.js\").Extent} The input extent transformed.\n */\nexport function fromUserExtent(extent, destProjection) {\n  if (!userProjection) {\n    return extent;\n  }\n  return transformExtent(extent, userProjection, destProjection);\n}\n\n/**\n * Return the resolution in user projection units per pixel. If no user projection\n * is set, or source or user projection are missing units, the original resolution\n * is returned.\n * @param {number} resolution Resolution in input projection units per pixel.\n * @param {ProjectionLike} sourceProjection The input projection.\n * @return {number} Resolution in user projection units per pixel.\n */\nexport function toUserResolution(resolution, sourceProjection) {\n  if (!userProjection) {\n    return resolution;\n  }\n  const sourceUnits = get(sourceProjection).getUnits();\n  const userUnits = userProjection.getUnits();\n  return sourceUnits && userUnits\n    ? (resolution * METERS_PER_UNIT[sourceUnits]) / METERS_PER_UNIT[userUnits]\n    : resolution;\n}\n\n/**\n * Return the resolution in user projection units per pixel. If no user projection\n * is set, or source or user projection are missing units, the original resolution\n * is returned.\n * @param {number} resolution Resolution in user projection units per pixel.\n * @param {ProjectionLike} destProjection The destination projection.\n * @return {number} Resolution in destination projection units per pixel.\n */\nexport function fromUserResolution(resolution, destProjection) {\n  if (!userProjection) {\n    return resolution;\n  }\n  const sourceUnits = get(destProjection).getUnits();\n  const userUnits = userProjection.getUnits();\n  return sourceUnits && userUnits\n    ? (resolution * METERS_PER_UNIT[userUnits]) / METERS_PER_UNIT[sourceUnits]\n    : resolution;\n}\n\n/**\n * Creates a safe coordinate transform function from a coordinate transform function.\n * \"Safe\" means that it can handle wrapping of x-coordinates for global projections,\n * and that coordinates exceeding the source projection validity extent's range will be\n * clamped to the validity range.\n * @param {Projection} sourceProj Source projection.\n * @param {Projection} destProj Destination projection.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} transform Transform function (source to destiation).\n * @return {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} Safe transform function (source to destiation).\n */\nexport function createSafeCoordinateTransform(sourceProj, destProj, transform) {\n  return function (coord) {\n    let transformed, worldsAway;\n    if (sourceProj.canWrapX()) {\n      const sourceExtent = sourceProj.getExtent();\n      const sourceExtentWidth = getWidth(sourceExtent);\n      coord = coord.slice(0);\n      worldsAway = getWorldsAway(coord, sourceProj, sourceExtentWidth);\n      if (worldsAway) {\n        // Move x to the real world\n        coord[0] = coord[0] - worldsAway * sourceExtentWidth;\n      }\n      coord[0] = clamp(coord[0], sourceExtent[0], sourceExtent[2]);\n      coord[1] = clamp(coord[1], sourceExtent[1], sourceExtent[3]);\n      transformed = transform(coord);\n    } else {\n      transformed = transform(coord);\n    }\n    if (worldsAway && destProj.canWrapX()) {\n      // Move transformed coordinate back to the offset world\n      transformed[0] += worldsAway * getWidth(destProj.getExtent());\n    }\n    return transformed;\n  };\n}\n\n/**\n * Add transforms to and from EPSG:4326 and EPSG:3857.  This function is called\n * by when this module is executed and should only need to be called again after\n * `clearAllProjections()` is called (e.g. in tests).\n */\nexport function addCommon() {\n  // Add transformations that don't alter coordinates to convert within set of\n  // projections with equal meaning.\n  addEquivalentProjections(EPSG3857_PROJECTIONS);\n  addEquivalentProjections(EPSG4326_PROJECTIONS);\n  // Add transformations to convert EPSG:4326 like coordinates to EPSG:3857 like\n  // coordinates and back.\n  addEquivalentTransforms(\n    EPSG4326_PROJECTIONS,\n    EPSG3857_PROJECTIONS,\n    fromEPSG4326,\n    toEPSG4326\n  );\n}\n\naddCommon();\n","import { render } from \"./Map.vue?vue&type=template&id=4446a338\"\nimport script from \"./Map.vue?vue&type=script&lang=js\"\nexport * from \"./Map.vue?vue&type=script&lang=js\"\n\nimport \"./Map.vue?vue&type=style&index=0&id=4446a338&lang=css\"\n\nimport exportComponent from \"../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createVNode","_component_ol_map","ref","_component_ol_view","center","$setup","rotation","$data","zoom","projection","_component_ol_tile_layer","_component_ol_source_osm","_component_ol_vector_layer","_component_ol_source_vector","_component_ol_feature","_component_ol_geom_point","coordinates","userLocation","_component_ol_style","_component_ol_style_icon","src","hereIcon","scale","_createElementVNode","_hoisted_1","onClick","_cache","args","zoomIn","_component_PlusIcon","zoomOut","_component_SubIcon","handleGeo","_component_VectorIcon","currentColor","_hoisted_2","_normalizeClass","geoWave","_component_ol_interaction_dragrotatezoom","_component_ClusterMap","cameraList","isShowBottomSheet","onOpenBottomSheet","$options","handleSelect","_component_AnimationBottomSheet","onCloseBottomSheet","closeBottomSheet","_component_MovingBottomSheet","_component_BottomSheet","selectedCamera","width","height","viewBox","fill","xmlns","_createElementBlock","d","$props","name","props","type","String","default","__exports__","onMousedown","_ctx","dragStart","onTouchstart","dragMobileStart","onTouchmove","dragMove","onTouchend","touchEnd","_renderSlot","$slots","undefined","TRANSITION_DURATION","defineComponent","dragObject","emits","data","isDragging","dragOffset","y","top","left","screenWidth","window","innerWidth","screenHeight","innerHeight","computed","dragElement","document","querySelector","created","addEventListener","this","updateScreenSize","unmounted","removeEventListener","methods","event","getBoundingClientRect","clientY","dragEnd","bottom","style","transitionDuration","changedTouches","invertY","Math","abs","offsetHeight","transform","setTimeout","$emit","_Transition","isShow","key","Boolean","stroke","_component_ol_interaction_select","onSelect","filter","selectInteactionFilter","cameraIcon","color","cameraRotation","_component_ol_animated_clusterlayer","distance","_Fragment","_renderList","POSITION","id","_createBlock","overrideStyleFunction","_component_ol_style_text","CHANGE","ERROR","BLUR","CLEAR","CONTEXTMENU","CLICK","DBLCLICK","DRAGENTER","DRAGOVER","DROP","FOCUS","KEYDOWN","KEYPRESS","LOAD","RESIZE","TOUCHMOVE","WHEEL","IDLE","LOADING","LOADED","EMPTY","abstract","Error","uidCounter_","getUid","obj","ol_uid","toSize","size","dest","Array","isArray","ImageStyle","constructor","options","opacity_","opacity","rotateWithView_","rotateWithView","rotation_","scale_","scaleArray_","displacement_","displacement","declutterMode_","declutterMode","clone","getScale","getOpacity","slice","getRotation","getRotateWithView","getDisplacement","getDeclutterMode","getScaleArray","getAnchor","getImage","pixelRatio","getHitDetectionImage","getPixelRatio","getImageState","getImageSize","getOrigin","getSize","setDisplacement","setOpacity","setRotateWithView","setRotation","setScale","listenImageChange","listener","load","unlistenImageChange","messages","AssertionError","code","message","super","assert","assertion","errorCode","clamp","value","min","max","HEX_COLOR_RE_","NAMED_COLOR_RE_","asString","toString","fromNamed","el","createElement","body","appendChild","rgb","getComputedStyle","removeChild","fromString","MAX_CACHE_SIZE","cache","cacheSize","s","hasOwnProperty","i","fromStringInternal_","asArray","r","g","b","a","exec","n","length","hasAlpha","parseInt","substr","startsWith","split","map","Number","normalize","push","round","Disposable","disposed","dispose","disposeInternal","BaseEvent","propagationStopped","defaultPrevented","target","preventDefault","stopPropagation","VOID","clear","object","property","Target","eventTarget_","pendingRemovals_","dispatching_","listeners_","listeners","listenersForType","includes","dispatchEvent","isString","evt","Event","dispatching","pendingRemovals","propagate","ii","handleEvent","call","pr","getListeners","hasListener","Object","keys","index","indexOf","splice","ua","navigator","userAgent","toLowerCase","SAFARI","WORKER_OFFSCREEN_CANVAS","test","devicePixelRatio","WorkerGlobalScope","OffscreenCanvas","self","IMAGE_DECODE","Image","prototype","decode","passive","defineProperty","get","error","createCanvasContext2D","canvasPool","settings","canvas","shift","getContext","IconImageCache","cache_","cacheSize_","maxCacheSize_","canExpireCache","expire","iconImage","crossOrigin","getKey","set","setSize","maxCacheSize","colorString","shared","listen","thisArg","once","bind","originalListener","apply","arguments","eventsKey","listenOnce","unlistenByKey","listenImage","image","loadHandler","errorHandler","img","listening","decoding","loaded","listenerKeys","EventType","then","catch","forEach","taintedTestContext","IconImage","EventTarget","imageState","hitDetectionImage_","image_","crossOrigin_","canvas_","color_","unlisten_","imageState_","size_","src_","tainted_","initializeImage_","isTainted_","ImageState","willReadFrequently","drawImage","getImageData","e","dispatchChangeEvent_","handleImageError_","unlistenImage_","handleImageLoad_","replaceColor_","context","fillRect","getSrc","ceil","ctx","globalCompositeOperation","fillStyle","iconImageCache","Icon","anchor_","anchor","normalizedAnchor_","anchorOrigin_","anchorOrigin","anchorXUnits_","anchorXUnits","anchorYUnits_","anchorYUnits","imgSize_","imgSize","iconImage_","getIconImage","offset_","offset","offsetOrigin_","offsetOrigin","origin_","width_","height_","updateScaleFromWidthAndHeight","setAnchor","getColor","iconImageSize","getWidth","getHeight","setWidth","setHeight","widthScale","heightScale","feature","values_","features","setup","selectInteraction","removeProgramaticly","select","getFeatures","onUpdated","selected","geometryChangeKey_","flatCoordinates","find","camera","AZIMUTH","emit","clusteredFeatures","getGeometry","getCoordinates","text","getText","cluster","clusterIcon","icon","newText","setImage","setText","_hoisted_3","_toDisplayString","title","_hoisted_4","caption","_hoisted_5","isPlaceholder","isLoading","_hoisted_6","isAccess","_component_EyeSlashIcon","isPreview","_component_VideoOffIcon","alt","figcaption","components","EyeSlashIcon","VideoOffIcon","interval","mounted","SNAPSHOT","HD","ADDRESS","at","hasVideo","setInterval","updatePreview","videoNotAccess","videoNotAvialable","async","response","getIntercomVideo","ID","result","cameras","ACCESS","LIVE","STATUS","url","fetch","ok","METERS_PER_UNIT","PI","Projection","code_","units_","units","extent_","extent","worldExtent_","worldExtent","axisOrientation_","axisOrientation","global_","global","canWrapX_","getPointResolutionFunc_","getPointResolution","defaultTileGrid_","metersPerUnit_","metersPerUnit","canWrapX","getCode","getExtent","getUnits","getMetersPerUnit","getWorldExtent","getAxisOrientation","isGlobal","setGlobal","getDefaultTileGrid","setDefaultTileGrid","tileGrid","setExtent","setWorldExtent","setGetPointResolution","func","getPointResolutionFunc","RADIUS","HALF_SIZE","EXTENT","WORLD_EXTENT","MAX_SAFE_Y","log","tan","EPSG3857Projection","resolution","point","cosh","PROJECTIONS","fromEPSG4326","input","output","dimension","toEPSG4326","atan","exp","EPSG4326Projection","replace","add","transforms","source","destination","transformFn","sourceCode","destinationCode","showCoordinateWarning","disableCoordinateWarning","disable","hide","cloneTransform","identityTransform","addProjection","addProj","addTransformFunc","addProjections","projections","projectionLike","getProj","addEquivalentProjections","addEquivalentTransforms","projections1","projections2","forwardTransform","inverseTransform","projection1","projection2","fromLonLat","coordinate","getTransformFromProjections","sourceProjection","destinationProjection","transformFunc","getTransformFunc","getTransform","addCommon","EPSG3857_PROJECTIONS","EPSG4326_PROJECTIONS","convertCoordinates","lon","lat","x","VectorIcon","PlusIcon","SubIcon","ClusterMap","BottomSheet","MovingBottomSheet","AnimationBottomSheet","moc","view","animate","getZoom","duration","handleDoubleClick","console","handleClusterClick","fit","maxZoom","degreesToRadians","degrees","initCameraList","getCameraList","LONGITUDE","LATITUDE","initUserLocation","geo","getUserLocation","onMounted","render"],"sourceRoot":""}