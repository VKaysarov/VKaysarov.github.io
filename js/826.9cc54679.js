"use strict";(self["webpackChunksubscriptions"]=self["webpackChunksubscriptions"]||[]).push([[826],{9583:function(t,e,i){i.r(e),i.d(e,{default:function(){return $e}});var n=i(3396),o=i(7139);const s={class:"control"},r={class:"geo-wave-wrapper"};function a(t,e,i,a,c,l){const h=(0,n.up)("ol-view"),d=(0,n.up)("ol-source-osm"),u=(0,n.up)("ol-tile-layer"),g=(0,n.up)("ol-geom-point"),m=(0,n.up)("ol-style-icon"),_=(0,n.up)("ol-style"),f=(0,n.up)("ol-feature"),p=(0,n.up)("ol-source-vector"),v=(0,n.up)("ol-vector-layer"),w=(0,n.up)("PlusIcon"),S=(0,n.up)("SubIcon"),y=(0,n.up)("VectorIcon"),I=(0,n.up)("ol-interaction-dragrotatezoom"),C=(0,n.up)("ClusterMap"),E=(0,n.up)("ol-map"),O=(0,n.up)("BottomSheet"),b=(0,n.up)("MovingBottomSheet"),A=(0,n.up)("AnimationBottomSheet");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(E,{ref:"map","load-tiles-while-animating":"","load-tiles-while-interacting":"",class:"map"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{ref:"view",center:a.center,rotation:c.rotation,zoom:a.zoom,"zoom-factor":3,projection:c.projection},null,8,["center","rotation","zoom","projection"]),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d)])),_:1}),(0,n.Wm)(v,{"z-index":2},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{ref:"positionFeature"},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{coordinates:a.userLocation},null,8,["coordinates"]),(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{src:a.hereIcon,scale:1},null,8,["src"])])),_:1})])),_:1},512)])),_:1})])),_:1}),(0,n._)("div",s,[(0,n._)("button",{class:"control__item zoom-in",onClick:e[0]||(e[0]=(...t)=>a.zoomIn&&a.zoomIn(...t))},[(0,n.Wm)(w)]),(0,n._)("button",{class:"control__item zoom-out",onClick:e[1]||(e[1]=(...t)=>a.zoomOut&&a.zoomOut(...t))},[(0,n.Wm)(S)]),(0,n._)("button",{class:"control__item geo-me",onClick:e[2]||(e[2]=(...t)=>a.handleGeo&&a.handleGeo(...t))},[(0,n.Wm)(y,{"current-color":a.currentColor},null,8,["current-color"])])]),(0,n._)("div",r,[(0,n._)("div",{class:(0,o.C_)(["geo-wave",{"geo-wave-animate":a.geoWave}])},null,2)]),(0,n.Wm)(I),(0,n.Wm)(C,{"camera-list":a.cameraList,"is-show-bottom-sheet":c.isShowBottomSheet,onOpenBottomSheet:l.handleSelect},null,8,["camera-list","is-show-bottom-sheet","onOpenBottomSheet"])])),_:1},512),(0,n.Wm)(A,{"is-show":c.isShowBottomSheet,onCloseBottomSheet:l.closeBottomSheet},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{"drag-object":"bottomsheet",onCloseBottomSheet:l.closeBottomSheet},{default:(0,n.w5)((()=>[(0,n.Wm)(O,{"selected-camera":c.selectedCamera,onCloseBottomSheet:l.closeBottomSheet},null,8,["selected-camera","onCloseBottomSheet"])])),_:1},8,["onCloseBottomSheet"])])),_:1},8,["is-show","onCloseBottomSheet"])],64)}var c=i(4870),l=i.p+"img/here.17f25695.svg";const h={width:"18",height:"19",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d=["fill"];function u(t,e,i,o,s,r){return(0,n.wg)(),(0,n.iD)("svg",h,[(0,n._)("path",{d:"M18 0.857178L0 8.38718V9.35718L6.84 12.0172L9.5 18.8572H10.46L18 0.857178Z",fill:i.currentColor},null,8,d)])}var g={name:"VectorIcon",props:{currentColor:{type:String,default:"#1274FF"}}},m=i(7477);const _=(0,m.Z)(g,[["render",u]]);var f=_;function p(t,e,i,o,s,r){return(0,n.wg)(),(0,n.iD)("div",{class:"drag-container",onMousedown:e[0]||(e[0]=(...e)=>t.dragStart&&t.dragStart(...e)),onTouchstart:e[1]||(e[1]=(...e)=>t.dragMobileStart&&t.dragMobileStart(...e)),onTouchmove:e[2]||(e[2]=(...e)=>t.dragMove&&t.dragMove(...e)),onTouchend:e[3]||(e[3]=(...e)=>t.touchEnd&&t.touchEnd(...e))},[(0,n.WI)(t.$slots,"default",{},void 0,!0)],32)}const v=400;var w=(0,n.aZ)({name:"MovingBottomSheet",props:{dragObject:{type:String}},emits:["closeBottomSheet"],data(){return{isDragging:!1,dragOffset:{y:0},top:0,left:0,screenWidth:window.innerWidth,screenHeight:window.innerHeight}},computed:{dragElement(){return document.querySelector(".drag-container")}},created(){window.addEventListener("resize",this.updateScreenSize)},unmounted(){window.removeEventListener("resize",this.updateScreenSize)},methods:{updateScreenSize(){this.screenWidth=window.innerWidth,this.screenHeight=window.innerHeight},dragStart(t){const{top:e}=this.dragElement.getBoundingClientRect();this.isDragging=!0,this.dragOffset={y:t.clientY-e},document.addEventListener("mousemove",this.dragMove),document.addEventListener("mouseup",this.dragEnd)},dragMobileStart(t){const{bottom:e}=this.dragElement.getBoundingClientRect();this.dragElement.style.transitionDuration="0ms",this.dragOffset={y:t.changedTouches[0].clientY-e}},dragMove(t){if(this.isDragging&&(this.top=t.clientY-this.dragOffset.y,this.dragElement.style.top=`${this.top}px`),t.changedTouches[0].clientY){const e=this.screenHeight-t.changedTouches[0].clientY,i=e+this.dragOffset.y;if(i>0)return;this.top=i,this.dragElement.style.bottom=`${this.top}px`}},dragEnd(){this.isDragging=!1,document.removeEventListener("mousemove",this.dragMove),document.removeEventListener("mouseup",this.dragEnd)},touchEnd(){this.dragElement.style.transitionDuration=`${v}ms`,Math.abs(this.top)>this.dragElement.offsetHeight/3?(this.dragElement.style.transform="translateY(100%)",setTimeout((()=>{this.$emit("closeBottomSheet")}),v)):this.dragElement.style.bottom="-1px"}}});const S=(0,m.Z)(w,[["render",p],["__scopeId","data-v-32a3060a"]]);var y=S,I=i(9242);function C(t,e,i,o,s,r){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(I.uT,{name:"fade"},{default:(0,n.w5)((()=>[i.isShow?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"bottomsheet-overlay",onClick:e[0]||(e[0]=(...t)=>r.closeBottomSheet&&r.closeBottomSheet(...t))})):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(I.uT,{name:"slide-fade"},{default:(0,n.w5)((()=>[i.isShow?(0,n.WI)(t.$slots,"default",{key:0},void 0,!0):(0,n.kq)("",!0)])),_:3})],64)}var E={name:"AnimationBottomSheet",props:{isShow:{type:Boolean,default:!1}},emits:["closeBottomSheet"],methods:{closeBottomSheet(){this.$emit("closeBottomSheet")}}};const O=(0,m.Z)(E,[["render",C],["__scopeId","data-v-53337202"]]);var b=O;const A={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x=["stroke"];function L(t,e,i,o,s,r){return(0,n.wg)(),(0,n.iD)("svg",A,[(0,n._)("path",{d:"M2 11.8572L22 11.8572M12 1.85718C12 8.82687 12 21.8572 12 21.8572",stroke:i.currentColor,"stroke-width":"3","stroke-linecap":"round"},null,8,x)])}var z={props:{currentColor:{type:String,default:"#1F283E"}}};const P=(0,m.Z)(z,[["render",L]]);var D=P;const M={width:"24",height:"4",viewBox:"0 0 24 4",fill:"none",xmlns:"http://www.w3.org/2000/svg"},T=["stroke"];function W(t,e,i,o,s,r){return(0,n.wg)(),(0,n.iD)("svg",M,[(0,n._)("path",{d:"M2 1.85718L22 1.85718",stroke:i.currentColor,"stroke-width":"3","stroke-linecap":"round"},null,8,T)])}var R={props:{currentColor:{type:String,default:"#1F283E"}}};const B=(0,m.Z)(R,[["render",W]]);var H=B;function k(t,e,i,o,s,r){const a=(0,n.up)("ol-style-icon"),c=(0,n.up)("ol-style"),l=(0,n.up)("ol-interaction-select"),h=(0,n.up)("ol-geom-point"),d=(0,n.up)("ol-feature"),u=(0,n.up)("ol-source-vector"),g=(0,n.up)("ol-style-text"),m=(0,n.up)("ol-animated-clusterlayer");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(l,{onSelect:o.handleSelect,filter:r.selectInteactionFilter,ref:"selectInteraction"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(a,{src:o.cameraIcon,color:"#1274FF",rotation:o.cameraRotation},null,8,["src","rotation"])])),_:1})])),_:1},8,["onSelect","filter"]),(0,n.Wm)(m,{"animation-duration":500,distance:40},{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.cameraList,(({POSITION:t,id:e})=>((0,n.wg)(),(0,n.j4)(d,{key:e},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{coordinates:t.coordinates},null,8,["coordinates"])])),_:2},1024)))),128))])),_:1}),(0,n.Wm)(c,{"override-style-function":r.overrideStyleFunction},{default:(0,n.w5)((()=>[(0,n.Wm)(g)])),_:1},8,["override-style-function"])])),_:1})],64)}var U={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"},G={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function N(){throw new Error("Unimplemented abstract method.")}let F=0;function V(t){return t.ol_uid||(t.ol_uid=String(++F))}function Z(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}class Y{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Z(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Y({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return N()}getImage(t){return N()}getHitDetectionImage(){return N()}getPixelRatio(t){return 1}getImageState(){return N()}getImageSize(){return N()}getOrigin(){return N()}getSize(){return N()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Z(t)}listenImageChange(t){N()}load(){N()}unlistenImageChange(t){N()}}var j=Y;i(7658);const q={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class X extends Error{constructor(t){const e=q[t];super(e),this.code=t,this.name="AssertionError",this.message=e}}var $=X;function K(t,e){if(!t)throw new $(e)}function J(t,e,i){return Math.min(Math.max(t,e),i)}const Q=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,tt=/^([a-z]*)$|^hsla?\(.*\)$/i;function et(t){return"string"===typeof t?t:at(t)}function it(t){const e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);const t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}const nt=function(){const t=1024,e={};let i=0;return function(n){let o;if(e.hasOwnProperty(n))o=e[n];else{if(i>=t){let t=0;for(const n in e)0===(3&t++)&&(delete e[n],--i)}o=st(n),e[n]=o,++i}return o}}();function ot(t){return Array.isArray(t)?t:nt(t)}function st(t){let e,i,n,o,s;if(tt.exec(t)&&(t=it(t)),Q.exec(t)){const r=t.length-1;let a;a=r<=4?1:2;const c=4===r||8===r;e=parseInt(t.substr(1+0*a,a),16),i=parseInt(t.substr(1+1*a,a),16),n=parseInt(t.substr(1+2*a,a),16),o=c?parseInt(t.substr(1+3*a,a),16):255,1==a&&(e=(e<<4)+e,i=(i<<4)+i,n=(n<<4)+n,c&&(o=(o<<4)+o)),s=[e,i,n,o/255]}else t.startsWith("rgba(")?(s=t.slice(5,-1).split(",").map(Number),rt(s)):t.startsWith("rgb(")?(s=t.slice(4,-1).split(",").map(Number),s.push(1),rt(s)):K(!1,14);return s}function rt(t){return t[0]=J(t[0]+.5|0,0,255),t[1]=J(t[1]+.5|0,0,255),t[2]=J(t[2]+.5|0,0,255),t[3]=J(t[3],0,1),t}function at(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let i=t[1];i!=(0|i)&&(i=i+.5|0);let n=t[2];n!=(0|n)&&(n=n+.5|0);const o=void 0===t[3]?1:Math.round(100*t[3])/100;return"rgba("+e+","+i+","+n+","+o+")"}class ct{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}var lt=ct;class ht{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}var dt=ht;function ut(){}function gt(t){for(const e in t)delete t[e]}class mt extends lt{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const i=this.listeners_||(this.listeners_={}),n=i[t]||(i[t]=[]);n.includes(e)||n.push(e)}dispatchEvent(t){const e="string"===typeof t,i=e?t:t.type,n=this.listeners_&&this.listeners_[i];if(!n)return;const o=e?new dt(t):t;o.target||(o.target=this.eventTarget_||this);const s=this.dispatching_||(this.dispatching_={}),r=this.pendingRemovals_||(this.pendingRemovals_={});let a;i in s||(s[i]=0,r[i]=0),++s[i];for(let c=0,l=n.length;c<l;++c)if(a="handleEvent"in n[c]?n[c].handleEvent(o):n[c].call(this,o),!1===a||o.propagationStopped){a=!1;break}if(0===--s[i]){let t=r[i];delete r[i];while(t--)this.removeEventListener(i,ut);delete s[i]}return a}disposeInternal(){this.listeners_&&gt(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){const i=this.listeners_&&this.listeners_[t];if(i){const n=i.indexOf(e);-1!==n&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[n]=ut,++this.pendingRemovals_[t]):(i.splice(n,1),0===i.length&&delete this.listeners_[t]))}}}var _t=mt;const ft="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"",pt=(ft.includes("firefox"),ft.includes("safari")&&!ft.includes("chrom")),vt=(pt&&(ft.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(ft)),ft.includes("webkit")&&ft.includes("edge"),ft.includes("macintosh"),"undefined"!==typeof devicePixelRatio&&devicePixelRatio,"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope),wt="undefined"!==typeof Image&&Image.prototype.decode;(function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(e){}})();function St(t,e,i,n){let o;return o=i&&i.length?i.shift():vt?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(o.width=t),e&&(o.height=e),o.getContext("2d",n)}class yt{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const i=this.cache_[e];0!==(3&t++)||i.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}}get(t,e,i){const n=It(t,e,i);return n in this.cache_?this.cache_[n]:null}set(t,e,i,n){const o=It(t,e,i);this.cache_[o]=n,++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function It(t,e,i){const n=i?et(i):"null";return e+":"+t+":"+n}const Ct=new yt;function Et(t,e,i,n,o){if(n&&n!==t&&(i=i.bind(n)),o){const n=i;i=function(){t.removeEventListener(e,i),n.apply(this,arguments)}}const s={target:t,type:e,listener:i};return t.addEventListener(e,i),s}function Ot(t,e,i,n){return Et(t,e,i,n,!0)}function bt(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),gt(t))}function At(t,e,i){const n=t;let o=!0,s=!1,r=!1;const a=[Ot(n,U.LOAD,(function(){r=!0,s||e()}))];return n.src&&wt?(s=!0,n.decode().then((function(){o&&e()})).catch((function(t){o&&(r?e():i())}))):a.push(Ot(n,U.ERROR,i)),function(){o=!1,a.forEach(bt)}}let xt=null;class Lt extends _t{constructor(t,e,i,n,o,s){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=n,this.canvas_={},this.color_=s,this.unlisten_=null,this.imageState_=o,this.size_=i,this.src_=e,this.tainted_}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===G.LOADED){xt||(xt=St(1,1,void 0,{willReadFrequently:!0})),xt.drawImage(this.image_,0,0);try{xt.getImageData(0,0,1,1),this.tainted_=!1}catch(t){xt=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(U.CHANGE)}handleImageError_(){this.imageState_=G.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=G.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],i=St(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===G.IDLE){this.image_||this.initializeImage_(),this.imageState_=G.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=At(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==G.LOADED)return;const e=this.image_,i=document.createElement("canvas");i.width=Math.ceil(e.width*t),i.height=Math.ceil(e.height*t);const n=i.getContext("2d");n.scale(t,t),n.drawImage(e,0,0),n.globalCompositeOperation="multiply",n.fillStyle=et(this.color_),n.fillRect(0,0,i.width/t,i.height/t),n.globalCompositeOperation="destination-in",n.drawImage(e,0,0),this.canvas_[t]=i}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function zt(t,e,i,n,o,s){let r=Ct.get(e,n,s);return r||(r=new Lt(t,e,i,n,o,s),Ct.set(e,n,s,r)),r}class Pt extends j{constructor(t){t=t||{};const e=void 0!==t.opacity?t.opacity:1,i=void 0!==t.rotation?t.rotation:0,n=void 0!==t.scale?t.scale:1,o=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:e,rotation:i,scale:n,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:o,declutterMode:t.declutterMode}),this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;const s=void 0!==t.img?t.img:null;this.imgSize_=t.imgSize;let r=t.src;K(!(void 0!==r&&s),4),K(!s||s&&this.imgSize_,5),void 0!==r&&0!==r.length||!s||(r=s.src||V(s)),K(void 0!==r&&r.length>0,6),K(!((void 0!==t.width||void 0!==t.height)&&void 0!==t.scale),69);const a=void 0!==t.src?G.IDLE:G.LOADED;if(this.color_=void 0!==t.color?ot(t.color):null,this.iconImage_=zt(s,r,void 0!==this.imgSize_?this.imgSize_:null,this.crossOrigin_,a,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==t.size?t.size:null,this.width_=t.width,this.height_=t.height,void 0!==this.width_||void 0!==this.height_){const t=this.getImage(1),e=()=>{this.updateScaleFromWidthAndHeight(this.width_,this.height_)};t.width>0?this.updateScaleFromWidthAndHeight(this.width_,this.height_):t.addEventListener("load",e)}}clone(){let t=this.getScale();return t=Array.isArray(t)?t.slice():t,void 0===this.width_&&void 0===this.height_||(t=void 0),new Pt({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}updateScaleFromWidthAndHeight(t,e){const i=this.getImage(1);void 0!==t&&void 0!==e?super.setScale([t/i.width,e/i.height]):void 0!==t?super.setScale([t/i.width,t/i.width]):void 0!==e?super.setScale([e/i.height,e/i.height]):super.setScale([1,1])}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),i=this.getScaleArray();return[t[0]-e[0]/i[0],t[1]+e[1]/i[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if("top-left"!=this.offsetOrigin_){const e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=i[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){return this.width_}getHeight(){return this.height_}setWidth(t){this.width_=t,this.updateScaleFromWidthAndHeight(t,this.height_)}setHeight(t){this.height_=t,this.updateScaleFromWidthAndHeight(this.width_,t)}setScale(t){super.setScale(t);const e=this.getImage(1);if(e){const i=Array.isArray(t)?t[0]:t;void 0!==i&&(this.width_=i*e.width);const n=Array.isArray(t)?t[1]:t;void 0!==n&&(this.height_=n*e.height)}}listenImageChange(t){this.iconImage_.addEventListener(U.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(U.CHANGE,t)}}var Dt=Pt,Mt=i.p+"img/camera.0bd9d017.svg",Tt=i.p+"img/cluster.b5f19726.svg";const Wt=t=>1===t.values_?.features?.length;var Rt={props:{cameraList:{default:Array,type:Array},isShowBottomSheet:{default:!1,type:Boolean}},emits:["openBottomSheet"],setup(t,e){const i=(0,c.iH)(null),o=(0,c.iH)(null),s=()=>{o.value.select.getFeatures().clear()};(0,n.ic)((()=>{t.isShowBottomSheet||s()}));const r=n=>{const o=n.selected[0].geometryChangeKey_.target.flatCoordinates,s=t.cameraList.find((t=>t.POSITION.coordinates[0]===o[0]&&t.POSITION.coordinates[1]===o[1]));i.value=s.POSITION.AZIMUTH,e.emit("openBottomSheet",s)};return{cameraIcon:Mt,selectInteraction:o,cameraRotation:i,handleSelect:r}},methods:{selectInteactionFilter:Wt,overrideStyleFunction(t,e){if(!e)return;const i=t.get("features"),n=t.getGeometry().getCoordinates(),o=this.cameraList.find((t=>t.POSITION.coordinates[0]===n[0]&&t.POSITION.coordinates[1]===n[1])),s=i.length,r=e.getText(),a=new Dt({src:Tt}),c=o?.POSITION.AZIMUTH,l=new Dt({src:Mt,rotation:c}),h=s<=1?l:a,d=s<=1?"":String(s);e.setImage(h),r.setText(d)}}};const Bt=(0,m.Z)(Rt,[["render",k]]);var Ht=Bt;const kt=t=>((0,n.dD)("data-v-674ea6f8"),t=t(),(0,n.Cn)(),t),Ut={class:"bottomsheet"},Gt=kt((()=>(0,n._)("div",{class:"grab-wraper"},[(0,n._)("div",{class:"grab"})],-1))),Nt={class:"bottomsheet__title"},Ft={class:"bottomsheet__caption"},Vt={class:"figure"},Zt={class:"figure__content__overlay"},Yt=["src"];function jt(t,e,i,s,r,a){const c=(0,n.up)("EyeSlashIcon"),l=(0,n.up)("VideoOffIcon");return(0,n.wg)(),(0,n.iD)("div",Ut,[Gt,(0,n._)("h3",Nt,(0,o.zw)(r.title),1),(0,n._)("div",Ft,(0,o.zw)(r.caption),1),(0,n._)("figure",Vt,[(0,n._)("div",{class:(0,o.C_)(["figure__content",{placeholder:a.isPlaceholder,loading:r.isLoading}])},[(0,n._)("div",Zt,[r.isAccess?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(c,{key:0})),(0,n.Wm)(I.uT,{name:"fade"},{default:(0,n.w5)((()=>[r.isPreview?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(l,{key:0}))])),_:1})]),r.isPreview&&!r.isLoading?((0,n.wg)(),(0,n.iD)("img",{key:0,src:r.image,alt:"preview video",class:"figure__content__image"},null,8,Yt)):(0,n.kq)("",!0)],2),(0,n._)("figcaption",null,(0,o.zw)(r.figcaption),1)])])}const qt={width:"73",height:"49",viewBox:"0 0 73 49",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Xt=["fill"];function $t(t,e,i,o,s,r){return(0,n.wg)(),(0,n.iD)("svg",qt,[(0,n._)("path",{d:"M57.3853 48.3661C58.2059 49.1847 59.5294 49.2375 60.3765 48.3661C61.25 47.4683 61.1971 46.2008 60.3765 45.3822L15.4559 0.623883C14.6353 -0.194706 13.2853 -0.221112 12.4647 0.623883C11.6706 1.41607 11.6706 2.78918 12.4647 3.58137L57.3853 48.3661ZM59.8735 40.2858C67.6029 35.1102 72.5 28.1126 72.5 24.9967C72.5 19.6627 57.9676 2.36669 36.5 2.36669C32 2.36669 27.7912 3.13246 23.9794 4.39995L31.2324 11.6352C32.8735 10.9751 34.6471 10.6054 36.5265 10.6054C44.5471 10.6054 51.0324 16.9693 51.0324 25.0231C51.0324 26.8715 50.6353 28.6672 49.9206 30.2779L59.8735 40.2858ZM36.5 47.6531C41.3441 47.6531 45.8441 46.7817 49.8147 45.3294L42.5088 38.0413C40.7088 38.9391 38.6706 39.4144 36.5265 39.4144C28.4529 39.4144 22.0206 32.8393 21.9941 25.0231C21.9941 22.8314 22.4706 20.7717 23.3441 18.9497L13.7882 9.3643C5.55588 14.6455 0.5 21.8808 0.5 24.9967C0.5 30.3571 15.2971 47.6531 36.5 47.6531ZM44.9706 24.4686C44.9706 19.8475 41.2647 16.1243 36.6059 16.1243C36.3147 16.1243 36.0235 16.1507 35.7588 16.1771L44.9176 25.2872C44.9441 25.0495 44.9706 24.7591 44.9706 24.4686ZM28.0029 24.5742C28.0029 29.1953 31.8147 32.9185 36.4206 32.9185C36.7382 32.9185 37.0294 32.8921 37.3206 32.8657L28.0559 23.6236C28.0294 23.9405 28.0029 24.2573 28.0029 24.5742Z",fill:i.currentColor},null,8,Xt)])}var Kt={name:"EyeSlashIcon",props:{currentColor:{type:String,default:"#B9C6D1"}}};const Jt=(0,m.Z)(Kt,[["render",$t]]);var Qt=Jt;const te={width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ee=["fill"];function ie(t,e,i,o,s,r){return(0,n.wg)(),(0,n.iD)("svg",te,[(0,n._)("path",{d:"M2.46676 0.699605C2.35232 0.576794 2.21432 0.47829 2.06099 0.40997C1.90766 0.34165 1.74214 0.304914 1.5743 0.301952C1.40646 0.298991 1.23974 0.329865 1.0841 0.392734C0.92845 0.455602 0.78706 0.549176 0.668362 0.667874C0.549665 0.786572 0.45609 0.927962 0.393222 1.08361C0.330354 1.23926 0.299479 1.40597 0.302441 1.57381C0.305402 1.74165 0.342138 1.90717 0.410458 2.0605C0.478778 2.21383 0.577282 2.35183 0.700093 2.46627L3.31176 5.07794C2.41598 5.52952 1.6632 6.22099 1.13733 7.07527C0.611452 7.92956 0.333146 8.9131 0.333427 9.91627V24.0829C0.333427 25.5195 0.904109 26.8973 1.91993 27.9131C2.93575 28.9289 4.3135 29.4996 5.75009 29.4996H18.2501C19.4757 29.4996 20.665 29.0841 21.624 28.321C22.583 27.5579 23.2549 26.4922 23.5301 25.2979L31.5318 33.3013C31.7663 33.5358 32.0843 33.6675 32.4159 33.6675C32.7476 33.6675 33.0656 33.5358 33.3001 33.3013C33.5346 33.0668 33.6663 32.7487 33.6663 32.4171C33.6663 32.0855 33.5346 31.7674 33.3001 31.5329L2.46676 0.699605ZM25.3334 20.0296L32.8401 27.5379C33.0917 27.3911 33.3005 27.1809 33.4455 26.9282C33.5906 26.6755 33.6669 26.3893 33.6668 26.0979V7.8996C33.6669 7.58133 33.5759 7.26967 33.4045 7.00149C33.2331 6.7333 32.9885 6.5198 32.6996 6.38622C32.4107 6.25265 32.0896 6.20458 31.7742 6.24771C31.4589 6.29084 31.1625 6.42336 30.9201 6.6296L25.3334 11.3796V20.0296ZM9.80343 4.4996L23.6668 18.3629V9.91627C23.6668 8.47968 23.0961 7.10193 22.0803 6.08611C21.0644 5.07029 19.6867 4.4996 18.2501 4.4996H9.80343Z",fill:i.currentColor},null,8,ee)])}var ne={props:{currentColor:{type:String,default:"#B9C6D1"}}};const oe=(0,m.Z)(ne,[["render",ie]]);var se=oe,re=i(6205),ae={name:"BottomSheet",components:{EyeSlashIcon:Qt,VideoOffIcon:se},props:{selectedCamera:{type:Object,default:null}},data(){return{interval:null,title:"",caption:"",image:"",isAccess:!0,isPreview:!0,isLoading:!0,figcaption:"Загрузка видео..."}},computed:{isPlaceholder(){return!this.isPreview||!this.isAccess||this.isLoading}},mounted(){this.image=this.selectedCamera.SNAPSHOT.HD,this.title=`Подъезд ${this.selectedCamera.ADDRESS.at(-1)}`,this.caption=this.selectedCamera.ADDRESS,this.hasVideo(this.selectedCamera.SNAPSHOT.HD),this.interval=setInterval(this.updatePreview,25e3)},unmounted(){this.interval=null},methods:{videoNotAccess(){this.figcaption="*Предпросмотр доступен только для подписчиков",this.isAccess=!1,this.isPreview=!1},videoNotAvialable(){this.figcaption="*Видео не доступно по техническим причинам",this.isAccess=!0,this.isPreview=!1},async updatePreview(){try{const[t]=await(0,re.T2)(this.selectedCamera.ID),[e]=t.cameras.filter((t=>t.ID===this.selectedCamera.ID));this.image=e.SNAPSHOT.HD,this.isAccess=!0,this.isPreview=!0,this.hasVideo(e?.SNAPSHOT.HD),t.ACCESS.LIVE.STATUS||this.videoNotAccess()}catch{this.videoNotAvialable()}},async hasVideo(t){try{const e=await fetch(t);e.ok?(this.figcaption="*Видео обновляется раз в 25 сек",this.isPreview=!0,this.isAccess=!0):(this.figcaption="*Не удалось загрузить предпросмотр видео",this.isAccess=!0,this.isPreview=!1)}catch(e){this.videoNotAvialable()}this.isLoading=!1}}};const ce=(0,m.Z)(ae,[["render",jt],["__scopeId","data-v-674ea6f8"]]);var le=ce;const he={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class de{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||he[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}var ue=de;const ge=6378137,me=Math.PI*ge,_e=[-me,-me,me,me],fe=[-180,-85,180,85],pe=ge*Math.log(Math.tan(Math.PI/2));class ve extends ue{constructor(t){super({code:t,units:"m",extent:_e,global:!0,worldExtent:fe,getPointResolution:function(t,e){return t/Math.cosh(e[1]/ge)}})}}const we=[new ve("EPSG:3857"),new ve("EPSG:102100"),new ve("EPSG:102113"),new ve("EPSG:900913"),new ve("http://www.opengis.net/def/crs/EPSG/0/3857"),new ve("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Se(t,e,i){const n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():new Array(n));for(let o=0;o<n;o+=i){e[o]=me*t[o]/180;let i=ge*Math.log(Math.tan(Math.PI*(+t[o+1]+90)/360));i>pe?i=pe:i<-pe&&(i=-pe),e[o+1]=i}return e}function ye(t,e,i){const n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():new Array(n));for(let o=0;o<n;o+=i)e[o]=180*t[o]/me,e[o+1]=360*Math.atan(Math.exp(t[o+1]/ge))/Math.PI-90;return e}const Ie=6378137,Ce=[-180,-90,180,90],Ee=Math.PI*Ie/180;class Oe extends ue{constructor(t,e){super({code:t,units:"degrees",extent:Ce,axisOrientation:e,global:!0,metersPerUnit:Ee,worldExtent:Ce})}}const be=[new Oe("CRS:84"),new Oe("EPSG:4326","neu"),new Oe("urn:ogc:def:crs:OGC:1.3:CRS84"),new Oe("urn:ogc:def:crs:OGC:2:84"),new Oe("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Oe("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Oe("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Ae={};function xe(t){return Ae[t]||Ae[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Le(t,e){Ae[t]=e}let ze={};function Pe(t,e,i){const n=t.getCode(),o=e.getCode();n in ze||(ze[n]={}),ze[n][o]=i}function De(t,e){let i;return t in ze&&e in ze[t]&&(i=ze[t][e]),i}let Me=!0;function Te(t){const e=void 0===t||t;Me=!e}function We(t,e){if(void 0!==e)for(let i=0,n=t.length;i<n;++i)e[i]=t[i];else e=t.slice();return e}function Re(t,e){if(void 0!==e&&t!==e){for(let i=0,n=t.length;i<n;++i)e[i]=t[i];t=e}return t}function Be(t){Le(t.getCode(),t),Pe(t,t,We)}function He(t){t.forEach(Be)}function ke(t){return"string"===typeof t?xe(t):t||null}function Ue(t){He(t),t.forEach((function(e){t.forEach((function(t){e!==t&&Pe(e,t,We)}))}))}function Ge(t,e,i,n){t.forEach((function(t){e.forEach((function(e){Pe(t,e,i),Pe(e,t,n)}))}))}function Ne(t,e){return Te(),Ze(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function Fe(t,e){const i=t.getCode(),n=e.getCode();let o=De(i,n);return o||(o=Re),o}function Ve(t,e){const i=ke(t),n=ke(e);return Fe(i,n)}function Ze(t,e,i){const n=Ve(e,i);return n(t,void 0,t.length)}function Ye(){Ue(we),Ue(be),Ge(be,we,Se,ye)}Ye();const je=(t,e)=>{let i=20037508.34*t/180,n=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return n=20037508.34*n/180,[i,n]};var qe={components:{VectorIcon:f,PlusIcon:D,SubIcon:H,ClusterMap:Ht,BottomSheet:le,MovingBottomSheet:y,AnimationBottomSheet:b},setup(){const t=(0,c.iH)(null),e=(0,c.iH)(null),i=(0,c.iH)(null),o=(0,c.iH)(je(61.3999,55.15)),s=(0,c.iH)(13),r=(0,c.iH)(!1),a=(0,c.iH)("#000"),h=(0,c.iH)([]),d=(0,c.iH)([]),u=()=>{i.value.animate({zoom:i.value.getZoom()+1,duration:250})},g=()=>{i.value.animate({zoom:i.value.getZoom()-1,duration:250})},m=()=>{console.log("bd"),i.value.animate({zoom:i.value.getZoom()+50,duration:250})},_=t=>{const e=t.selected[0].values_.features;e.length>1&&i.value.animate({zoom:i.value.getZoom()+1,duration:250})},f=async()=>{i.value.fit([...d.value,...d.value],{maxZoom:s.value}),r.value=!0,a.value="#1274FF",setTimeout((()=>{r.value=!1,a.value="#000"}),400)},p=t=>t*(Math.PI/180),v=async()=>{const[t]=await(0,re.u0)();let e=0;t?h.value=t.cameras.filter((t=>t.POSITION.LONGITUDE)).map((t=>(e+=1e-5,{...t,POSITION:{AZIMUTH:p(t.POSITION.AZIMUTH),coordinates:Ne([t.POSITION.LONGITUDE+e,t.POSITION.LATITUDE])}}))):console.error("Error")},w=async()=>{try{const{geo:t}=await(0,re.wV)(),{LATITUDE:e,LONGITUDE:n}=t;d.value=Ne([n,e]),i.value.animate({center:Ne([n,e]),duration:250})}catch(t){console.log(t)}};return(0,n.bv)((()=>{w(),v()})),{currentColor:a,geoWave:r,map:t,moc:e,view:i,center:o,zoom:s,hereIcon:l,cameraList:h,userLocation:d,zoomIn:u,zoomOut:g,handleGeo:f,handleDoubleClick:m,handleClusterClick:_}},data(){return{projection:"EPSG:3857",selectedCamera:{},rotation:0,isShowBottomSheet:!1}},methods:{handleSelect(t){this.selectedCamera=t,this.isShowBottomSheet=!0},closeBottomSheet(){this.isShowBottomSheet=!1}}};const Xe=(0,m.Z)(qe,[["render",a]]);var $e=Xe}}]);
//# sourceMappingURL=826.9cc54679.js.map