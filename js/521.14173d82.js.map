{"version":3,"file":"js/521.14173d82.js","mappings":"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","sources":["webpack://subscriptions/./src/views/PayMethodChoice.vue","webpack://subscriptions/./src/views/PayMethodChoice.vue?eea1"],"sourcesContent":["<template>\r\n    <main class=\"main\">\r\n        <Preloader :is-visible=\"showLoader\" />\r\n\r\n        <div class=\"container\">\r\n            <router-link :to=\"`/${redirectPage}/?token=${token}`\"\r\n                         class=\"back\"\r\n                         @click=\"$store.dispatch('sendUserEvent', 'YardPayMethodClose')\"\r\n            >\r\n                <img src=\"../assets/images/arrow-back.svg\"\r\n                     alt=\"Назад\"\r\n                />\r\n            </router-link>\r\n            <h2 class=\"block__title\">\r\n                Выберите способ оплаты\r\n            </h2>\r\n            <div class=\"methods__list\">\r\n                <div class=\"method\">\r\n                    <label for=\"card\"\r\n                           class=\"method__title\"\r\n                           @click=\"selectedPayMethod = 'card'\"\r\n                    >\r\n                        <input\r\n                            id=\"card\"\r\n                            type=\"radio\"\r\n                            name=\"card\"\r\n                            class=\"method__checkbox\"\r\n                            :checked=\"payMethod === 'card'\"\r\n                            @click=\"$store.dispatch('sendUserEvent', 'YardPayMethodCard')\"\r\n                        />\r\n                        <span class=\"method__title_name\">\r\n                            Банковская карта\r\n                        </span>\r\n                    </label>\r\n                    <div class=\"method__item inactive\"\r\n                         :class=\"{inactive: !hasSubscription}\"\r\n                    >\r\n                        Пополнение через банковскую карту\r\n                    </div>\r\n                </div>\r\n                <div class=\"method\">\r\n                    <label for=\"ls\"\r\n                           class=\"method__title\"\r\n                           @click=\"selectedPayMethod = 'ls'\"\r\n                    >\r\n                        <input\r\n                            id=\"ls\"\r\n                            type=\"radio\"\r\n                            name=\"card\"\r\n                            class=\"method__checkbox\"\r\n                            :checked=\"payMethod === 'ls'\"\r\n                            @click=\"$store.dispatch('sendUserEvent', 'YardPayMethodPersonalAc')\"\r\n                        />\r\n                        <span class=\"method__title_name\">\r\n                            Лицевой счет\r\n                        </span>\r\n                    </label>\r\n                    <div\r\n                        class=\"method__item\"\r\n                        @click=\"$store.dispatch('sendUserEvent', 'YardPayMethodToupLc')\"\r\n                    >\r\n                        Пополнение через личный кабинет\r\n                    </div>\r\n                    <div\r\n                        class=\"method__item\"\r\n                        @click=\"$store.dispatch('sendUserEvent', 'YardPayMethodToupAtm')\"\r\n                    >\r\n                        Пополнение через терминалы и банкоматы\r\n                    </div>\r\n                    <div\r\n                        class=\"method__item\"\r\n                        @click=\"$store.dispatch('sendUserEvent', 'YardPayMethodToupSg')\"\r\n                    >\r\n                        Пополнение через систему город\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <Button\r\n            class=\"main__button\"\r\n            @click=\"saveMethod\"\r\n        >\r\n            Сохранить\r\n        </Button>\r\n    </main>\r\n</template>\r\n\r\n<script>\r\n    import { defineAsyncComponent, defineComponent } from \"vue\";\r\n    import { API } from \"../components/Constants\";\r\n\r\n\r\n    export default defineComponent({\r\n        name: \"PayMethodChoice\",\r\n        components: {\r\n            Preloader: defineAsyncComponent(() => import(\"@/components/Preloader.vue\")),\r\n            Button: defineAsyncComponent(() => import(\"@/components/Button.vue\")),\r\n        },\r\n        data() {\r\n            return {\r\n                showLoader: true,\r\n                token: API.TOKEN,\r\n                selectedPayMethod: String,\r\n                redirectPage: \"management\"\r\n            };\r\n        },\r\n        computed: {\r\n            hasSubscription() {\r\n                return this.$store.state.abonentInfo.hasSubscription;\r\n            },\r\n            abonentType() {\r\n                return this.$store.state.abonentInfo.abonentType;\r\n            },\r\n            payMethod() {\r\n                return this.$store.state.payMethod;\r\n            },\r\n        },\r\n        watch: {\r\n            abonentType() {\r\n                this.generateUrl()\r\n            }\r\n        },\r\n        mounted() {\r\n            this.showLoader = false;\r\n            this.$store.dispatch(\"sendUserEvent\", \"YardPayMethodView\");\r\n            this.generateUrl()\r\n        },\r\n        methods: {\r\n            saveMethod() {\r\n                this.$store.dispatch(\"sendUserEvent\", \"YardPayMethodSaveClick\");\r\n                this.dispatchMethod(this.selectedPayMethod);\r\n                this.setPayMethodCookie();\r\n            },\r\n            generateUrl() {\r\n                if (this.abonentType === \"vip\") {\r\n                    this.redirectPage = \"subscribe_vip\"\r\n                } else if (this.hasSubscription) {\r\n                    this.redirectPage = \"management\"\r\n                } else {\r\n                    this.redirectPage = \"subscribe\"\r\n                }\r\n            },\r\n            setPayMethodCookie() {\r\n                document.cookie = `pay_method=${this.payMethod}; path=/; expires=Fri, 31 Dec 9999 23:59:59 GMT`;\r\n                this.generateUrl()\r\n                this.$router.push(`/${this.redirectPage}/?token=${this.token}`);\r\n            },\r\n            dispatchMethod(payMethod) {\r\n                this.$store.dispatch(\"changePayMethod\", payMethod);\r\n            },\r\n        },\r\n    });\r\n</script>\r\n\r\n<style scoped>\r\n@import \"../assets/main.css\";\r\n\r\n.block__title {\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.back {\r\n  display: flex;\r\n  align-self: flex-start;\r\n  margin: 24px 0;\r\n  transform: rotate(-180deg);\r\n}\r\n\r\n.methods__list {\r\n  display: flex;\r\n  width: 100%;\r\n  flex-direction: column;\r\n}\r\n\r\n.method {\r\n  display: flex;\r\n  width: 100%;\r\n  flex-direction: column;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.method__title {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n}\r\n\r\n.method__title_name {\r\n  font-weight: 500;\r\n  font-size: 16px;\r\n  line-height: 20px;\r\n  letter-spacing: -0.02em;\r\n}\r\n\r\n.method__checkbox {\r\n  width: 24px;\r\n  min-width: 24px;\r\n  height: 24px;\r\n  min-height: 24px;\r\n  display: flex;\r\n  position: relative;\r\n  margin: 0 16px 0 0;\r\n  border-radius: 50%;\r\n  vertical-align: middle;\r\n  border: 1px solid #B9C6D1;\r\n  appearance: none;\r\n  outline: none;\r\n  z-index: 2;\r\n}\r\n\r\n.method__checkbox:checked::after {\r\n  content: \"\";\r\n  display: flex;\r\n  position: absolute;\r\n  width: 24px;\r\n  height: 24px;\r\n  inset: -1px 0 0 -1px;\r\n  border-radius: 100%;\r\n  background: #1D86FF url(\"../assets/images/checkbox.svg\") 5px center no-repeat;\r\n}\r\n\r\n.method__item {\r\n  display: flex;\r\n  width: calc(100% - 40px);\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 16px 0;\r\n  margin-left: 40px;\r\n  font-weight: 400;\r\n  font-size: 14px;\r\n  line-height: 16px;\r\n  letter-spacing: -0.02em;\r\n  color: #6A707F;\r\n  text-decoration: none;\r\n}\r\n\r\n.method__item:nth-of-type(2n) {\r\n  border-top: 1px solid #B9C6D1;\r\n  border-bottom: 1px solid #B9C6D1;\r\n}\r\n\r\n.method__item > img {\r\n  margin-left: 16px;\r\n}\r\n\r\n.main__button {\r\n  position: absolute;\r\n  bottom: 50px;\r\n}\r\n</style>","import { render } from \"./PayMethodChoice.vue?vue&type=template&id=1045429a&scoped=true\"\nimport script from \"./PayMethodChoice.vue?vue&type=script&lang=js\"\nexport * from \"./PayMethodChoice.vue?vue&type=script&lang=js\"\n\nimport \"./PayMethodChoice.vue?vue&type=style&index=0&id=1045429a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1045429a\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_0","alt","_createElementBlock","_hoisted_1","_createVNode","_component_Preloader","_ctx","showLoader","_hoisted_2","_component_router_link","to","redirectPage","token","onClick","_cache","$event","$store","dispatch","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","for","selectedPayMethod","id","type","name","checked","payMethod","_hoisted_8","_normalizeClass","inactive","hasSubscription","_hoisted_9","_hoisted_11","_component_Button","saveMethod","defineComponent","components","Preloader","defineAsyncComponent","Button","data","API","TOKEN","String","computed","this","state","abonentInfo","abonentType","watch","generateUrl","mounted","methods","dispatchMethod","setPayMethodCookie","document","cookie","$router","push","__exports__","render"],"sourceRoot":""}