"use strict";(self["webpackChunksubscriptions"]=self["webpackChunksubscriptions"]||[]).push([[65],{7562:function(e,s,t){t.r(s),t.d(s,{default:function(){return D}});var i=t(3396),r=t(7139);const c=e=>((0,i.dD)("data-v-1c7a6674"),e=e(),(0,i.Cn)(),e),n={class:"container service-select"},a={class:"block__title"},u={class:"services__list"},o=["onClick"],l={class:"service__title"},v={class:"price"},d={class:"sum"},S=c((()=>(0,i._)("span",{class:"ruble"}," ₽ ",-1))),h={key:0},E={key:1},b={class:"service__count"},p={class:"container basket__wrapper"};function _(e,s,t,c,_,m){const f=(0,i.up)("ServiceItem"),C=(0,i.up)("Basket");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("h5",a,(0,r.zw)(e.hasOneService?"Доступная услуга":"Выберите услуги"),1),e.hasOneService?((0,i.wg)(),(0,i.j4)(f,{key:0,service:e.formattedServices[0],"subscribe-duration":e.subscribeDuration},null,8,["service","subscribe-duration"])):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("div",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.formattedServices,(s=>((0,i.wg)(),(0,i.iD)("div",{key:s,class:(0,r.C_)({available:"1"===s["UNCHANGEABLE"],selected:s["SELECTED"],service:s}),onClick:t=>e.selectService(s["ID"])},[(0,i._)("span",l,(0,r.zw)("Видеонаблюдение"===s["SERVICE_NAME"]?"Камеры во дворе":"Умный домофон PRO"===s["SERVICE_NAME"]?"Умный домофон":s["SERVICE_NAME"]),1),(0,i._)("p",v,[(0,i._)("span",d,(0,r.zw)(s["PRICE"][e.subscribeDuration]),1),(0,i.Uk)("  "),S,12===e.subscribeDuration?((0,i.wg)(),(0,i.iD)("span",h," /год ")):((0,i.wg)(),(0,i.iD)("span",E," /мес "))])],10,o)))),128))]),(0,i._)("p",b," Выбрано "+(0,r.zw)(e.selectedServicesList.length)+" из "+(0,r.zw)(e.formattedServices.length)+" категорий ",1)],64)),(0,i._)("div",p,[(0,i.Wm)(C,{"selected-services-list":e.selectedServicesList,"services-sum":e.servicesSum,duration:e.subscribeDuration},null,8,["selected-services-list","services-sum","duration"])])])}t(7658);var m=(0,i.aZ)({name:"ServiceSelect",components:{Basket:(0,i.RC)((()=>t.e(472).then(t.bind(t,3472)))),ServiceItem:(0,i.RC)((()=>t.e(772).then(t.bind(t,6772))))},computed:{formattedServices(){return this.$store.state.formattedServices},hasOneService(){return 1===this.formattedServices.length},subscribeDuration(){return this.$store.state.duration},servicesSum(){return this.$store.state.servicesSum},selectedServicesList(){return this.$store.state.selectedServicesList},discounts(){return this.$store.state.discounts}},methods:{selectService(e){const s=this.servicesSum;let t=this.selectedServicesList;this.formattedServices.forEach((i=>{if(i.ID===e)if(i.SELECTED=!i.SELECTED,i.SELECTED){t.push(e);for(const e in s)s[e]+=i.PRICE[e]}else{for(const e in s)s[e]-=i.PRICE[e];t=t.filter((function(s){return s!==e}))}})),this.$store.dispatch("changeServicesSum",s),this.$store.dispatch("changeSelectedServices",t),this.$store.dispatch("sendUserEvent","YardSubChooseService")}}}),f=t(7477);const C=(0,f.Z)(m,[["render",_],["__scopeId","data-v-1c7a6674"]]);var D=C}}]);
//# sourceMappingURL=65.f1efe3f0.js.map